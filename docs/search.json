[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "BioStatistics & Graphics",
    "section": "",
    "text": "快速开始\n统计描述\n假设检验\n回归分析\n分类\n聚类\n降维\n生存分析"
  },
  {
    "objectID": "data_science.html#section",
    "href": "data_science.html#section",
    "title": "数据科学",
    "section": "",
    "text": "R Data Science Notes\nPython Data Science Notes"
  },
  {
    "objectID": "statistical_description.html",
    "href": "statistical_description.html",
    "title": "1  统计描述",
    "section": "",
    "text": "2 统计描述\nCode\nmtcars$mpg\n#&gt;  [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2 10.4\n#&gt; [16] 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4 15.8 19.7\n#&gt; [31] 15.0 21.4"
  },
  {
    "objectID": "statistical_description.html#集中趋势和离散程度",
    "href": "statistical_description.html#集中趋势和离散程度",
    "title": "1  统计描述",
    "section": "2.1 集中趋势和离散程度",
    "text": "2.1 集中趋势和离散程度\n\n\nCode\nmean(mtcars$mpg)     #算术均数\n#&gt; [1] 20.09062\n# 几何均数 G=^n^√X1X2...Xn\nmedian(mtcars$mpg)   #中位数\n#&gt; [1] 19.2\nquantile(mtcars$mpg,probs = c(0,0.1,0.25,0.5,0.75,1))     #分位数\n#&gt;     0%    10%    25%    50%    75%   100% \n#&gt; 10.400 14.340 15.425 19.200 22.800 33.900\n\n\n\nrange(mtcars$mpg)  # 值域\n#&gt; [1] 10.4 33.9\ndiff(range(mtcars$mpg) )  # 极差\n#&gt; [1] 23.5\nIQR(mtcars$mpg)      # 四分位数间距\n#&gt; [1] 7.375\nsd(mtcars$mpg)       #标准差\n#&gt; [1] 6.026948\nvar(mtcars$mpg)      #方差\n#&gt; [1] 36.3241\nCV=sd(mtcars$mpg)/mean(mtcars$mpg)*100  # 变异系数\npaste(CV,\"%\")\n#&gt; [1] \"29.9988081609661 %\"\n\n\n\nmad(mtcars$mpg,constant = 1.4826)      #绝对中位差 median absolute deviation\n#&gt; [1] 5.41149\n\nmedian(abs(mtcars$mpg-median(mtcars$mpg)))\n#&gt; [1] 3.65\nmedian(abs(mtcars$mpg-median(mtcars$mpg)))*1.4826\n#&gt; [1] 5.41149\n\n\n为了达到渐进正态一致性，mad() 的计算乘了一个比例因子constant=1.4826。"
  },
  {
    "objectID": "statistical_description.html#偏度和峰度",
    "href": "statistical_description.html#偏度和峰度",
    "title": "1  统计描述",
    "section": "2.2 偏度和峰度",
    "text": "2.2 偏度和峰度\n\nterm\n\n1偏度（Skewness）的计算公式：\n\nS = \\frac{n}{(n-1)(n-2)} \\sum_{i=1}^{n} \\left( \\frac{X_i-\\overline{X}}{SD} \\right)^3 ]\n2 峰度（Kurtosis）的计算公式：\n\nK = \\frac{n(n+1)}{(n-1)(n-2)(n-3)}  \\sum_{i=1}^{n} \\left( \\frac{X_i - \\overline{X}}{SD} \\right)^4  - \\frac{3(n-1)^2}{(n-2)(n-3)}\n\n\n\n\n\nCode\nskewness &lt;- function(x,na.rm=TRUE){\n    if(na.rm) x &lt;- x[!is.na(x)]\n    n=length(x)\n    μ=mean(x)\n    SD=sd(x)\n    sknewness = sum((x-μ)^3/SD^3)*n/((n-1)*(n-2))\n    return(sknewness=sknewness)\n}\nskewness(c(21.4,5.4,23.5,21.4,44.3,14.9))\n#&gt; [1] 0.9345253\n\nkurtosis&lt;-function(x,na.rm=TRUE){\n    if(na.rm) x&lt;-x[!is.na(x)]\n    n=length(x)\n    μ=mean(x)\n    SD=sd(x)\n    kurtosis=sum((x-μ)^4/SD^4)*n*(n+1)/((n-1)*(n-2)*(n-3))-(3*(n-1)^2)/((n-2)*(n-3))\n    return(kurtosis=kurtosis)\n}\n\nkurtosis(c(21.4,5.4,23.5,21.4,44.3,14.9))\n#&gt; [1] 2.225567"
  },
  {
    "objectID": "statistical_description.html#频数表和列联表",
    "href": "statistical_description.html#频数表和列联表",
    "title": "1  统计描述",
    "section": "2.3 频数表和列联表",
    "text": "2.3 频数表和列联表\n\n\nCode\ndata(gss_cat)  #因子数据集\nhead(gss_cat)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nyear\nmarital\nage\nrace\nrincome\npartyid\nrelig\ndenom\ntvhours\n\n\n\n\n2000\nNever married\n26\nWhite\n$8000 to 9999\nInd,near rep\nProtestant\nSouthern baptist\n12\n\n\n2000\nDivorced\n48\nWhite\n$8000 to 9999\nNot str republican\nProtestant\nBaptist-dk which\nNA\n\n\n2000\nWidowed\n67\nWhite\nNot applicable\nIndependent\nProtestant\nNo denomination\n2\n\n\n2000\nNever married\n39\nWhite\nNot applicable\nInd,near rep\nOrthodox-christian\nNot applicable\n4\n\n\n2000\nDivorced\n25\nWhite\nNot applicable\nNot str democrat\nNone\nNot applicable\n1\n\n\n2000\nMarried\n25\nWhite\n$20000 - 24999\nStrong democrat\nProtestant\nSouthern baptist\nNA\n\n\n\n\n\n\n\n\nCode\ntable(gss_cat$marital,gss_cat$race)\n#&gt;                \n#&gt;                 Other Black White Not applicable\n#&gt;   No answer         2     2    13              0\n#&gt;   Never married   633  1305  3478              0\n#&gt;   Separated       110   196   437              0\n#&gt;   Divorced        212   495  2676              0\n#&gt;   Widowed          70   262  1475              0\n#&gt;   Married         932   869  8316              0\ntbl &lt;- xtabs(~marital+race,data = gss_cat)\ntbl\n#&gt;                race\n#&gt; marital         Other Black White Not applicable\n#&gt;   No answer         2     2    13              0\n#&gt;   Never married   633  1305  3478              0\n#&gt;   Separated       110   196   437              0\n#&gt;   Divorced        212   495  2676              0\n#&gt;   Widowed          70   262  1475              0\n#&gt;   Married         932   869  8316              0\n\n\n\n\nCode\nprop.table(tbl)          #各单元格比例\n#&gt;                race\n#&gt; marital                Other        Black        White Not applicable\n#&gt;   No answer     9.309687e-05 9.309687e-05 6.051296e-04   0.000000e+00\n#&gt;   Never married 2.946516e-02 6.074571e-02 1.618955e-01   0.000000e+00\n#&gt;   Separated     5.120328e-03 9.123493e-03 2.034167e-02   0.000000e+00\n#&gt;   Divorced      9.868268e-03 2.304147e-02 1.245636e-01   0.000000e+00\n#&gt;   Widowed       3.258390e-03 1.219569e-02 6.865894e-02   0.000000e+00\n#&gt;   Married       4.338314e-02 4.045059e-02 3.870968e-01   0.000000e+00\nprop.table(tbl,margin = 1)        #行比例 \n#&gt;                race\n#&gt; marital              Other      Black      White Not applicable\n#&gt;   No answer     0.11764706 0.11764706 0.76470588     0.00000000\n#&gt;   Never married 0.11687592 0.24095273 0.64217134     0.00000000\n#&gt;   Separated     0.14804845 0.26379542 0.58815612     0.00000000\n#&gt;   Divorced      0.06266627 0.14631983 0.79101389     0.00000000\n#&gt;   Widowed       0.03873824 0.14499170 0.81627006     0.00000000\n#&gt;   Married       0.09212217 0.08589503 0.82198280     0.00000000\nmargin.table(x=tbl,margin = 2)      #列和\n#&gt; race\n#&gt;          Other          Black          White Not applicable \n#&gt;           1959           3129          16395              0\n\n \naddmargins(tbl)          #添加行和、列和\n#&gt;                race\n#&gt; marital         Other Black White Not applicable   Sum\n#&gt;   No answer         2     2    13              0    17\n#&gt;   Never married   633  1305  3478              0  5416\n#&gt;   Separated       110   196   437              0   743\n#&gt;   Divorced        212   495  2676              0  3383\n#&gt;   Widowed          70   262  1475              0  1807\n#&gt;   Married         932   869  8316              0 10117\n#&gt;   Sum            1959  3129 16395              0 21483\naddmargins(tbl,1)        #添加列和\n#&gt;                race\n#&gt; marital         Other Black White Not applicable\n#&gt;   No answer         2     2    13              0\n#&gt;   Never married   633  1305  3478              0\n#&gt;   Separated       110   196   437              0\n#&gt;   Divorced        212   495  2676              0\n#&gt;   Widowed          70   262  1475              0\n#&gt;   Married         932   869  8316              0\n#&gt;   Sum            1959  3129 16395              0\naddmargins(tbl,2)        #添加行和\n#&gt;                race\n#&gt; marital         Other Black White Not applicable   Sum\n#&gt;   No answer         2     2    13              0    17\n#&gt;   Never married   633  1305  3478              0  5416\n#&gt;   Separated       110   196   437              0   743\n#&gt;   Divorced        212   495  2676              0  3383\n#&gt;   Widowed          70   262  1475              0  1807\n#&gt;   Married         932   869  8316              0 10117\naddmargins(prop.table(tbl,1))\n#&gt;                race\n#&gt; marital              Other      Black      White Not applicable        Sum\n#&gt;   No answer     0.11764706 0.11764706 0.76470588     0.00000000 1.00000000\n#&gt;   Never married 0.11687592 0.24095273 0.64217134     0.00000000 1.00000000\n#&gt;   Separated     0.14804845 0.26379542 0.58815612     0.00000000 1.00000000\n#&gt;   Divorced      0.06266627 0.14631983 0.79101389     0.00000000 1.00000000\n#&gt;   Widowed       0.03873824 0.14499170 0.81627006     0.00000000 1.00000000\n#&gt;   Married       0.09212217 0.08589503 0.82198280     0.00000000 1.00000000\n#&gt;   Sum           0.57609812 0.99960178 4.42430011     0.00000000 6.00000000\n\nftable(tbl)   # \"平铺式\"列联表\n#&gt;               race Other Black White Not applicable\n#&gt; marital                                            \n#&gt; No answer              2     2    13              0\n#&gt; Never married        633  1305  3478              0\n#&gt; Separated            110   196   437              0\n#&gt; Divorced             212   495  2676              0\n#&gt; Widowed               70   262  1475              0\n#&gt; Married              932   869  8316              0"
  },
  {
    "objectID": "statistical_description.html#独立性检验分类变量",
    "href": "statistical_description.html#独立性检验分类变量",
    "title": "1  统计描述",
    "section": "2.4 独立性检验（分类变量）",
    "text": "2.4 独立性检验（分类变量）\n独立性：无关联或非线性关联\n\n\nCode\nM &lt;- as.table(rbind(c(762, 327, 468), c(484, 239, 477)))\ndimnames(M) &lt;- list(gender = c(\"F\", \"M\"),\n                    party = c(\"Democrat\",\"Independent\", \"Republican\"))\nM\n#&gt;       party\n#&gt; gender Democrat Independent Republican\n#&gt;      F      762         327        468\n#&gt;      M      484         239        477\n#   1. 卡方检验\nchisq &lt;- chisq.test(M)\nchisq$parameter # degrees of freedom\n#&gt; df \n#&gt;  2\n\n#   2. Fisher精确检验   Fisher's exact test to test independence of rows and columns in contingency table\nfisher.test(M)\n#&gt; \n#&gt;  Fisher's Exact Test for Count Data\n#&gt; \n#&gt; data:  M\n#&gt; p-value = 3.027e-07\n#&gt; alternative hypothesis: two.sided\n\n\nRabbits &lt;-\narray(c(0, 0, 6, 5,\n        3, 0, 3, 6,\n        6, 2, 0, 4,\n        5, 6, 1, 0,\n        2, 5, 0, 0),\n      dim = c(2, 2, 5),\n      dimnames = list(\n          Delay = c(\"None\", \"1.5h\"),\n          Response = c(\"Cured\", \"Died\"),\n          Penicillin.Level = c(\"1/8\", \"1/4\", \"1/2\", \"1\", \"4\")))\nRabbits\n#&gt; , , Penicillin.Level = 1/8\n#&gt; \n#&gt;       Response\n#&gt; Delay  Cured Died\n#&gt;   None     0    6\n#&gt;   1.5h     0    5\n#&gt; \n#&gt; , , Penicillin.Level = 1/4\n#&gt; \n#&gt;       Response\n#&gt; Delay  Cured Died\n#&gt;   None     3    3\n#&gt;   1.5h     0    6\n#&gt; \n#&gt; , , Penicillin.Level = 1/2\n#&gt; \n#&gt;       Response\n#&gt; Delay  Cured Died\n#&gt;   None     6    0\n#&gt;   1.5h     2    4\n#&gt; \n#&gt; , , Penicillin.Level = 1\n#&gt; \n#&gt;       Response\n#&gt; Delay  Cured Died\n#&gt;   None     5    1\n#&gt;   1.5h     6    0\n#&gt; \n#&gt; , , Penicillin.Level = 4\n#&gt; \n#&gt;       Response\n#&gt; Delay  Cured Died\n#&gt;   None     2    0\n#&gt;   1.5h     5    0\n#   3. Cochran-Mantel-Haenszel 卡方检验  两个变量在第三个变量的每一水平下是否独立\nmantelhaen.test(Rabbits)\n#&gt; \n#&gt;  Mantel-Haenszel chi-squared test with continuity correction\n#&gt; \n#&gt; data:  Rabbits\n#&gt; Mantel-Haenszel X-squared = 3.9286, df = 1, p-value = 0.04747\n#&gt; alternative hypothesis: true common odds ratio is not equal to 1\n#&gt; 95 percent confidence interval:\n#&gt;   1.026713 47.725133\n#&gt; sample estimates:\n#&gt; common odds ratio \n#&gt;                 7"
  },
  {
    "objectID": "statistical_description.html#相关性检验定量变量",
    "href": "statistical_description.html#相关性检验定量变量",
    "title": "1  统计描述",
    "section": "2.5 相关性检验（定量变量）",
    "text": "2.5 相关性检验（定量变量）\n相关性：线性关联\n\n\nCode\nstates &lt;- state.x77[,1:6]\ncov(states)    # 协方差矩阵\n#&gt;               Population      Income   Illiteracy     Life Exp      Murder\n#&gt; Population 19931683.7588 571229.7796  292.8679592 -407.8424612 5663.523714\n#&gt; Income       571229.7796 377573.3061 -163.7020408  280.6631837 -521.894286\n#&gt; Illiteracy      292.8680   -163.7020    0.3715306   -0.4815122    1.581776\n#&gt; Life Exp       -407.8425    280.6632   -0.4815122    1.8020204   -3.869480\n#&gt; Murder         5663.5237   -521.8943    1.5817755   -3.8694804   13.627465\n#&gt; HS Grad       -3551.5096   3076.7690   -3.2354694    6.3126849  -14.549616\n#&gt;                 HS Grad\n#&gt; Population -3551.509551\n#&gt; Income      3076.768980\n#&gt; Illiteracy    -3.235469\n#&gt; Life Exp       6.312685\n#&gt; Murder       -14.549616\n#&gt; HS Grad       65.237894\n\n\n\n2.5.0.1 相关系数\n\n\nCode\n# Pearson's 积差相关系数\ncor(states,use = \"everything\",method=\"pearson\") # default\n#&gt;             Population     Income Illiteracy    Life Exp     Murder     HS Grad\n#&gt; Population  1.00000000  0.2082276  0.1076224 -0.06805195  0.3436428 -0.09848975\n#&gt; Income      0.20822756  1.0000000 -0.4370752  0.34025534 -0.2300776  0.61993232\n#&gt; Illiteracy  0.10762237 -0.4370752  1.0000000 -0.58847793  0.7029752 -0.65718861\n#&gt; Life Exp   -0.06805195  0.3402553 -0.5884779  1.00000000 -0.7808458  0.58221620\n#&gt; Murder      0.34364275 -0.2300776  0.7029752 -0.78084575  1.0000000 -0.48797102\n#&gt; HS Grad    -0.09848975  0.6199323 -0.6571886  0.58221620 -0.4879710  1.00000000\n\n# Spearman's rank相关系数\ncor(states,method = \"spearman\")\n#&gt;            Population     Income Illiteracy   Life Exp     Murder    HS Grad\n#&gt; Population  1.0000000  0.1246098  0.3130496 -0.1040171  0.3457401 -0.3833649\n#&gt; Income      0.1246098  1.0000000 -0.3145948  0.3241050 -0.2174623  0.5104809\n#&gt; Illiteracy  0.3130496 -0.3145948  1.0000000 -0.5553735  0.6723592 -0.6545396\n#&gt; Life Exp   -0.1040171  0.3241050 -0.5553735  1.0000000 -0.7802406  0.5239410\n#&gt; Murder      0.3457401 -0.2174623  0.6723592 -0.7802406  1.0000000 -0.4367330\n#&gt; HS Grad    -0.3833649  0.5104809 -0.6545396  0.5239410 -0.4367330  1.0000000\n\n# Kendall's tau相关系数\ncor(states,method = \"kendall\")\n#&gt;             Population      Income Illiteracy    Life Exp     Murder    HS Grad\n#&gt; Population  1.00000000  0.08408163  0.2123063 -0.06865555  0.2364983 -0.2353905\n#&gt; Income      0.08408163  1.00000000 -0.1970811  0.21904389 -0.1448450  0.3579896\n#&gt; Illiteracy  0.21230629 -0.19708113  1.0000000 -0.42852098  0.5155359 -0.5047401\n#&gt; Life Exp   -0.06865555  0.21904389 -0.4285210  1.00000000 -0.5997547  0.3952537\n#&gt; Murder      0.23649826 -0.14484495  0.5155359 -0.59975465  1.0000000 -0.2884066\n#&gt; HS Grad    -0.23539045  0.35798964 -0.5047401  0.39525368 -0.2884066  1.0000000\n\n\n\n\n2.5.0.2 相关图（correlogram）\nSection 5.2\n\n\n2.5.0.3 显著性检验\n\n\nCode\ncor.test(state.x77[,\"Income\"],state.x77[,\"Illiteracy\"])\n#&gt; \n#&gt;  Pearson's product-moment correlation\n#&gt; \n#&gt; data:  state.x77[, \"Income\"] and state.x77[, \"Illiteracy\"]\n#&gt; t = -3.3668, df = 48, p-value = 0.001505\n#&gt; alternative hypothesis: true correlation is not equal to 0\n#&gt; 95 percent confidence interval:\n#&gt;  -0.6378257 -0.1807128\n#&gt; sample estimates:\n#&gt;        cor \n#&gt; -0.4370752\n\n\npsych包corr.test() 计算相关矩阵和显著性水平\n多分格（polychoric）相关系数、多系列（polyserial）相关系数\n\n\n2.5.0.4 偏相关系数\n在控制其他变量的条件下，分析两个定量变量之间的相关关系\nggm包pcor() , pcor.test()"
  },
  {
    "objectID": "statistical_description.html#数据可视化",
    "href": "statistical_description.html#数据可视化",
    "title": "1  统计描述",
    "section": "2.6 数据可视化",
    "text": "2.6 数据可视化\nbase_graphics.qmd\nggplot2_graphics.qmd"
  },
  {
    "objectID": "statistical_description.html#footnotes",
    "href": "statistical_description.html#footnotes",
    "title": "1  统计描述",
    "section": "",
    "text": "WPS Excel↩︎\nWPS Excel↩︎"
  },
  {
    "objectID": "base_graphics.html#图形参数",
    "href": "base_graphics.html#图形参数",
    "title": "2  basic graphics",
    "section": "2.1 图形参数",
    "text": "2.1 图形参数\n\n2.1.1 par()\n\n\nCode\npar()     #返回当前设置，一个list\nopar&lt;-par(no.readonly = TRUE)\npar(opar)  #恢复默认设置\npar(pch=22) #空心=0、1、2、5、6,  黑色=15:20,  col边界色  bg= 21-25填充\npar(lty=1)  # 1=实线 2:6=虚线\npar(cex.main=2,font.main=4,col.main=\"black\")#font字体样式  4=粗斜体\npar(cex.sub=1.5,font.sub=3,col.sub=\"gray\")  # 3=斜体\npar(cex.lab=1.25,font.lab=2,col.lab=\"purple\")   # 2=粗体\npar(cex.axis=1,font.axis=1,col.axis=\"green4\") # 1=常规\npar(fg=\"black\")   #边框和刻度颜色\npar(bg=\"white\")  #背景色\npar(pin=c(4,3))        #宽×高 1英寸=1.7\npar(mar=c(5,4,4,2)+0.1)    #默认值，边距\n\npar(opar) \n\n\n\n\n2.1.2 颜色\n\n\nCode\ncolors()\n#&gt;   [1] \"white\"                \"aliceblue\"            \"antiquewhite\"        \n#&gt;   [4] \"antiquewhite1\"        \"antiquewhite2\"        \"antiquewhite3\"       \n#&gt;   [7] \"antiquewhite4\"        \"aquamarine\"           \"aquamarine1\"         \n#&gt;  [10] \"aquamarine2\"          \"aquamarine3\"          \"aquamarine4\"         \n#&gt;  [13] \"azure\"                \"azure1\"               \"azure2\"              \n#&gt;  [16] \"azure3\"               \"azure4\"               \"beige\"               \n#&gt;  [19] \"bisque\"               \"bisque1\"              \"bisque2\"             \n#&gt;  [22] \"bisque3\"              \"bisque4\"              \"black\"               \n#&gt;  [25] \"blanchedalmond\"       \"blue\"                 \"blue1\"               \n#&gt;  [28] \"blue2\"                \"blue3\"                \"blue4\"               \n#&gt;  [31] \"blueviolet\"           \"brown\"                \"brown1\"              \n#&gt;  [34] \"brown2\"               \"brown3\"               \"brown4\"              \n#&gt;  [37] \"burlywood\"            \"burlywood1\"           \"burlywood2\"          \n#&gt;  [40] \"burlywood3\"           \"burlywood4\"           \"cadetblue\"           \n#&gt;  [43] \"cadetblue1\"           \"cadetblue2\"           \"cadetblue3\"          \n#&gt;  [46] \"cadetblue4\"           \"chartreuse\"           \"chartreuse1\"         \n#&gt;  [49] \"chartreuse2\"          \"chartreuse3\"          \"chartreuse4\"         \n#&gt;  [52] \"chocolate\"            \"chocolate1\"           \"chocolate2\"          \n#&gt;  [55] \"chocolate3\"           \"chocolate4\"           \"coral\"               \n#&gt;  [58] \"coral1\"               \"coral2\"               \"coral3\"              \n#&gt;  [61] \"coral4\"               \"cornflowerblue\"       \"cornsilk\"            \n#&gt;  [64] \"cornsilk1\"            \"cornsilk2\"            \"cornsilk3\"           \n#&gt;  [67] \"cornsilk4\"            \"cyan\"                 \"cyan1\"               \n#&gt;  [70] \"cyan2\"                \"cyan3\"                \"cyan4\"               \n#&gt;  [73] \"darkblue\"             \"darkcyan\"             \"darkgoldenrod\"       \n#&gt;  [76] \"darkgoldenrod1\"       \"darkgoldenrod2\"       \"darkgoldenrod3\"      \n#&gt;  [79] \"darkgoldenrod4\"       \"darkgray\"             \"darkgreen\"           \n#&gt;  [82] \"darkgrey\"             \"darkkhaki\"            \"darkmagenta\"         \n#&gt;  [85] \"darkolivegreen\"       \"darkolivegreen1\"      \"darkolivegreen2\"     \n#&gt;  [88] \"darkolivegreen3\"      \"darkolivegreen4\"      \"darkorange\"          \n#&gt;  [91] \"darkorange1\"          \"darkorange2\"          \"darkorange3\"         \n#&gt;  [94] \"darkorange4\"          \"darkorchid\"           \"darkorchid1\"         \n#&gt;  [97] \"darkorchid2\"          \"darkorchid3\"          \"darkorchid4\"         \n#&gt; [100] \"darkred\"              \"darksalmon\"           \"darkseagreen\"        \n#&gt; [103] \"darkseagreen1\"        \"darkseagreen2\"        \"darkseagreen3\"       \n#&gt; [106] \"darkseagreen4\"        \"darkslateblue\"        \"darkslategray\"       \n#&gt; [109] \"darkslategray1\"       \"darkslategray2\"       \"darkslategray3\"      \n#&gt; [112] \"darkslategray4\"       \"darkslategrey\"        \"darkturquoise\"       \n#&gt; [115] \"darkviolet\"           \"deeppink\"             \"deeppink1\"           \n#&gt; [118] \"deeppink2\"            \"deeppink3\"            \"deeppink4\"           \n#&gt; [121] \"deepskyblue\"          \"deepskyblue1\"         \"deepskyblue2\"        \n#&gt; [124] \"deepskyblue3\"         \"deepskyblue4\"         \"dimgray\"             \n#&gt; [127] \"dimgrey\"              \"dodgerblue\"           \"dodgerblue1\"         \n#&gt; [130] \"dodgerblue2\"          \"dodgerblue3\"          \"dodgerblue4\"         \n#&gt; [133] \"firebrick\"            \"firebrick1\"           \"firebrick2\"          \n#&gt; [136] \"firebrick3\"           \"firebrick4\"           \"floralwhite\"         \n#&gt; [139] \"forestgreen\"          \"gainsboro\"            \"ghostwhite\"          \n#&gt; [142] \"gold\"                 \"gold1\"                \"gold2\"               \n#&gt; [145] \"gold3\"                \"gold4\"                \"goldenrod\"           \n#&gt; [148] \"goldenrod1\"           \"goldenrod2\"           \"goldenrod3\"          \n#&gt; [151] \"goldenrod4\"           \"gray\"                 \"gray0\"               \n#&gt; [154] \"gray1\"                \"gray2\"                \"gray3\"               \n#&gt; [157] \"gray4\"                \"gray5\"                \"gray6\"               \n#&gt; [160] \"gray7\"                \"gray8\"                \"gray9\"               \n#&gt; [163] \"gray10\"               \"gray11\"               \"gray12\"              \n#&gt; [166] \"gray13\"               \"gray14\"               \"gray15\"              \n#&gt; [169] \"gray16\"               \"gray17\"               \"gray18\"              \n#&gt; [172] \"gray19\"               \"gray20\"               \"gray21\"              \n#&gt; [175] \"gray22\"               \"gray23\"               \"gray24\"              \n#&gt; [178] \"gray25\"               \"gray26\"               \"gray27\"              \n#&gt; [181] \"gray28\"               \"gray29\"               \"gray30\"              \n#&gt; [184] \"gray31\"               \"gray32\"               \"gray33\"              \n#&gt; [187] \"gray34\"               \"gray35\"               \"gray36\"              \n#&gt; [190] \"gray37\"               \"gray38\"               \"gray39\"              \n#&gt; [193] \"gray40\"               \"gray41\"               \"gray42\"              \n#&gt; [196] \"gray43\"               \"gray44\"               \"gray45\"              \n#&gt; [199] \"gray46\"               \"gray47\"               \"gray48\"              \n#&gt; [202] \"gray49\"               \"gray50\"               \"gray51\"              \n#&gt; [205] \"gray52\"               \"gray53\"               \"gray54\"              \n#&gt; [208] \"gray55\"               \"gray56\"               \"gray57\"              \n#&gt; [211] \"gray58\"               \"gray59\"               \"gray60\"              \n#&gt; [214] \"gray61\"               \"gray62\"               \"gray63\"              \n#&gt; [217] \"gray64\"               \"gray65\"               \"gray66\"              \n#&gt; [220] \"gray67\"               \"gray68\"               \"gray69\"              \n#&gt; [223] \"gray70\"               \"gray71\"               \"gray72\"              \n#&gt; [226] \"gray73\"               \"gray74\"               \"gray75\"              \n#&gt; [229] \"gray76\"               \"gray77\"               \"gray78\"              \n#&gt; [232] \"gray79\"               \"gray80\"               \"gray81\"              \n#&gt; [235] \"gray82\"               \"gray83\"               \"gray84\"              \n#&gt; [238] \"gray85\"               \"gray86\"               \"gray87\"              \n#&gt; [241] \"gray88\"               \"gray89\"               \"gray90\"              \n#&gt; [244] \"gray91\"               \"gray92\"               \"gray93\"              \n#&gt; [247] \"gray94\"               \"gray95\"               \"gray96\"              \n#&gt; [250] \"gray97\"               \"gray98\"               \"gray99\"              \n#&gt; [253] \"gray100\"              \"green\"                \"green1\"              \n#&gt; [256] \"green2\"               \"green3\"               \"green4\"              \n#&gt; [259] \"greenyellow\"          \"grey\"                 \"grey0\"               \n#&gt; [262] \"grey1\"                \"grey2\"                \"grey3\"               \n#&gt; [265] \"grey4\"                \"grey5\"                \"grey6\"               \n#&gt; [268] \"grey7\"                \"grey8\"                \"grey9\"               \n#&gt; [271] \"grey10\"               \"grey11\"               \"grey12\"              \n#&gt; [274] \"grey13\"               \"grey14\"               \"grey15\"              \n#&gt; [277] \"grey16\"               \"grey17\"               \"grey18\"              \n#&gt; [280] \"grey19\"               \"grey20\"               \"grey21\"              \n#&gt; [283] \"grey22\"               \"grey23\"               \"grey24\"              \n#&gt; [286] \"grey25\"               \"grey26\"               \"grey27\"              \n#&gt; [289] \"grey28\"               \"grey29\"               \"grey30\"              \n#&gt; [292] \"grey31\"               \"grey32\"               \"grey33\"              \n#&gt; [295] \"grey34\"               \"grey35\"               \"grey36\"              \n#&gt; [298] \"grey37\"               \"grey38\"               \"grey39\"              \n#&gt; [301] \"grey40\"               \"grey41\"               \"grey42\"              \n#&gt; [304] \"grey43\"               \"grey44\"               \"grey45\"              \n#&gt; [307] \"grey46\"               \"grey47\"               \"grey48\"              \n#&gt; [310] \"grey49\"               \"grey50\"               \"grey51\"              \n#&gt; [313] \"grey52\"               \"grey53\"               \"grey54\"              \n#&gt; [316] \"grey55\"               \"grey56\"               \"grey57\"              \n#&gt; [319] \"grey58\"               \"grey59\"               \"grey60\"              \n#&gt; [322] \"grey61\"               \"grey62\"               \"grey63\"              \n#&gt; [325] \"grey64\"               \"grey65\"               \"grey66\"              \n#&gt; [328] \"grey67\"               \"grey68\"               \"grey69\"              \n#&gt; [331] \"grey70\"               \"grey71\"               \"grey72\"              \n#&gt; [334] \"grey73\"               \"grey74\"               \"grey75\"              \n#&gt; [337] \"grey76\"               \"grey77\"               \"grey78\"              \n#&gt; [340] \"grey79\"               \"grey80\"               \"grey81\"              \n#&gt; [343] \"grey82\"               \"grey83\"               \"grey84\"              \n#&gt; [346] \"grey85\"               \"grey86\"               \"grey87\"              \n#&gt; [349] \"grey88\"               \"grey89\"               \"grey90\"              \n#&gt; [352] \"grey91\"               \"grey92\"               \"grey93\"              \n#&gt; [355] \"grey94\"               \"grey95\"               \"grey96\"              \n#&gt; [358] \"grey97\"               \"grey98\"               \"grey99\"              \n#&gt; [361] \"grey100\"              \"honeydew\"             \"honeydew1\"           \n#&gt; [364] \"honeydew2\"            \"honeydew3\"            \"honeydew4\"           \n#&gt; [367] \"hotpink\"              \"hotpink1\"             \"hotpink2\"            \n#&gt; [370] \"hotpink3\"             \"hotpink4\"             \"indianred\"           \n#&gt; [373] \"indianred1\"           \"indianred2\"           \"indianred3\"          \n#&gt; [376] \"indianred4\"           \"ivory\"                \"ivory1\"              \n#&gt; [379] \"ivory2\"               \"ivory3\"               \"ivory4\"              \n#&gt; [382] \"khaki\"                \"khaki1\"               \"khaki2\"              \n#&gt; [385] \"khaki3\"               \"khaki4\"               \"lavender\"            \n#&gt; [388] \"lavenderblush\"        \"lavenderblush1\"       \"lavenderblush2\"      \n#&gt; [391] \"lavenderblush3\"       \"lavenderblush4\"       \"lawngreen\"           \n#&gt; [394] \"lemonchiffon\"         \"lemonchiffon1\"        \"lemonchiffon2\"       \n#&gt; [397] \"lemonchiffon3\"        \"lemonchiffon4\"        \"lightblue\"           \n#&gt; [400] \"lightblue1\"           \"lightblue2\"           \"lightblue3\"          \n#&gt; [403] \"lightblue4\"           \"lightcoral\"           \"lightcyan\"           \n#&gt; [406] \"lightcyan1\"           \"lightcyan2\"           \"lightcyan3\"          \n#&gt; [409] \"lightcyan4\"           \"lightgoldenrod\"       \"lightgoldenrod1\"     \n#&gt; [412] \"lightgoldenrod2\"      \"lightgoldenrod3\"      \"lightgoldenrod4\"     \n#&gt; [415] \"lightgoldenrodyellow\" \"lightgray\"            \"lightgreen\"          \n#&gt; [418] \"lightgrey\"            \"lightpink\"            \"lightpink1\"          \n#&gt; [421] \"lightpink2\"           \"lightpink3\"           \"lightpink4\"          \n#&gt; [424] \"lightsalmon\"          \"lightsalmon1\"         \"lightsalmon2\"        \n#&gt; [427] \"lightsalmon3\"         \"lightsalmon4\"         \"lightseagreen\"       \n#&gt; [430] \"lightskyblue\"         \"lightskyblue1\"        \"lightskyblue2\"       \n#&gt; [433] \"lightskyblue3\"        \"lightskyblue4\"        \"lightslateblue\"      \n#&gt; [436] \"lightslategray\"       \"lightslategrey\"       \"lightsteelblue\"      \n#&gt; [439] \"lightsteelblue1\"      \"lightsteelblue2\"      \"lightsteelblue3\"     \n#&gt; [442] \"lightsteelblue4\"      \"lightyellow\"          \"lightyellow1\"        \n#&gt; [445] \"lightyellow2\"         \"lightyellow3\"         \"lightyellow4\"        \n#&gt; [448] \"limegreen\"            \"linen\"                \"magenta\"             \n#&gt; [451] \"magenta1\"             \"magenta2\"             \"magenta3\"            \n#&gt; [454] \"magenta4\"             \"maroon\"               \"maroon1\"             \n#&gt; [457] \"maroon2\"              \"maroon3\"              \"maroon4\"             \n#&gt; [460] \"mediumaquamarine\"     \"mediumblue\"           \"mediumorchid\"        \n#&gt; [463] \"mediumorchid1\"        \"mediumorchid2\"        \"mediumorchid3\"       \n#&gt; [466] \"mediumorchid4\"        \"mediumpurple\"         \"mediumpurple1\"       \n#&gt; [469] \"mediumpurple2\"        \"mediumpurple3\"        \"mediumpurple4\"       \n#&gt; [472] \"mediumseagreen\"       \"mediumslateblue\"      \"mediumspringgreen\"   \n#&gt; [475] \"mediumturquoise\"      \"mediumvioletred\"      \"midnightblue\"        \n#&gt; [478] \"mintcream\"            \"mistyrose\"            \"mistyrose1\"          \n#&gt; [481] \"mistyrose2\"           \"mistyrose3\"           \"mistyrose4\"          \n#&gt; [484] \"moccasin\"             \"navajowhite\"          \"navajowhite1\"        \n#&gt; [487] \"navajowhite2\"         \"navajowhite3\"         \"navajowhite4\"        \n#&gt; [490] \"navy\"                 \"navyblue\"             \"oldlace\"             \n#&gt; [493] \"olivedrab\"            \"olivedrab1\"           \"olivedrab2\"          \n#&gt; [496] \"olivedrab3\"           \"olivedrab4\"           \"orange\"              \n#&gt; [499] \"orange1\"              \"orange2\"              \"orange3\"             \n#&gt; [502] \"orange4\"              \"orangered\"            \"orangered1\"          \n#&gt; [505] \"orangered2\"           \"orangered3\"           \"orangered4\"          \n#&gt; [508] \"orchid\"               \"orchid1\"              \"orchid2\"             \n#&gt; [511] \"orchid3\"              \"orchid4\"              \"palegoldenrod\"       \n#&gt; [514] \"palegreen\"            \"palegreen1\"           \"palegreen2\"          \n#&gt; [517] \"palegreen3\"           \"palegreen4\"           \"paleturquoise\"       \n#&gt; [520] \"paleturquoise1\"       \"paleturquoise2\"       \"paleturquoise3\"      \n#&gt; [523] \"paleturquoise4\"       \"palevioletred\"        \"palevioletred1\"      \n#&gt; [526] \"palevioletred2\"       \"palevioletred3\"       \"palevioletred4\"      \n#&gt; [529] \"papayawhip\"           \"peachpuff\"            \"peachpuff1\"          \n#&gt; [532] \"peachpuff2\"           \"peachpuff3\"           \"peachpuff4\"          \n#&gt; [535] \"peru\"                 \"pink\"                 \"pink1\"               \n#&gt; [538] \"pink2\"                \"pink3\"                \"pink4\"               \n#&gt; [541] \"plum\"                 \"plum1\"                \"plum2\"               \n#&gt; [544] \"plum3\"                \"plum4\"                \"powderblue\"          \n#&gt; [547] \"purple\"               \"purple1\"              \"purple2\"             \n#&gt; [550] \"purple3\"              \"purple4\"              \"red\"                 \n#&gt; [553] \"red1\"                 \"red2\"                 \"red3\"                \n#&gt; [556] \"red4\"                 \"rosybrown\"            \"rosybrown1\"          \n#&gt; [559] \"rosybrown2\"           \"rosybrown3\"           \"rosybrown4\"          \n#&gt; [562] \"royalblue\"            \"royalblue1\"           \"royalblue2\"          \n#&gt; [565] \"royalblue3\"           \"royalblue4\"           \"saddlebrown\"         \n#&gt; [568] \"salmon\"               \"salmon1\"              \"salmon2\"             \n#&gt; [571] \"salmon3\"              \"salmon4\"              \"sandybrown\"          \n#&gt; [574] \"seagreen\"             \"seagreen1\"            \"seagreen2\"           \n#&gt; [577] \"seagreen3\"            \"seagreen4\"            \"seashell\"            \n#&gt; [580] \"seashell1\"            \"seashell2\"            \"seashell3\"           \n#&gt; [583] \"seashell4\"            \"sienna\"               \"sienna1\"             \n#&gt; [586] \"sienna2\"              \"sienna3\"              \"sienna4\"             \n#&gt; [589] \"skyblue\"              \"skyblue1\"             \"skyblue2\"            \n#&gt; [592] \"skyblue3\"             \"skyblue4\"             \"slateblue\"           \n#&gt; [595] \"slateblue1\"           \"slateblue2\"           \"slateblue3\"          \n#&gt; [598] \"slateblue4\"           \"slategray\"            \"slategray1\"          \n#&gt; [601] \"slategray2\"           \"slategray3\"           \"slategray4\"          \n#&gt; [604] \"slategrey\"            \"snow\"                 \"snow1\"               \n#&gt; [607] \"snow2\"                \"snow3\"                \"snow4\"               \n#&gt; [610] \"springgreen\"          \"springgreen1\"         \"springgreen2\"        \n#&gt; [613] \"springgreen3\"         \"springgreen4\"         \"steelblue\"           \n#&gt; [616] \"steelblue1\"           \"steelblue2\"           \"steelblue3\"          \n#&gt; [619] \"steelblue4\"           \"tan\"                  \"tan1\"                \n#&gt; [622] \"tan2\"                 \"tan3\"                 \"tan4\"                \n#&gt; [625] \"thistle\"              \"thistle1\"             \"thistle2\"            \n#&gt; [628] \"thistle3\"             \"thistle4\"             \"tomato\"              \n#&gt; [631] \"tomato1\"              \"tomato2\"              \"tomato3\"             \n#&gt; [634] \"tomato4\"              \"turquoise\"            \"turquoise1\"          \n#&gt; [637] \"turquoise2\"           \"turquoise3\"           \"turquoise4\"          \n#&gt; [640] \"violet\"               \"violetred\"            \"violetred1\"          \n#&gt; [643] \"violetred2\"           \"violetred3\"           \"violetred4\"          \n#&gt; [646] \"wheat\"                \"wheat1\"               \"wheat2\"              \n#&gt; [649] \"wheat3\"               \"wheat4\"               \"whitesmoke\"          \n#&gt; [652] \"yellow\"               \"yellow1\"              \"yellow2\"             \n#&gt; [655] \"yellow3\"              \"yellow4\"              \"yellowgreen\"\nrgb(red = 0,green = 1,blue = 1)\n#&gt; [1] \"#00FFFF\"\nhsv()\n#&gt; [1] \"#FF0000\"\nbarplot(1:10,col=c(1:10))\n\n\n\n\n\nCode\n\n### n种连续的彩虹色  十六进制\nrainbow(10)        \n#&gt;  [1] \"#FF0000\" \"#FF9900\" \"#CCFF00\" \"#33FF00\" \"#00FF66\" \"#00FFFF\" \"#0066FF\"\n#&gt;  [8] \"#3300FF\" \"#CC00FF\" \"#FF0099\"\nbarplot(rep(1:15),col=rainbow(10))\n\n\n\n\n\nCode\n\n### n阶灰度色 十六进制\ngray(0:15/15)      \n#&gt;  [1] \"#000000\" \"#111111\" \"#222222\" \"#333333\" \"#444444\" \"#555555\" \"#666666\"\n#&gt;  [8] \"#777777\" \"#888888\" \"#999999\" \"#AAAAAA\" \"#BBBBBB\" \"#CCCCCC\" \"#DDDDDD\"\n#&gt; [15] \"#EEEEEE\" \"#FFFFFF\"\nbarplot(rep(1,15),col=gray(0:15/15))\n\n\n\n\n\nCode\n\nlibrary(RColorBrewer)\nRColorBrewer::display.brewer.all()\n\n\n\n\n\nCode\nbarplot(rep(1,7),col=brewer.pal(7,\"Set3\"))\n\n\n\n\n\n\n\nCode\ndose&lt;-c(20,30,40,45,60)\nA&lt;-c(16,20,27,40,60)\nB&lt;-c(15,18,25,31,40)\nplot(dose,A,type=\"b\",           #type=\"b\" 线连接点\n     \n     col=\"red\",lty=1,pch=18,lwd=3,cex=2,    #点和线属性\n     \n     main=\"Clinical trials for Drug A\",     #主标题\n     sub=\"this is my data\",                  #副标题\n     xlab=\"Dosage\",ylab=\"Drug Response\",    #坐标轴标签\n     xlim=c(0,60),ylim = c(0,70)           #坐标轴范围\n)"
  },
  {
    "objectID": "base_graphics.html#自定义图形标题坐标轴标签",
    "href": "base_graphics.html#自定义图形标题坐标轴标签",
    "title": "2  basic graphics",
    "section": "2.2 自定义图形标题、坐标轴标签",
    "text": "2.2 自定义图形标题、坐标轴标签\n\n\nCode\npar(mfrow=c(1,2))  \nhist(A)\nhist(A,ann=FALSE)    #ann=FALSE 移除默认标题\ntitle(main=\"main title\", col.main=\"purple\",       #主标题\n      sub=\"subtitle\", col.sub=\"pink\",            #副标题\n      xlab=\"Dosage\",ylab=\"Drug Response\",col.lab=\"red\" ,cex.lab=0.75\n      )\n\n\n\n\n\nCode\npar(opar)\n#&gt; Error in eval(expr, envir, enclos): object 'opar' not found"
  },
  {
    "objectID": "base_graphics.html#自定义坐标轴图例文本",
    "href": "base_graphics.html#自定义坐标轴图例文本",
    "title": "2  basic graphics",
    "section": "2.3 自定义坐标轴、图例、文本",
    "text": "2.3 自定义坐标轴、图例、文本\n\n\nCode\nx&lt;-c(1:10)\ny&lt;-x\nz&lt;-10/x\npar(mar=c(5,4,4,4))\npar(mfrow=c(1,2))\nplot(x,y)\nplot(x,y,axes=FALSE)#禁用坐标轴框架、刻度\n\n\n\n\n\nCode\nplot(x,y,axes=FALSE,frame.plot = TRUE)#禁用刻度\n\nplot(x,y,type=\"b\",pch=21,col=\"red\",bg=\"black\",\n     xaxt=\"n\",yaxt=\"n\",lty=1  #xaxt、yaxt 禁用X、Y坐标轴刻度\n     )\nlines(x,z,type=\"b\",pch=22,col=\"blue\",lty=2,bg=\"green\")  #添加新图形\n#绘制自定义坐标轴\n#axis(side,at= ,labels = ,pos = ,las=,tck=,…)\n#side  1=下，2=左，3=上，4=右 \n#at   数值向量，绘制刻度线的位置\n#labels  字符序列，刻度线的文字标签\n#las    0=垂直于坐标轴，2=平行于坐标轴   \n#tck=-0.01    刻度线的长度   1=网格线 0=禁用刻度  负值在图形外侧，正值在图形内侧\naxis(side = 1,at=x,labels = x,las=0,tck=-0.1)\naxis(side=2,at=x,labels=x,col.axis=\"red\",las=2,tck=0.1)\naxis(side=4,at=z,labels=round(z,digits=3),col.axis=\"blue\",las=2,tck=-.05)\n\n#library(Hmisc)\n#minor.tick(nx=2,ny=2,tick.ratio = .5)#添加次要刻度线\n\n## 图例  legend(location, title, legend,...)\npar(lwd=2,cex=1,font.lab=2)\nlegend(\"top\",inset=0.05,title=\"函数\",c(\"Y=X\",\"Y=10/x\"),text.col = \"green\",\n       lty=c(3,2),pch=c(21,22),col=c(\"red\",\"blue\",bg=c(\"black\",\"green\")))"
  },
  {
    "objectID": "base_graphics.html#添加文本",
    "href": "base_graphics.html#添加文本",
    "title": "2  basic graphics",
    "section": "2.4 添加文本",
    "text": "2.4 添加文本\n\n\nCode\n#mtext(\"text\",side,line=,)\nmtext(\"Y=10/X\",side=4,line=3,cex.lab=1,las=2,col=\"blue\")  #边界文本\n#&gt; Error in mtext(\"Y=10/X\", side = 4, line = 3, cex.lab = 1, las = 2, col = \"blue\"): plot.new has not been called yet\ntitle(main=\"my graphics\",\n      sub=\"subtitle\",\n      xlab=\"X values\",\n      ylab=\"Y=X\")\n#&gt; Error in title(main = \"my graphics\", sub = \"subtitle\", xlab = \"X values\", : plot.new has not been called yet\nabline(h=c(1,2,3,4),lty=2,col=\"red\")  ###添加水平辅助线 \n#&gt; Error in int_abline(a = a, b = b, h = h, v = v, untf = untf, ...): plot.new has not been called yet\nabline(v=c(8,9,10),lty=4,col=\"blue\")  ###添加垂直辅助线 \n#&gt; Error in int_abline(a = a, b = b, h = h, v = v, untf = untf, ...): plot.new has not been called yet\n\n\n# text(x,y,\"text\",pos=)  1=下，2=左，3=上，4=右\ntext(5,5,\"文本1\",pos=4,adj=0,cex=2,col=\"green\")\n#&gt; Error in text.default(5, 5, \"文本1\", pos = 4, adj = 0, cex = 2, col = \"green\"): plot.new has not been called yet\ntext(locator[1],\"文本\",pos=4,adj=0,cex=2,col=\"green\")######鼠标点击确定位置\n#&gt; Error in locator[1]: object of type 'closure' is not subsettable\n\n\n\n\nCode\n#标注点的信息\nA&lt;-c(1:5)\nB&lt;-c(15,23,26,17,21)\nplot(A,B,type=\"b\")\nABC&lt;-data.frame(A,B,row.names =c(\"afaf\",\"fa\",\"faae\",\"agg\",\"grgw\"))\nattach(ABC)\ntext(A,B,row.names(ABC),cex=0.6,pos=4,col=\"blue\")\n\n\n\n\n\nCode\ndetach(ABC)\npar(opar)\n#&gt; Error in eval(expr, envir, enclos): object 'opar' not found"
  },
  {
    "objectID": "base_graphics.html#图形组合",
    "href": "base_graphics.html#图形组合",
    "title": "2  basic graphics",
    "section": "2.5 图形组合",
    "text": "2.5 图形组合\n\n\nCode\n#layout(matrix,widths=,heights=)\nattach(mtcars)\nmat&lt;-matrix(c(1,1,2,3),2, 2, byrow = FALSE)\nlayout(mat,widths = c(1,0.5),heights = c(0.5,1))\nhist(wt)\nhist(mpg)\nhist(disp)\n\n\n\n\n\nCode\ndetach(mtcars)"
  },
  {
    "objectID": "base_graphics.html#图形的精细控制",
    "href": "base_graphics.html#图形的精细控制",
    "title": "2  basic graphics",
    "section": "2.6 图形的精细控制",
    "text": "2.6 图形的精细控制\n\n\nCode\n#参数fig=c(x1,x2,y1,y2)\nattach(mtcars)\npar(fig=c(0,0.8,0,0.8))\nplot(wt,mpg,xlab=\"Miles per Gallon\",ylab=\"Car Weight\")\npar(fig=c(0,0.8,0.55,1),new=TRUE)\nboxplot(wt,horizontal = TRUE,axes=FALSE)\npar(fig=c(0.65,1,0,0.8),new=TRUE)\nboxplot(mpg,axes=FALSE)\nmtext(\"boxplot of wt\",side=3,outer = TRUE,line=-3)"
  },
  {
    "objectID": "base_graphics.html#geometry",
    "href": "base_graphics.html#geometry",
    "title": "2  basic graphics",
    "section": "2.7 Geometry",
    "text": "2.7 Geometry\n\n\nCode\ndata(mpg,package=\"ggplot2\") \n\n\n\n2.7.1 条形图\n\n\nCode\nbarplot(table(mpg$drv))\n\n\n\n\n\nCode\nbarplot(table(mpg$drv),horiz = TRUE)\n\n\n\n\n\nCode\n\nbarplot(table(mpg$drv,mpg$class),legend=row.names(table(mpg$drv,mpg$class)))\n\n\n\n\n\nCode\nbarplot(table(mpg$drv,mpg$class),beside = TRUE,\n        legend=row.names(table(mpg$drv,mpg$class)))\n\n\n\n\n\nCode\n\nspineplot(table(mpg$class,mpg$drv))\n\n\n\n\n\n\n\n2.7.2 饼图\n\n\nCode\nx&lt;-c(10,12,4,16,8)\nlabs&lt;-c(\"US\",\"UK\",\"Australia\",\"Germany\",\"France\")\n\npie(x,labels=labs,main=\"简单饼图\")\n\n\n\n\n\nCode\npct&lt;-round(x/sum(x)*100)\nlabs2&lt;-paste(labs,\" \",pct,\"%\",sep=\"\")\npie(x,labels=labs2,col=rainbow(length(labs2)),main=\"百分比饼图\")\n\n\n\n\n\n\n\n2.7.3 直方图\n\n\nCode\nhist(mpg$hwy,breaks = 12,col=\"red\")\n\n\n\n\n\nCode\n\nhist(mpg$hwy,freq = FALSE,breaks = 12, col=\"lightgreen\")\nrug(mpg$hwy,col=\"brown\",lwd=2)\nlines(density(mpg$hwy),col=\"blue\",lwd=2)\n\n\n\n\n\nCode\n\nh &lt;- hist(mpg$hwy,breaks = 12,col=\"red\")\nx&lt;-seq(min(mpg$hwy),max(mpg$hwy),by=0.01)\ny&lt;-dnorm(x,mean=mean(mpg$hwy),sd=sd(mpg$hwy))   #概率密度曲线  f(X)=(fi/n)/ΔXi\ny&lt;-y*diff(h$mids[1:2])*length(mpg$hwy)  # y*组距*总样本量  正态分布\nlines(x,y,col=\"blue\",lwd=2)\n\n\n\n\n\nCode\n\nplot(x,y)\n\n\n\n\n\n\n\n2.7.4 密度曲线\n\n\nCode\nplot(density(mpg$hwy))\npolygon(density(mpg$hwy),col=\"lightblue\",border = \"red\") \nrug(mpg$hwy,col=\"brown\") \n\n\n\n\n\n\n\n2.7.5 箱线图\n\n\nCode\nboxplot.stats(mpg$hwy)\n#&gt; $stats\n#&gt; [1] 12 18 24 27 37\n#&gt; \n#&gt; $n\n#&gt; [1] 234\n#&gt; \n#&gt; $conf\n#&gt; [1] 23.07041 24.92959\n#&gt; \n#&gt; $out\n#&gt; [1] 44 44 41\nboxplot(mpg$hwy)\n\n\n\n\n\nCode\n\nboxplot(hwy~drv,data=mpg,\n        notch=TRUE,\n        varwidth=TRUE)\n\n\n\n\n\nCode\n\nboxplot(hwy~drv*cyl,data=mpg)\n\n\n\n\n\n\n\n2.7.6 克利夫兰点图\n\n\nCode\ndotchart(mtcars[order(mtcars$mpg),]$mpg,labels = row.names(mtcars),groups = mtcars$cyl)\n\n\n\n\n\nCode\n\n\n#分组、排序、着色后的点图\nx&lt;-mtcars[order(mtcars$mpg),]\nx$cyl&lt;-factor(x$cyl)\nx$color[x$cyl==4]&lt;-\"red\"\nx$color[x$cyl==6]&lt;-\"yellow\"\nx$color[x$cyl==8]&lt;-\"blue\"\ndotchart(x$mpg,\n         labels = row.names(x),cex=.7,\n         groups = x$cyl,         #分组参数 因子\n         gcolor = \"black\",\n         color = x$color\n         )\n\n\n\n\n\n\n\n2.7.7 散点图\n\n\nCode\ncar::scatterplot(mpg~wt|am,data=mtcars,\n            id=TRUE,\n            legend =TRUE,#图例\n            grid=TRUE,   #添加网格线\n            boxplots=\"xy\"  #添加边界箱线图\n)\n\n\n\n\n#&gt;          Fiat 128         Merc 240D     Maserati Bora Chrysler Imperial \n#&gt;                 4                 5                12                14\n\n\n\n2.7.8 散点图矩阵\n\n\nCode\ncar::scatterplotMatrix(~mpg+disp+drat+wt,data=mtcars)\n\n\n\n\n\n\n\n2.7.9 气泡图\n\n\nCode\nsymbols(mtcars$wt,mtcars$mpg,\n        circle=sqrt(mtcars$disp/pi),\n        inches = .30, #比例\n        fg=\"white\",bg=\"lightblue\")\ntext(mtcars$wt,mtcars$mpg,row.names(mtcars),cex=.6)\n\n\n\n\n\n\n\n2.7.10 折线图\n\n\nCode\nOrange\n\n\n\n\n\n\nTree\nage\ncircumference\n\n\n\n\n1\n118\n30\n\n\n1\n484\n58\n\n\n1\n664\n87\n\n\n1\n1004\n115\n\n\n1\n1231\n120\n\n\n1\n1372\n142\n\n\n1\n1582\n145\n\n\n2\n118\n33\n\n\n2\n484\n69\n\n\n2\n664\n111\n\n\n2\n1004\n156\n\n\n2\n1231\n172\n\n\n2\n1372\n203\n\n\n2\n1582\n203\n\n\n3\n118\n30\n\n\n3\n484\n51\n\n\n3\n664\n75\n\n\n3\n1004\n108\n\n\n3\n1231\n115\n\n\n3\n1372\n139\n\n\n3\n1582\n140\n\n\n4\n118\n32\n\n\n4\n484\n62\n\n\n4\n664\n112\n\n\n4\n1004\n167\n\n\n4\n1231\n179\n\n\n4\n1372\n209\n\n\n4\n1582\n214\n\n\n5\n118\n30\n\n\n5\n484\n49\n\n\n5\n664\n81\n\n\n5\n1004\n125\n\n\n5\n1231\n142\n\n\n5\n1372\n174\n\n\n5\n1582\n177\n\n\n\n\n\n\nCode\nt1&lt;-subset(Orange,Tree==1)\nplot(t1$age,t1$circumference,type=\"p\")\n\n\n\n\n\nCode\nplot(t1$age,t1$circumference,type=\"b\")\n\n\n\n\n\nCode\nplot(t1$age,t1$circumference,type=\"c\")\n\n\n\n\n\n\n\n2.7.11 相关图\ncorrgram()\n\n\n2.7.12 马赛克图\nmosaic()"
  },
  {
    "objectID": "ggplot2_graphics.html",
    "href": "ggplot2_graphics.html",
    "title": "3  图形语法",
    "section": "",
    "text": "4 ggplot2::\nCode\ndata(mpg,package = \"ggplot2\")\nmpg\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nmanufacturer\nmodel\ndispl\nyear\ncyl\ntrans\ndrv\ncty\nhwy\nfl\nclass\n\n\n\n\naudi\na4\n1.8\n1999\n4\nauto(l5)\nf\n18\n29\np\ncompact\n\n\naudi\na4\n1.8\n1999\n4\nmanual(m5)\nf\n21\n29\np\ncompact\n\n\naudi\na4\n2.0\n2008\n4\nmanual(m6)\nf\n20\n31\np\ncompact\n\n\naudi\na4\n2.0\n2008\n4\nauto(av)\nf\n21\n30\np\ncompact\n\n\naudi\na4\n2.8\n1999\n6\nauto(l5)\nf\n16\n26\np\ncompact\n\n\naudi\na4\n2.8\n1999\n6\nmanual(m5)\nf\n18\n26\np\ncompact\n\n\naudi\na4\n3.1\n2008\n6\nauto(av)\nf\n18\n27\np\ncompact\n\n\naudi\na4 quattro\n1.8\n1999\n4\nmanual(m5)\n4\n18\n26\np\ncompact\n\n\naudi\na4 quattro\n1.8\n1999\n4\nauto(l5)\n4\n16\n25\np\ncompact\n\n\naudi\na4 quattro\n2.0\n2008\n4\nmanual(m6)\n4\n20\n28\np\ncompact\n\n\naudi\na4 quattro\n2.0\n2008\n4\nauto(s6)\n4\n19\n27\np\ncompact\n\n\naudi\na4 quattro\n2.8\n1999\n6\nauto(l5)\n4\n15\n25\np\ncompact\n\n\naudi\na4 quattro\n2.8\n1999\n6\nmanual(m5)\n4\n17\n25\np\ncompact\n\n\naudi\na4 quattro\n3.1\n2008\n6\nauto(s6)\n4\n17\n25\np\ncompact\n\n\naudi\na4 quattro\n3.1\n2008\n6\nmanual(m6)\n4\n15\n25\np\ncompact\n\n\naudi\na6 quattro\n2.8\n1999\n6\nauto(l5)\n4\n15\n24\np\nmidsize\n\n\naudi\na6 quattro\n3.1\n2008\n6\nauto(s6)\n4\n17\n25\np\nmidsize\n\n\naudi\na6 quattro\n4.2\n2008\n8\nauto(s6)\n4\n16\n23\np\nmidsize\n\n\nchevrolet\nc1500 suburban 2wd\n5.3\n2008\n8\nauto(l4)\nr\n14\n20\nr\nsuv\n\n\nchevrolet\nc1500 suburban 2wd\n5.3\n2008\n8\nauto(l4)\nr\n11\n15\ne\nsuv\n\n\nchevrolet\nc1500 suburban 2wd\n5.3\n2008\n8\nauto(l4)\nr\n14\n20\nr\nsuv\n\n\nchevrolet\nc1500 suburban 2wd\n5.7\n1999\n8\nauto(l4)\nr\n13\n17\nr\nsuv\n\n\nchevrolet\nc1500 suburban 2wd\n6.0\n2008\n8\nauto(l4)\nr\n12\n17\nr\nsuv\n\n\nchevrolet\ncorvette\n5.7\n1999\n8\nmanual(m6)\nr\n16\n26\np\n2seater\n\n\nchevrolet\ncorvette\n5.7\n1999\n8\nauto(l4)\nr\n15\n23\np\n2seater\n\n\nchevrolet\ncorvette\n6.2\n2008\n8\nmanual(m6)\nr\n16\n26\np\n2seater\n\n\nchevrolet\ncorvette\n6.2\n2008\n8\nauto(s6)\nr\n15\n25\np\n2seater\n\n\nchevrolet\ncorvette\n7.0\n2008\n8\nmanual(m6)\nr\n15\n24\np\n2seater\n\n\nchevrolet\nk1500 tahoe 4wd\n5.3\n2008\n8\nauto(l4)\n4\n14\n19\nr\nsuv\n\n\nchevrolet\nk1500 tahoe 4wd\n5.3\n2008\n8\nauto(l4)\n4\n11\n14\ne\nsuv\n\n\nchevrolet\nk1500 tahoe 4wd\n5.7\n1999\n8\nauto(l4)\n4\n11\n15\nr\nsuv\n\n\nchevrolet\nk1500 tahoe 4wd\n6.5\n1999\n8\nauto(l4)\n4\n14\n17\nd\nsuv\n\n\nchevrolet\nmalibu\n2.4\n1999\n4\nauto(l4)\nf\n19\n27\nr\nmidsize\n\n\nchevrolet\nmalibu\n2.4\n2008\n4\nauto(l4)\nf\n22\n30\nr\nmidsize\n\n\nchevrolet\nmalibu\n3.1\n1999\n6\nauto(l4)\nf\n18\n26\nr\nmidsize\n\n\nchevrolet\nmalibu\n3.5\n2008\n6\nauto(l4)\nf\n18\n29\nr\nmidsize\n\n\nchevrolet\nmalibu\n3.6\n2008\n6\nauto(s6)\nf\n17\n26\nr\nmidsize\n\n\ndodge\ncaravan 2wd\n2.4\n1999\n4\nauto(l3)\nf\n18\n24\nr\nminivan\n\n\ndodge\ncaravan 2wd\n3.0\n1999\n6\nauto(l4)\nf\n17\n24\nr\nminivan\n\n\ndodge\ncaravan 2wd\n3.3\n1999\n6\nauto(l4)\nf\n16\n22\nr\nminivan\n\n\ndodge\ncaravan 2wd\n3.3\n1999\n6\nauto(l4)\nf\n16\n22\nr\nminivan\n\n\ndodge\ncaravan 2wd\n3.3\n2008\n6\nauto(l4)\nf\n17\n24\nr\nminivan\n\n\ndodge\ncaravan 2wd\n3.3\n2008\n6\nauto(l4)\nf\n17\n24\nr\nminivan\n\n\ndodge\ncaravan 2wd\n3.3\n2008\n6\nauto(l4)\nf\n11\n17\ne\nminivan\n\n\ndodge\ncaravan 2wd\n3.8\n1999\n6\nauto(l4)\nf\n15\n22\nr\nminivan\n\n\ndodge\ncaravan 2wd\n3.8\n1999\n6\nauto(l4)\nf\n15\n21\nr\nminivan\n\n\ndodge\ncaravan 2wd\n3.8\n2008\n6\nauto(l6)\nf\n16\n23\nr\nminivan\n\n\ndodge\ncaravan 2wd\n4.0\n2008\n6\nauto(l6)\nf\n16\n23\nr\nminivan\n\n\ndodge\ndakota pickup 4wd\n3.7\n2008\n6\nmanual(m6)\n4\n15\n19\nr\npickup\n\n\ndodge\ndakota pickup 4wd\n3.7\n2008\n6\nauto(l4)\n4\n14\n18\nr\npickup\n\n\ndodge\ndakota pickup 4wd\n3.9\n1999\n6\nauto(l4)\n4\n13\n17\nr\npickup\n\n\ndodge\ndakota pickup 4wd\n3.9\n1999\n6\nmanual(m5)\n4\n14\n17\nr\npickup\n\n\ndodge\ndakota pickup 4wd\n4.7\n2008\n8\nauto(l5)\n4\n14\n19\nr\npickup\n\n\ndodge\ndakota pickup 4wd\n4.7\n2008\n8\nauto(l5)\n4\n14\n19\nr\npickup\n\n\ndodge\ndakota pickup 4wd\n4.7\n2008\n8\nauto(l5)\n4\n9\n12\ne\npickup\n\n\ndodge\ndakota pickup 4wd\n5.2\n1999\n8\nmanual(m5)\n4\n11\n17\nr\npickup\n\n\ndodge\ndakota pickup 4wd\n5.2\n1999\n8\nauto(l4)\n4\n11\n15\nr\npickup\n\n\ndodge\ndurango 4wd\n3.9\n1999\n6\nauto(l4)\n4\n13\n17\nr\nsuv\n\n\ndodge\ndurango 4wd\n4.7\n2008\n8\nauto(l5)\n4\n13\n17\nr\nsuv\n\n\ndodge\ndurango 4wd\n4.7\n2008\n8\nauto(l5)\n4\n9\n12\ne\nsuv\n\n\ndodge\ndurango 4wd\n4.7\n2008\n8\nauto(l5)\n4\n13\n17\nr\nsuv\n\n\ndodge\ndurango 4wd\n5.2\n1999\n8\nauto(l4)\n4\n11\n16\nr\nsuv\n\n\ndodge\ndurango 4wd\n5.7\n2008\n8\nauto(l5)\n4\n13\n18\nr\nsuv\n\n\ndodge\ndurango 4wd\n5.9\n1999\n8\nauto(l4)\n4\n11\n15\nr\nsuv\n\n\ndodge\nram 1500 pickup 4wd\n4.7\n2008\n8\nmanual(m6)\n4\n12\n16\nr\npickup\n\n\ndodge\nram 1500 pickup 4wd\n4.7\n2008\n8\nauto(l5)\n4\n9\n12\ne\npickup\n\n\ndodge\nram 1500 pickup 4wd\n4.7\n2008\n8\nauto(l5)\n4\n13\n17\nr\npickup\n\n\ndodge\nram 1500 pickup 4wd\n4.7\n2008\n8\nauto(l5)\n4\n13\n17\nr\npickup\n\n\ndodge\nram 1500 pickup 4wd\n4.7\n2008\n8\nmanual(m6)\n4\n12\n16\nr\npickup\n\n\ndodge\nram 1500 pickup 4wd\n4.7\n2008\n8\nmanual(m6)\n4\n9\n12\ne\npickup\n\n\ndodge\nram 1500 pickup 4wd\n5.2\n1999\n8\nauto(l4)\n4\n11\n15\nr\npickup\n\n\ndodge\nram 1500 pickup 4wd\n5.2\n1999\n8\nmanual(m5)\n4\n11\n16\nr\npickup\n\n\ndodge\nram 1500 pickup 4wd\n5.7\n2008\n8\nauto(l5)\n4\n13\n17\nr\npickup\n\n\ndodge\nram 1500 pickup 4wd\n5.9\n1999\n8\nauto(l4)\n4\n11\n15\nr\npickup\n\n\nford\nexpedition 2wd\n4.6\n1999\n8\nauto(l4)\nr\n11\n17\nr\nsuv\n\n\nford\nexpedition 2wd\n5.4\n1999\n8\nauto(l4)\nr\n11\n17\nr\nsuv\n\n\nford\nexpedition 2wd\n5.4\n2008\n8\nauto(l6)\nr\n12\n18\nr\nsuv\n\n\nford\nexplorer 4wd\n4.0\n1999\n6\nauto(l5)\n4\n14\n17\nr\nsuv\n\n\nford\nexplorer 4wd\n4.0\n1999\n6\nmanual(m5)\n4\n15\n19\nr\nsuv\n\n\nford\nexplorer 4wd\n4.0\n1999\n6\nauto(l5)\n4\n14\n17\nr\nsuv\n\n\nford\nexplorer 4wd\n4.0\n2008\n6\nauto(l5)\n4\n13\n19\nr\nsuv\n\n\nford\nexplorer 4wd\n4.6\n2008\n8\nauto(l6)\n4\n13\n19\nr\nsuv\n\n\nford\nexplorer 4wd\n5.0\n1999\n8\nauto(l4)\n4\n13\n17\nr\nsuv\n\n\nford\nf150 pickup 4wd\n4.2\n1999\n6\nauto(l4)\n4\n14\n17\nr\npickup\n\n\nford\nf150 pickup 4wd\n4.2\n1999\n6\nmanual(m5)\n4\n14\n17\nr\npickup\n\n\nford\nf150 pickup 4wd\n4.6\n1999\n8\nmanual(m5)\n4\n13\n16\nr\npickup\n\n\nford\nf150 pickup 4wd\n4.6\n1999\n8\nauto(l4)\n4\n13\n16\nr\npickup\n\n\nford\nf150 pickup 4wd\n4.6\n2008\n8\nauto(l4)\n4\n13\n17\nr\npickup\n\n\nford\nf150 pickup 4wd\n5.4\n1999\n8\nauto(l4)\n4\n11\n15\nr\npickup\n\n\nford\nf150 pickup 4wd\n5.4\n2008\n8\nauto(l4)\n4\n13\n17\nr\npickup\n\n\nford\nmustang\n3.8\n1999\n6\nmanual(m5)\nr\n18\n26\nr\nsubcompact\n\n\nford\nmustang\n3.8\n1999\n6\nauto(l4)\nr\n18\n25\nr\nsubcompact\n\n\nford\nmustang\n4.0\n2008\n6\nmanual(m5)\nr\n17\n26\nr\nsubcompact\n\n\nford\nmustang\n4.0\n2008\n6\nauto(l5)\nr\n16\n24\nr\nsubcompact\n\n\nford\nmustang\n4.6\n1999\n8\nauto(l4)\nr\n15\n21\nr\nsubcompact\n\n\nford\nmustang\n4.6\n1999\n8\nmanual(m5)\nr\n15\n22\nr\nsubcompact\n\n\nford\nmustang\n4.6\n2008\n8\nmanual(m5)\nr\n15\n23\nr\nsubcompact\n\n\nford\nmustang\n4.6\n2008\n8\nauto(l5)\nr\n15\n22\nr\nsubcompact\n\n\nford\nmustang\n5.4\n2008\n8\nmanual(m6)\nr\n14\n20\np\nsubcompact\n\n\nhonda\ncivic\n1.6\n1999\n4\nmanual(m5)\nf\n28\n33\nr\nsubcompact\n\n\nhonda\ncivic\n1.6\n1999\n4\nauto(l4)\nf\n24\n32\nr\nsubcompact\n\n\nhonda\ncivic\n1.6\n1999\n4\nmanual(m5)\nf\n25\n32\nr\nsubcompact\n\n\nhonda\ncivic\n1.6\n1999\n4\nmanual(m5)\nf\n23\n29\np\nsubcompact\n\n\nhonda\ncivic\n1.6\n1999\n4\nauto(l4)\nf\n24\n32\nr\nsubcompact\n\n\nhonda\ncivic\n1.8\n2008\n4\nmanual(m5)\nf\n26\n34\nr\nsubcompact\n\n\nhonda\ncivic\n1.8\n2008\n4\nauto(l5)\nf\n25\n36\nr\nsubcompact\n\n\nhonda\ncivic\n1.8\n2008\n4\nauto(l5)\nf\n24\n36\nc\nsubcompact\n\n\nhonda\ncivic\n2.0\n2008\n4\nmanual(m6)\nf\n21\n29\np\nsubcompact\n\n\nhyundai\nsonata\n2.4\n1999\n4\nauto(l4)\nf\n18\n26\nr\nmidsize\n\n\nhyundai\nsonata\n2.4\n1999\n4\nmanual(m5)\nf\n18\n27\nr\nmidsize\n\n\nhyundai\nsonata\n2.4\n2008\n4\nauto(l4)\nf\n21\n30\nr\nmidsize\n\n\nhyundai\nsonata\n2.4\n2008\n4\nmanual(m5)\nf\n21\n31\nr\nmidsize\n\n\nhyundai\nsonata\n2.5\n1999\n6\nauto(l4)\nf\n18\n26\nr\nmidsize\n\n\nhyundai\nsonata\n2.5\n1999\n6\nmanual(m5)\nf\n18\n26\nr\nmidsize\n\n\nhyundai\nsonata\n3.3\n2008\n6\nauto(l5)\nf\n19\n28\nr\nmidsize\n\n\nhyundai\ntiburon\n2.0\n1999\n4\nauto(l4)\nf\n19\n26\nr\nsubcompact\n\n\nhyundai\ntiburon\n2.0\n1999\n4\nmanual(m5)\nf\n19\n29\nr\nsubcompact\n\n\nhyundai\ntiburon\n2.0\n2008\n4\nmanual(m5)\nf\n20\n28\nr\nsubcompact\n\n\nhyundai\ntiburon\n2.0\n2008\n4\nauto(l4)\nf\n20\n27\nr\nsubcompact\n\n\nhyundai\ntiburon\n2.7\n2008\n6\nauto(l4)\nf\n17\n24\nr\nsubcompact\n\n\nhyundai\ntiburon\n2.7\n2008\n6\nmanual(m6)\nf\n16\n24\nr\nsubcompact\n\n\nhyundai\ntiburon\n2.7\n2008\n6\nmanual(m5)\nf\n17\n24\nr\nsubcompact\n\n\njeep\ngrand cherokee 4wd\n3.0\n2008\n6\nauto(l5)\n4\n17\n22\nd\nsuv\n\n\njeep\ngrand cherokee 4wd\n3.7\n2008\n6\nauto(l5)\n4\n15\n19\nr\nsuv\n\n\njeep\ngrand cherokee 4wd\n4.0\n1999\n6\nauto(l4)\n4\n15\n20\nr\nsuv\n\n\njeep\ngrand cherokee 4wd\n4.7\n1999\n8\nauto(l4)\n4\n14\n17\nr\nsuv\n\n\njeep\ngrand cherokee 4wd\n4.7\n2008\n8\nauto(l5)\n4\n9\n12\ne\nsuv\n\n\njeep\ngrand cherokee 4wd\n4.7\n2008\n8\nauto(l5)\n4\n14\n19\nr\nsuv\n\n\njeep\ngrand cherokee 4wd\n5.7\n2008\n8\nauto(l5)\n4\n13\n18\nr\nsuv\n\n\njeep\ngrand cherokee 4wd\n6.1\n2008\n8\nauto(l5)\n4\n11\n14\np\nsuv\n\n\nland rover\nrange rover\n4.0\n1999\n8\nauto(l4)\n4\n11\n15\np\nsuv\n\n\nland rover\nrange rover\n4.2\n2008\n8\nauto(s6)\n4\n12\n18\nr\nsuv\n\n\nland rover\nrange rover\n4.4\n2008\n8\nauto(s6)\n4\n12\n18\nr\nsuv\n\n\nland rover\nrange rover\n4.6\n1999\n8\nauto(l4)\n4\n11\n15\np\nsuv\n\n\nlincoln\nnavigator 2wd\n5.4\n1999\n8\nauto(l4)\nr\n11\n17\nr\nsuv\n\n\nlincoln\nnavigator 2wd\n5.4\n1999\n8\nauto(l4)\nr\n11\n16\np\nsuv\n\n\nlincoln\nnavigator 2wd\n5.4\n2008\n8\nauto(l6)\nr\n12\n18\nr\nsuv\n\n\nmercury\nmountaineer 4wd\n4.0\n1999\n6\nauto(l5)\n4\n14\n17\nr\nsuv\n\n\nmercury\nmountaineer 4wd\n4.0\n2008\n6\nauto(l5)\n4\n13\n19\nr\nsuv\n\n\nmercury\nmountaineer 4wd\n4.6\n2008\n8\nauto(l6)\n4\n13\n19\nr\nsuv\n\n\nmercury\nmountaineer 4wd\n5.0\n1999\n8\nauto(l4)\n4\n13\n17\nr\nsuv\n\n\nnissan\naltima\n2.4\n1999\n4\nmanual(m5)\nf\n21\n29\nr\ncompact\n\n\nnissan\naltima\n2.4\n1999\n4\nauto(l4)\nf\n19\n27\nr\ncompact\n\n\nnissan\naltima\n2.5\n2008\n4\nauto(av)\nf\n23\n31\nr\nmidsize\n\n\nnissan\naltima\n2.5\n2008\n4\nmanual(m6)\nf\n23\n32\nr\nmidsize\n\n\nnissan\naltima\n3.5\n2008\n6\nmanual(m6)\nf\n19\n27\np\nmidsize\n\n\nnissan\naltima\n3.5\n2008\n6\nauto(av)\nf\n19\n26\np\nmidsize\n\n\nnissan\nmaxima\n3.0\n1999\n6\nauto(l4)\nf\n18\n26\nr\nmidsize\n\n\nnissan\nmaxima\n3.0\n1999\n6\nmanual(m5)\nf\n19\n25\nr\nmidsize\n\n\nnissan\nmaxima\n3.5\n2008\n6\nauto(av)\nf\n19\n25\np\nmidsize\n\n\nnissan\npathfinder 4wd\n3.3\n1999\n6\nauto(l4)\n4\n14\n17\nr\nsuv\n\n\nnissan\npathfinder 4wd\n3.3\n1999\n6\nmanual(m5)\n4\n15\n17\nr\nsuv\n\n\nnissan\npathfinder 4wd\n4.0\n2008\n6\nauto(l5)\n4\n14\n20\np\nsuv\n\n\nnissan\npathfinder 4wd\n5.6\n2008\n8\nauto(s5)\n4\n12\n18\np\nsuv\n\n\npontiac\ngrand prix\n3.1\n1999\n6\nauto(l4)\nf\n18\n26\nr\nmidsize\n\n\npontiac\ngrand prix\n3.8\n1999\n6\nauto(l4)\nf\n16\n26\np\nmidsize\n\n\npontiac\ngrand prix\n3.8\n1999\n6\nauto(l4)\nf\n17\n27\nr\nmidsize\n\n\npontiac\ngrand prix\n3.8\n2008\n6\nauto(l4)\nf\n18\n28\nr\nmidsize\n\n\npontiac\ngrand prix\n5.3\n2008\n8\nauto(s4)\nf\n16\n25\np\nmidsize\n\n\nsubaru\nforester awd\n2.5\n1999\n4\nmanual(m5)\n4\n18\n25\nr\nsuv\n\n\nsubaru\nforester awd\n2.5\n1999\n4\nauto(l4)\n4\n18\n24\nr\nsuv\n\n\nsubaru\nforester awd\n2.5\n2008\n4\nmanual(m5)\n4\n20\n27\nr\nsuv\n\n\nsubaru\nforester awd\n2.5\n2008\n4\nmanual(m5)\n4\n19\n25\np\nsuv\n\n\nsubaru\nforester awd\n2.5\n2008\n4\nauto(l4)\n4\n20\n26\nr\nsuv\n\n\nsubaru\nforester awd\n2.5\n2008\n4\nauto(l4)\n4\n18\n23\np\nsuv\n\n\nsubaru\nimpreza awd\n2.2\n1999\n4\nauto(l4)\n4\n21\n26\nr\nsubcompact\n\n\nsubaru\nimpreza awd\n2.2\n1999\n4\nmanual(m5)\n4\n19\n26\nr\nsubcompact\n\n\nsubaru\nimpreza awd\n2.5\n1999\n4\nmanual(m5)\n4\n19\n26\nr\nsubcompact\n\n\nsubaru\nimpreza awd\n2.5\n1999\n4\nauto(l4)\n4\n19\n26\nr\nsubcompact\n\n\nsubaru\nimpreza awd\n2.5\n2008\n4\nauto(s4)\n4\n20\n25\np\ncompact\n\n\nsubaru\nimpreza awd\n2.5\n2008\n4\nauto(s4)\n4\n20\n27\nr\ncompact\n\n\nsubaru\nimpreza awd\n2.5\n2008\n4\nmanual(m5)\n4\n19\n25\np\ncompact\n\n\nsubaru\nimpreza awd\n2.5\n2008\n4\nmanual(m5)\n4\n20\n27\nr\ncompact\n\n\ntoyota\n4runner 4wd\n2.7\n1999\n4\nmanual(m5)\n4\n15\n20\nr\nsuv\n\n\ntoyota\n4runner 4wd\n2.7\n1999\n4\nauto(l4)\n4\n16\n20\nr\nsuv\n\n\ntoyota\n4runner 4wd\n3.4\n1999\n6\nauto(l4)\n4\n15\n19\nr\nsuv\n\n\ntoyota\n4runner 4wd\n3.4\n1999\n6\nmanual(m5)\n4\n15\n17\nr\nsuv\n\n\ntoyota\n4runner 4wd\n4.0\n2008\n6\nauto(l5)\n4\n16\n20\nr\nsuv\n\n\ntoyota\n4runner 4wd\n4.7\n2008\n8\nauto(l5)\n4\n14\n17\nr\nsuv\n\n\ntoyota\ncamry\n2.2\n1999\n4\nmanual(m5)\nf\n21\n29\nr\nmidsize\n\n\ntoyota\ncamry\n2.2\n1999\n4\nauto(l4)\nf\n21\n27\nr\nmidsize\n\n\ntoyota\ncamry\n2.4\n2008\n4\nmanual(m5)\nf\n21\n31\nr\nmidsize\n\n\ntoyota\ncamry\n2.4\n2008\n4\nauto(l5)\nf\n21\n31\nr\nmidsize\n\n\ntoyota\ncamry\n3.0\n1999\n6\nauto(l4)\nf\n18\n26\nr\nmidsize\n\n\ntoyota\ncamry\n3.0\n1999\n6\nmanual(m5)\nf\n18\n26\nr\nmidsize\n\n\ntoyota\ncamry\n3.5\n2008\n6\nauto(s6)\nf\n19\n28\nr\nmidsize\n\n\ntoyota\ncamry solara\n2.2\n1999\n4\nauto(l4)\nf\n21\n27\nr\ncompact\n\n\ntoyota\ncamry solara\n2.2\n1999\n4\nmanual(m5)\nf\n21\n29\nr\ncompact\n\n\ntoyota\ncamry solara\n2.4\n2008\n4\nmanual(m5)\nf\n21\n31\nr\ncompact\n\n\ntoyota\ncamry solara\n2.4\n2008\n4\nauto(s5)\nf\n22\n31\nr\ncompact\n\n\ntoyota\ncamry solara\n3.0\n1999\n6\nauto(l4)\nf\n18\n26\nr\ncompact\n\n\ntoyota\ncamry solara\n3.0\n1999\n6\nmanual(m5)\nf\n18\n26\nr\ncompact\n\n\ntoyota\ncamry solara\n3.3\n2008\n6\nauto(s5)\nf\n18\n27\nr\ncompact\n\n\ntoyota\ncorolla\n1.8\n1999\n4\nauto(l3)\nf\n24\n30\nr\ncompact\n\n\ntoyota\ncorolla\n1.8\n1999\n4\nauto(l4)\nf\n24\n33\nr\ncompact\n\n\ntoyota\ncorolla\n1.8\n1999\n4\nmanual(m5)\nf\n26\n35\nr\ncompact\n\n\ntoyota\ncorolla\n1.8\n2008\n4\nmanual(m5)\nf\n28\n37\nr\ncompact\n\n\ntoyota\ncorolla\n1.8\n2008\n4\nauto(l4)\nf\n26\n35\nr\ncompact\n\n\ntoyota\nland cruiser wagon 4wd\n4.7\n1999\n8\nauto(l4)\n4\n11\n15\nr\nsuv\n\n\ntoyota\nland cruiser wagon 4wd\n5.7\n2008\n8\nauto(s6)\n4\n13\n18\nr\nsuv\n\n\ntoyota\ntoyota tacoma 4wd\n2.7\n1999\n4\nmanual(m5)\n4\n15\n20\nr\npickup\n\n\ntoyota\ntoyota tacoma 4wd\n2.7\n1999\n4\nauto(l4)\n4\n16\n20\nr\npickup\n\n\ntoyota\ntoyota tacoma 4wd\n2.7\n2008\n4\nmanual(m5)\n4\n17\n22\nr\npickup\n\n\ntoyota\ntoyota tacoma 4wd\n3.4\n1999\n6\nmanual(m5)\n4\n15\n17\nr\npickup\n\n\ntoyota\ntoyota tacoma 4wd\n3.4\n1999\n6\nauto(l4)\n4\n15\n19\nr\npickup\n\n\ntoyota\ntoyota tacoma 4wd\n4.0\n2008\n6\nmanual(m6)\n4\n15\n18\nr\npickup\n\n\ntoyota\ntoyota tacoma 4wd\n4.0\n2008\n6\nauto(l5)\n4\n16\n20\nr\npickup\n\n\nvolkswagen\ngti\n2.0\n1999\n4\nmanual(m5)\nf\n21\n29\nr\ncompact\n\n\nvolkswagen\ngti\n2.0\n1999\n4\nauto(l4)\nf\n19\n26\nr\ncompact\n\n\nvolkswagen\ngti\n2.0\n2008\n4\nmanual(m6)\nf\n21\n29\np\ncompact\n\n\nvolkswagen\ngti\n2.0\n2008\n4\nauto(s6)\nf\n22\n29\np\ncompact\n\n\nvolkswagen\ngti\n2.8\n1999\n6\nmanual(m5)\nf\n17\n24\nr\ncompact\n\n\nvolkswagen\njetta\n1.9\n1999\n4\nmanual(m5)\nf\n33\n44\nd\ncompact\n\n\nvolkswagen\njetta\n2.0\n1999\n4\nmanual(m5)\nf\n21\n29\nr\ncompact\n\n\nvolkswagen\njetta\n2.0\n1999\n4\nauto(l4)\nf\n19\n26\nr\ncompact\n\n\nvolkswagen\njetta\n2.0\n2008\n4\nauto(s6)\nf\n22\n29\np\ncompact\n\n\nvolkswagen\njetta\n2.0\n2008\n4\nmanual(m6)\nf\n21\n29\np\ncompact\n\n\nvolkswagen\njetta\n2.5\n2008\n5\nauto(s6)\nf\n21\n29\nr\ncompact\n\n\nvolkswagen\njetta\n2.5\n2008\n5\nmanual(m5)\nf\n21\n29\nr\ncompact\n\n\nvolkswagen\njetta\n2.8\n1999\n6\nauto(l4)\nf\n16\n23\nr\ncompact\n\n\nvolkswagen\njetta\n2.8\n1999\n6\nmanual(m5)\nf\n17\n24\nr\ncompact\n\n\nvolkswagen\nnew beetle\n1.9\n1999\n4\nmanual(m5)\nf\n35\n44\nd\nsubcompact\n\n\nvolkswagen\nnew beetle\n1.9\n1999\n4\nauto(l4)\nf\n29\n41\nd\nsubcompact\n\n\nvolkswagen\nnew beetle\n2.0\n1999\n4\nmanual(m5)\nf\n21\n29\nr\nsubcompact\n\n\nvolkswagen\nnew beetle\n2.0\n1999\n4\nauto(l4)\nf\n19\n26\nr\nsubcompact\n\n\nvolkswagen\nnew beetle\n2.5\n2008\n5\nmanual(m5)\nf\n20\n28\nr\nsubcompact\n\n\nvolkswagen\nnew beetle\n2.5\n2008\n5\nauto(s6)\nf\n20\n29\nr\nsubcompact\n\n\nvolkswagen\npassat\n1.8\n1999\n4\nmanual(m5)\nf\n21\n29\np\nmidsize\n\n\nvolkswagen\npassat\n1.8\n1999\n4\nauto(l5)\nf\n18\n29\np\nmidsize\n\n\nvolkswagen\npassat\n2.0\n2008\n4\nauto(s6)\nf\n19\n28\np\nmidsize\n\n\nvolkswagen\npassat\n2.0\n2008\n4\nmanual(m6)\nf\n21\n29\np\nmidsize\n\n\nvolkswagen\npassat\n2.8\n1999\n6\nauto(l5)\nf\n16\n26\np\nmidsize\n\n\nvolkswagen\npassat\n2.8\n1999\n6\nmanual(m5)\nf\n18\n26\np\nmidsize\n\n\nvolkswagen\npassat\n3.6\n2008\n6\nauto(s6)\nf\n17\n26\np\nmidsize"
  },
  {
    "objectID": "ggplot2_graphics.html#ggplotdata-mapping-aesxy",
    "href": "ggplot2_graphics.html#ggplotdata-mapping-aesxy",
    "title": "3  图形语法",
    "section": "4.1 ggplot(data =  ,mapping = aes(x,y,…))",
    "text": "4.1 ggplot(data =  ,mapping = aes(x,y,…))\n\n\nCode\nggplot(data = mpg) -&gt;p\np\n\n\n\n\n\n\n4.1.1 aesthetics mapping\nmapping=aes(x,y,z,..,color,fill,shape,linetype,alpha,size,group,linewidth)"
  },
  {
    "objectID": "ggplot2_graphics.html#geom_",
    "href": "ggplot2_graphics.html#geom_",
    "title": "3  图形语法",
    "section": "4.2 geom_",
    "text": "4.2 geom_\n\n4.2.0.1 统计变换 statistical transformations\n\n\n\nGeometry\ndefault stat_transform\n\n\n\n\n\nstat=\"count\" , \"identity\", \"summary\" , \"\"\n\n\nCode\nggplot(diamonds) + \n  stat_summary(\n    aes(x = cut, y = depth),\n    geom = \"errorbar\",\n    fun.min = min,\n    fun.max = max,\n    fun = median\n  )\n\n\n\n\n\n\n\n4.2.0.2 位置调整 position adjustments\nposition =\"identity\" , \"stack\" , \"dodge\" , \"fill\" ,…..\n\n\nCode\nggplot(mpg, aes(x = drv, fill = class)) + \n  geom_bar(alpha = 1/5, position = \"identity\")|\n\nggplot(mpg, aes(x = drv, color = class)) + \n  geom_bar(fill = NA, position = \"identity\")\n\n\n\n\n\n\n\nCode\nggplot(mpg, aes(x = drv, fill = class)) + \n  geom_bar(position = \"fill\")|\n\nggplot(mpg, aes(x = drv, fill = class)) + \n  geom_bar(position = \"dodge\")\n\n\n\n\n\n\n\nCode\n\nggplot(mpg, aes(x = displ, y = hwy)) + \n  geom_point(position = \"jitter\")|\n    \nggplot(mpg, aes(x = displ, y = hwy)) + \n  geom_point(position = \"identity\")\n\n\n\n\n\n\n\n4.2.1 X=连续型变量\n\n4.2.1.1 geom_point / geom_smooth\n\n\nCode\np + geom_point(mapping = aes(x=displ,y=hwy),\n               stat = \"identity\",position = \"identity\")+\n    geom_smooth(mapping = aes(x=displ,y=hwy),\n                formula = \"y~x\",\n                method = \"lm\", se =T)\n\n\n\n\n\n\n\n4.2.1.2 geom_histogram\n\n\nCode\np + geom_histogram(aes(x=displ,y=after_stat(density)),\n                   stat = \"bin\",position = \"stack\",\n                   binwidth = 0.5\n                   ) +\n    scale_y_continuous(labels=scales::dollar) +\n    geom_density(aes(x=displ,y=after_stat(density)),\n                 color=\"red\", size=1)\n\n\n\n\n\n\n\n4.2.1.3 geom_density\n\n\nCode\np + geom_density(aes(displ,fill=drv),\n                 stat = \"density\",position = \"identity\",\n                 alpha=0.3\n                 )+\n    scale_y_continuous(labels = scales::percent)+\n    labs(fill=\"图例名\")+ # 与映射aes()有关\n    theme(legend.position = \"top\")\n\n\n\n\n\n\n\n4.2.1.4 geom_rug\ny→sides=\"r\",\"l\"\nx→sides=\"b\",\"t\"\n\n\nCode\np + geom_rug(aes(x=displ,y=hwy),\n           sides = \"br\",color=\"brown\")\n\n\n\n\n\n\n\n4.2.1.5 geom_jitter\n\n\nCode\np + geom_jitter(mapping = aes(x=displ,y=hwy),\n               stat = \"identity\",position = \"jitter\")\n\n\n\n\n\n\n\n\n4.2.2 X=离散型变量\n\n4.2.2.1 geom_bar\n\n\nCode\nggplot(data = mpg) + \n    geom_bar(mapping = aes(x=factor(cyl),fill=drv),\n             stat = \"count\",position = \"stack\")\n\n\n\n\n\nCode\n\nggplot(data = mpg) + \n    geom_col(mapping = aes(x=factor(cyl),y=hwy,fill=drv),\n             position = \"stack\")\n\n\n\n\n\n\n\n4.2.2.2 geom_errorbar\n\n\nCode\nread_csv(\"data/g.csv\") |&gt; \n    summarise(\n        mean=mean(liverweight),\n        sd=sd(liverweight),\n        .by=treatment\n  ) |&gt; \n    ggplot(aes(treatment,mean,fill=treatment))+\n    geom_bar(stat = \"identity\")+\n    geom_errorbar(aes(ymin=mean-sd,ymax=mean+sd),width=.2)\n\n\n\n\n\n\n\n4.2.2.3 geom_dotplot\n\n\nCode\np + geom_dotplot(mapping = aes(x=drv,y=hwy),\n                 position = \"identity\",\n                 stackdir = \"center\",binaxis = 'y',# stacking along y axis\n                 fill=\"red\",binwidth = 0.7)\n\n\n\n\n\n\n\n4.2.2.4 geom_boxplot\n\n\nCode\np + geom_boxplot(mapping = aes(x=drv,y=hwy),\n             stat = \"boxplot\",position = \"dodge\",\n             notch=TRUE, varwidth=TRUE,\n             width=0.1,fill=\"green\"\n            )+\n    geom_violin(aes(x=drv,y=hwy),alpha=0.2)\n\n\n\n\n\n\n\n4.2.2.5 geom_violin\n\n\nCode\np + geom_violin(mapping = aes(x=drv,y=hwy),\n             stat = \"ydensity\",position = \"dodge\")"
  },
  {
    "objectID": "ggplot2_graphics.html#文本标签注释",
    "href": "ggplot2_graphics.html#文本标签注释",
    "title": "3  图形语法",
    "section": "4.3 文本标签注释",
    "text": "4.3 文本标签注释\n\n\nCode\nmtcars |&gt;\n    group_by(cyl,am) |&gt; \n    summarise(n=n()) |&gt; \n    mutate(pct = n / sum(n),\n         lbls = scales::percent(pct)\n         )|&gt; \n    ggplot(aes(factor(cyl),pct,fill=factor(am)))+\n    geom_bar(stat = \"identity\",position = \"fill\")+\n    geom_text(mapping = aes(label=lbls),\n              position = position_stack(vjust = 0.5),\n              size=3\n              )\n\n\n\n\n\n\n\nCode\nlabel_info &lt;- mpg |&gt;\n    group_by(drv) |&gt;\n    arrange(desc(displ)) |&gt;\n    slice_head(n = 1)|&gt;\n    mutate(\n        drive_type = case_when(       # vectorise multiple if_else () statements \n        drv == \"f\" ~ \"front-wheel drive\",\n        drv == \"r\" ~ \"rear-wheel drive\",\n        drv == \"4\" ~ \"4-wheel drive\")\n        )|&gt;\n    select(displ, hwy, drv, drive_type)\n\np &lt;-ggplot(mpg, aes(x = displ, y = hwy, color = drv)) +\n    geom_point(alpha = 0.3) +\n    geom_smooth(method=\"lm\",formula=\"y~x\",se = FALSE) +\n    theme(legend.position = \"none\")\n\np+  geom_text(#添加注释  geom_label 标签加背景框\n    data = label_info, \n    aes(x = displ, y = hwy, label = drive_type),#label映射\n    fontface = \"bold\", size = 5, nudge_y = 2\n    )\n\n\n\n\n\nCode\n\np + ggrepel::geom_label_repel(                   \n    data = label_info, \n    aes(x = displ, y = hwy, label = drive_type),\n    fontface = \"bold\", size = 5, nudge_y = 2\n  ) \n\n\n\n\n\nCode\n\n\npotential_outliers &lt;- mpg |&gt;\n  dplyr::filter(hwy &gt; 40 | (hwy &gt; 20 & displ &gt; 5))\n\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() +\n  ggrepel::geom_text_repel(data = potential_outliers, aes(label = model)) +\n  geom_point(data = potential_outliers, color = \"red\") +\n  geom_point(\n    data = potential_outliers,\n    color = \"red\", size = 3, shape = \"circle open\"\n  )\n\n\n\n\n\n\n\nCode\ntibble(\n  x = 1:10,\n  y = cumsum(x^2)) %&gt;% \n  ggplot(aes(x, y)) +\n  geom_point() +\n  labs(\n    x = quote(x[i]),\n    y = quote(sum(x[i] ^ 2, i == 1, n)) #数学方程式\n  )"
  },
  {
    "objectID": "ggplot2_graphics.html#坐标系",
    "href": "ggplot2_graphics.html#坐标系",
    "title": "3  图形语法",
    "section": "4.4 坐标系",
    "text": "4.4 坐标系\n默认坐标系是笛卡尔坐标系\n\n\nCode\nbar &lt;- ggplot(data = diamonds) + \n  geom_bar(\n    mapping = aes(x = clarity, fill = clarity), \n    show.legend = FALSE,\n    width = 1\n  ) + \n  theme(aspect.ratio = 1)\nbar|\nbar + coord_flip()| #水平条形图\nbar + coord_polar()#极坐标\n\n\n\n\n\n\n\nCode\nlibrary(maps)\nworld &lt;- map_data(\"world\")\n\nggplot(world, aes(x = long, y = lat, group = group)) +\n  geom_polygon(fill = \"white\", color = \"black\")|\n\nggplot(world, aes(x = long, y = lat, group = group)) +\n  geom_polygon(fill = \"white\", color = \"black\") +\n  coord_quickmap()"
  },
  {
    "objectID": "ggplot2_graphics.html#scale",
    "href": "ggplot2_graphics.html#scale",
    "title": "3  图形语法",
    "section": "4.5 scale",
    "text": "4.5 scale\n\n4.5.1 x/y_continuous\n\n\nCode\nggplot(mtcars, aes(x = wt, y = mpg)) + \n  geom_point() +\n  scale_x_continuous(name = \"Weight (1000 lbs.)\",   \n                     n.breaks = 10,                 \n                     minor_breaks = NULL,           \n                     limits = c(1.5, 5.5)) +        \n  scale_y_continuous(name = \"Miles per gallon\",     \n                     breaks = seq(10, 35, 5),       \n                     minor_breaks = seq(10, 35, 1), \n                     limits = c(10, 35)) +          \n  labs(title = \"Fuel efficiency by car weight\")\n\n\n\n\n\n\n\n4.5.2 x/y_discrete\n\n\nCode\nggplot(mpg,aes(x=factor(drv),fill=class))+\n    geom_bar(position = \"fill\") -&gt;p\np | p + scale_x_discrete(name = \"drv\",                                  \n                   limits = c(\"f\", \"r\"),    \n                   labels = c('f'=\"drv='f'\",'r'= \"drv='r'\"),\n                   position = \"top\") \n\n\n\n\n\n\n\n4.5.3 color\n\n\nCode\np &lt;- ggplot(mtcars, aes(x=wt, y=mpg, color=disp)) +\n  geom_point(shape=19, size=3) \n\np + ggtitle(\"A. Default color gradient\")|\np + scale_color_gradient(low=\"grey\", high=\"black\") +\n  ggtitle(\"B. Greyscale gradient\")|\np + scale_color_gradient(low=\"red\", high=\"blue\") +\n  ggtitle(\"C. Red-blue color gradient\")\n\n\n\n\n\nCode\n\np + scale_color_steps(low=\"red\", high=\"blue\") +\n  ggtitle(\"D. Red-blue binned color Gradient\")|\np + scale_color_steps2(low=\"red\", mid=\"white\", high=\"blue\",\n                       midpoint=median(mtcars$disp)) +\n  ggtitle(\"E. Red-white-blue binned gradient\")|\np + scale_color_viridis_c(direction = -1) +    # viridis_c,d,b\n  ggtitle(\"F. Viridis color gradient\")\n\n\n\n\n\n\n\n4.5.4 fill\n\n\nCode\np &lt;- ggplot(mpg,aes(drv,fill=class))+\n    geom_bar()\n\np + ggtitle(\"A. Default colors\")|\np + scale_fill_brewer(palette=\"Set2\") +\n  ggtitle(\"B. ColorBrewer Set2 palette\")\n\n\n\n\n\nCode\n\np + scale_fill_viridis_d() +\n  ggtitle(\"C. Viridis color scheme\")|\np + scale_fill_manual(values=c(\"gold4\", \"orange2\", \"deepskyblue3\", \"blue4\",\n                               \"brown2\", \"yellowgreen\",\"lightpink\")) +\n  ggtitle(\"D. Manual color selection\")"
  },
  {
    "objectID": "ggplot2_graphics.html#分面",
    "href": "ggplot2_graphics.html#分面",
    "title": "3  图形语法",
    "section": "4.6 分面",
    "text": "4.6 分面\n\n\nCode\nq &lt;- ggplot(mpg,aes(x=displ))+\n  geom_histogram(fill=\"lightblue\")\n\n# 一个分类变量\nq + facet_wrap(~drv,nrow = 3)\n\n\n\n\n\nCode\nq + facet_wrap(~drv,ncol = 3)  # \n\n\n\n\n\nCode\n\n# 多个分类变量\nq + facet_grid(drv~class)\n\n\n\n\n\nCode\nq + facet_grid(drv~.)\n\n\n\n\n\nCode\nq + facet_grid(.~drv)   #"
  },
  {
    "objectID": "ggplot2_graphics.html#主题",
    "href": "ggplot2_graphics.html#主题",
    "title": "3  图形语法",
    "section": "4.7 主题",
    "text": "4.7 主题\n\n4.7.1 内置主题\n\n\nCode\np + theme_grey() + labs(title = \"theme_grey\")  |\np + theme_bw() + labs(title = \"theme_bw\")  \n\n\n\n\n\nCode\np + theme_minimal() + labs(title = \"theme_minimal\")|  \np + theme_classic() + labs(title = \"theme_classic\")\n\n\n\n\n\n\n\n4.7.2 字体\n\n\nCode\nfindfont &lt;- function(x){\n  suppressMessages(require(showtext))\n  suppressMessages(require(dplyr))\n  dplyr::filter(font_files(), grepl(x, family, ignore.case=TRUE)) |&gt; \n    select(path, file, family, face)\n}\n\nfindfont(\"comic\")\n\n\n\n\n\n\npath\nfile\nfamily\nface\n\n\n\n\nC:/Windows/Fonts\ncomic.ttf\nComic Sans MS\nRegular\n\n\nC:/Windows/Fonts\ncomicbd.ttf\nComic Sans MS\nBold\n\n\nC:/Windows/Fonts\ncomici.ttf\nComic Sans MS\nItalic\n\n\nC:/Windows/Fonts\ncomicz.ttf\nComic Sans MS\nBold Italic\n\n\n\n\n\n\nCode\nfont_add(family = \"Times New Roman\", regular = \"C:\\\\Windows\\\\Fonts\\\\Times New Roman\\\\times.ttf\",\n         bold = \"C:\\\\Windows\\\\Fonts\\\\Times New Roman\\\\timesbd.ttf\",\n         italic = \"C:\\\\Windows\\\\Fonts\\\\Times New Roman\\\\timesi.ttf\",\n         bolditalic = \"C:\\\\Windows\\\\Fonts\\\\Times New Roman\\\\timesbi.ttf\")\nfindfont(\"Times New Roman\")\n\n\n\n\n\n\npath\nfile\nfamily\nface\n\n\n\n\nC:/Windows/Fonts\ntimes.ttf\nTimes New Roman\nRegular\n\n\nC:/Windows/Fonts\ntimesbd.ttf\nTimes New Roman\nBold\n\n\nC:/Windows/Fonts\ntimesbi.ttf\nTimes New Roman\nBold Italic\n\n\nC:/Windows/Fonts\ntimesi.ttf\nTimes New Roman\nItalic\n\n\n\n\n\n\nCode\nfont.families()\n#&gt; [1] \"sans\"            \"serif\"           \"mono\"            \"wqy-microhei\"   \n#&gt; [5] \"Times New Roman\"\n\n\n\n\n4.7.3 自定义主题\n\n\nCode\nmytheme &lt;- theme(plot.title=element_text(face=\"bold.italic\",  size=\"14\", color=\"brown\"),\n                 axis.title=element_text(face=\"bold.italic\",  size=10, color=\"brown\"),\n                 axis.text=element_text(face=\"bold\", size=9,  color=\"darkblue\"), \n                 panel.background=element_rect(fill=\"white\",  color=\"darkblue\"),  \n                 panel.grid.major.y=element_line(color=\"grey\",  linetype=1),  \n                 panel.grid.minor.y=element_line(color=\"grey\",  linetype=2),  \n                 panel.grid.minor.x=element_blank(),  legend.position=\"top\") \nggplot(mpg, aes(x=drv, y=hwy, fill=drv)) +  \n  geom_boxplot() +  \n  mytheme \n\n\n\n\n\n\n\n4.7.4 ggthemes\n\n\n4.7.5 图例\n\n\nCode\nggplot(mtcars, aes(wt, mpg, color = factor(cyl))) +\n  geom_point(size=3) +\n  scale_color_discrete(name=\"Cylinders\") +\n  labs(title = \"Fuel Efficiency for 32 Automobiles\",\n       x = \"Weight (1000 lbs)\",\n       y = \"Miles per gallon\") +\n  theme(legend.position = c(.95, .95),\n        legend.justification = c(1, 1),\n        legend.background = element_rect(fill = \"lightgrey\",\n                                         color = \"white\",\n                                         linewidth = 1),\n        legend.key = element_blank(),\n        legend.direction = \"horizontal\")\n\n\n\n\n\n\n\n4.7.6 绘图区\n\n\nCode\nmtcars$am &lt;- factor(mtcars$am, labels = c(\"Automatic\", \"Manual\")) \nggplot(data=mtcars, aes(x = disp, y = mpg)) +                     \n  geom_point(aes(color=factor(cyl)), size=2) +                   \n  geom_smooth(method=\"lm\", formula = y ~ x + I(x^2),                             \n              linetype=\"dotted\", se=FALSE) +\n  scale_color_discrete(\"Number of cylinders\") +\n  facet_wrap(~am, ncol=2) +                                      \n  labs(title = \"Mileage, transmission type, and number of cylinders\",\n       x = \"Engine displacement (cu. in.)\",\n       y = \"Miles per gallon\") +\n  theme_bw() +                                                  \n  theme(strip.background = element_rect(fill = \"white\"),\n        panel.grid.major = element_line(color=\"lightgrey\"),\n        panel.grid.minor = element_line(color=\"lightgrey\",\n                                        linetype=\"dashed\"),\n        axis.ticks = element_blank(),\n        legend.position = \"bottom\",\n        legend.key = element_blank())"
  },
  {
    "objectID": "ggplot2_graphics.html#patchwork",
    "href": "ggplot2_graphics.html#patchwork",
    "title": "3  图形语法",
    "section": "4.8 patchwork",
    "text": "4.8 patchwork\n\n\nCode\np1 &lt;- ggplot(mtcars, aes(disp, mpg)) +                \n  geom_point() \n\np2 &lt;- ggplot(mtcars, aes(factor(cyl), mpg)) +\n  geom_boxplot() \n\np3 &lt;- ggplot(mtcars, aes(mpg)) +\n  geom_histogram(bins=8, fill=\"darkgrey\", color=\"white\") \n\n\np1+p2\n\n\n\n\n\nCode\np1|p2\n\n\n\n\n\nCode\n\np1+p2/p3\n\n\n\n\n\nCode\n\np1/(p2+p3)\n\n\n\n\n\nCode\n\n(p1 | p2) / p3 +                                      \n  plot_annotation(title = 'Fuel Efficiency Data') &\n  theme_minimal() +\n  theme(axis.title = element_text(size=8),\n        axis.text = element_text(size=8))"
  },
  {
    "objectID": "ggplot2_graphics.html#热图",
    "href": "ggplot2_graphics.html#热图",
    "title": "3  图形语法",
    "section": "5.1 热图",
    "text": "5.1 热图"
  },
  {
    "objectID": "ggplot2_graphics.html#sec-correlogram",
    "href": "ggplot2_graphics.html#sec-correlogram",
    "title": "3  图形语法",
    "section": "5.2 相关图",
    "text": "5.2 相关图\n\n\nCode\nlibrary(ggcorrplot)"
  },
  {
    "objectID": "ggplot2_graphics.html#ggpubr",
    "href": "ggplot2_graphics.html#ggpubr",
    "title": "3  图形语法",
    "section": "5.3 ggpubr",
    "text": "5.3 ggpubr\nggplot2 with Publication Ready Graphics in R\nhttps://rpkgs.datanovia.com/ggpubr/\nhttps://www.datanovia.com/en/blog/tag/ggpubr/\n\n5.3.1 ggboxplot\n\n\nCode\nlibrary(ggpubr)\ndata(\"ToothGrowth\")\ndf &lt;- ToothGrowth\np &lt;- ggboxplot(data = df,\n               x = \"dose\",\n               y = \"len\",\n               color = \"dose\",\n               palette = \"lancet\",\n               add = \"jitter\",\n               shape =\"dose\",\n               bxp.errorbar = TRUE,\n               bxp.errorbar.width = 0.1,\n               )\np\n\n\n\n\n\nCode\nmy_compare &lt;- list(c(\"0.5\",\"1\"),c(\"1\",\"2\"),c(\"0.5\",\"2\"))\np+stat_compare_means(comparisons = my_compare,method = \"t.test\")\n\n\n\n\n\n\n\n5.3.2 ggbarplot\n\n\nCode\nggbarplot(data = df,\n               x = \"dose\",\n               y = \"len\",\n            color = \"supp\", # fill\n               palette = \"lancet\",# \"lancet\", \"jco\",\"npg\",\n          add = c(\"mean_se\",\"dotplot\"), #  mean_sd, mean_ci\n          error.plot = \"errorbar\", # upper_errorbar,\"lower_errorbar\",pointrange,\"linerange\", \"crossbar\",\n        \n              label = TRUE,\n              lab.pos = \"in\",\n          position = position_dodge(),\n              orientation=\"vertical\",\n              order = c(\"0.5\",\"2\",\"1\"),\n          )\n\n\n\n\n\n\n\n5.3.3 Grouped bar plots + significance\nhttps://www.datanovia.com/en/blog/how-to-add-p-values-onto-a-grouped-ggplot-using-the-ggpubr-r-package/\n\n\nCode\nToothGrowth$dose &lt;- as.factor(ToothGrowth$dose)\n# Comparisons against reference\nstat.test &lt;- compare_means(\n  len ~ dose, data = ToothGrowth, group.by = \"supp\",\n  method = \"t.test\", ref.group = \"0.5\"\n)\nstat.test\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsupp\n.y.\ngroup1\ngroup2\np\np.adj\np.format\np.signif\nmethod\n\n\n\n\nVC\nlen\n0.5\n1\n7.00e-07\n2.0e-06\n6.8e-07\n****\nT-test\n\n\nVC\nlen\n0.5\n2\n0.00e+00\n2.0e-07\n4.7e-08\n****\nT-test\n\n\nOJ\nlen\n0.5\n1\n8.78e-05\n8.8e-05\n8.8e-05\n****\nT-test\n\n\nOJ\nlen\n0.5\n2\n1.30e-06\n2.6e-06\n1.3e-06\n****\nT-test\n\n\n\n\n\n\nCode\nbp &lt;- ggbarplot(ToothGrowth, x = \"supp\", y = \"len\",\n                fill = \"dose\", palette = \"jco\",\n                add = \"mean_sd\", add.params = list(group = \"dose\"),\n                position = position_dodge(0.8))\nbp\n\n\n\n\n\nCode\nbp + stat_pvalue_manual(\n  stat.test, x = \"supp\", y.position = 33,\n  label = \"p={p.format}\",\n  position = position_dodge(0.8)\n)\n\n\n\n\n\n\n\n5.3.4 ggpubr::ggdotchart Cleveland’s Dot Plots\n\n\n5.3.5 ggpubr::ggdotplot Dot plot"
  },
  {
    "objectID": "ggplot2_graphics.html#ggrepel",
    "href": "ggplot2_graphics.html#ggrepel",
    "title": "3  图形语法",
    "section": "5.4 ggrepel",
    "text": "5.4 ggrepel\n\n\nCode\nlibrary(ggrepel)\nggplot(data = mtcars, aes(x= wt, y = mpg)) +\n  geom_point(color = \"steelblue\") +\n  geom_hline(yintercept = median(mtcars$mpg),                     \n             linetype = \"dashed\",\n             color = \"steelblue\") +\n  geom_label(x = 5.2, y = 20.5,                                      \n             label = \"median MPG\", \n             color = \"white\", \n             fill = \"steelblue\",\n             size = 3) +\n  geom_text_repel(label = row.names(mtcars), size = 3)"
  },
  {
    "objectID": "ggplot2_graphics.html#山脊图",
    "href": "ggplot2_graphics.html#山脊图",
    "title": "3  图形语法",
    "section": "5.5 山脊图",
    "text": "5.5 山脊图\n\n\nCode\nlibrary(ggridges)\nggplot(mpg, aes(x = hwy, y = drv, fill = drv, color = drv)) +\n  geom_density_ridges(alpha = 0.5, show.legend = FALSE)"
  },
  {
    "objectID": "ggplot2_graphics.html#plotly",
    "href": "ggplot2_graphics.html#plotly",
    "title": "3  图形语法",
    "section": "5.6 plotly",
    "text": "5.6 plotly\nConverting a ggplot2 graph to an interactive plotly graph\n\n\nCode\nlibrary(plotly)\nmtcars$cyl &lt;- factor(mtcars$cyl)\nmtcars$name &lt;- row.names(mtcars)\n\np &lt;- ggplot(mtcars, aes(x = disp, y= mpg, color = cyl)) +\n  geom_point()\nggplotly(p)\n\n\n\n\n\n\n\n\nCode\n# Customizing the plotly tooltip\np &lt;- ggplot(mtcars,\n            aes(x = disp, y=mpg, color=cyl,\n                text = paste(name, \"\\n\",\n                             \"mpg:\", mpg, \"\\n\",\n                             \"disp:\", disp, \"\\n\",\n                             \"cyl:\", cyl, \"\\n\",\n                             \"gear:\", gear))) +\n  geom_point()"
  },
  {
    "objectID": "ggplot2_graphics.html#marginal-histogram-boxplot",
    "href": "ggplot2_graphics.html#marginal-histogram-boxplot",
    "title": "3  图形语法",
    "section": "5.7 Marginal Histogram / Boxplot",
    "text": "5.7 Marginal Histogram / Boxplot\n\n\nCode\nlibrary(ggExtra)\n#&gt; Error in library(package, pos = pos, lib.loc = lib.loc, character.only = TRUE, : there is no package called 'ggExtra'"
  },
  {
    "objectID": "ggplot2_graphics.html#森林图",
    "href": "ggplot2_graphics.html#森林图",
    "title": "3  图形语法",
    "section": "5.8 森林图",
    "text": "5.8 森林图"
  },
  {
    "objectID": "ggplot2_graphics.html#ggpie",
    "href": "ggplot2_graphics.html#ggpie",
    "title": "3  图形语法",
    "section": "5.9 ggpie",
    "text": "5.9 ggpie\n\n\nCode\n                           \nif(!require(remotes)) install.packages(\"remotes\")\n#&gt; package 'remotes' successfully unpacked and MD5 sums checked\n#&gt; \n#&gt; The downloaded binary packages are in\n#&gt;  C:\\Users\\DELL\\AppData\\Local\\Temp\\RtmpywagK3\\downloaded_packages\ndevtools::install_github(\"rkabacoff/ggpie\")\n#&gt; Error in loadNamespace(x): there is no package called 'devtools'\n\nlibrary(ggplot2)\nlibrary(ggpie)\n#&gt; Error in library(package, pos = pos, lib.loc = lib.loc, character.only = TRUE, : there is no package called 'ggpie'\nggpie(mpg, class)\n#&gt; Error in `dplyr::pull()`:\n#&gt; ! Can't extract column with `!!enquo(var)`.\n#&gt; ✖ `!!enquo(var)` must be numeric or character, not a primitive function.\n\nggpie(mpg, class, legend=FALSE, offset=1.3, \n      title=\"Automobiles by Car Class\")\n#&gt; Error in `dplyr::pull()`:\n#&gt; ! Can't extract column with `!!enquo(var)`.\n#&gt; ✖ `!!enquo(var)` must be numeric or character, not a primitive function.\n\nggpie(mpg, class, year, \n      legend=FALSE, offset=1.3, title=\"Car Class by Year\")\n#&gt; Error in `dplyr::pull()`:\n#&gt; ! Can't extract column with `!!enquo(var)`.\n#&gt; ✖ `!!enquo(var)` must be numeric or character, not a primitive function."
  },
  {
    "objectID": "ggplot2_graphics.html#geom_treemap",
    "href": "ggplot2_graphics.html#geom_treemap",
    "title": "3  图形语法",
    "section": "5.10 geom_treemap",
    "text": "5.10 geom_treemap\n\n\nCode\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(treemapify)\n#&gt; Error in library(package, pos = pos, lib.loc = lib.loc, character.only = TRUE, : there is no package called 'treemapify'\n\nplotdata &lt;- mpg %&gt;% count(manufacturer)\n\nggplot(plotdata,\n       aes(fill = manufacturer,\n           area = n,\n           label = manufacturer)) +\n  geom_treemap() +\n  geom_treemap_text() +\n  theme(legend.position = \"none\")\n#&gt; Error in geom_treemap(): could not find function \"geom_treemap\"\n\n# Tree Map with Subgrouping\nplotdata &lt;- mpg %&gt;%  \n  count(manufacturer, drv)\nplotdata$drv &lt;- factor(plotdata$drv, \n                       levels=c(\"4\", \"f\", \"r\"),\n                       labels=c(\"4-wheel\", \"front-wheel\", \"rear\"))\n\nggplot(plotdata,\n       aes(fill = manufacturer, \n           area = n,\n           label = manufacturer,\n           subgroup=drv)) +\n  geom_treemap() + \n  geom_treemap_subgroup_border() +\n  geom_treemap_subgroup_text(\n    place = \"middle\",\n    colour = \"black\",\n    alpha = 0.5,\n    grow = FALSE) +\n  geom_treemap_text(colour = \"white\", \n                    place = \"centre\",\n                    grow=FALSE) +\n  theme(legend.position = \"none\")\n#&gt; Error in geom_treemap(): could not find function \"geom_treemap\""
  }
]