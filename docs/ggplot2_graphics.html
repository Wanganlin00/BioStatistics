<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>BioStatistics &amp; Graphics - 3&nbsp; 图形语法</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./base_graphics.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./statistical_description.html">统计描述</a></li><li class="breadcrumb-item"><a href="./ggplot2_graphics.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">图形语法</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">BioStatistics &amp; Graphics</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">快速开始</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">数据科学</span></span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">统计描述</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./statistical_description.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">统计描述</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./base_graphics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">basic graphics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ggplot2_graphics.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">图形语法</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#ggplot2" id="toc-ggplot2" class="nav-link active" data-scroll-target="#ggplot2"><span class="header-section-number">4</span> <code>ggplot2::</code></a>
  <ul>
  <li><a href="#ggplotdata-mapping-aesxy" id="toc-ggplotdata-mapping-aesxy" class="nav-link" data-scroll-target="#ggplotdata-mapping-aesxy"><span class="header-section-number">4.1</span> <code>ggplot(data =  ,mapping = aes(x,y,…))</code></a>
  <ul class="collapse">
  <li><a href="#aesthetics-mapping" id="toc-aesthetics-mapping" class="nav-link" data-scroll-target="#aesthetics-mapping"><span class="header-section-number">4.1.1</span> aesthetics mapping</a></li>
  </ul></li>
  <li><a href="#geom_" id="toc-geom_" class="nav-link" data-scroll-target="#geom_"><span class="header-section-number">4.2</span> geom_<geometry></geometry></a>
  <ul class="collapse">
  <li><a href="#统计变换-statistical-transformations" id="toc-统计变换-statistical-transformations" class="nav-link" data-scroll-target="#统计变换-statistical-transformations"><span class="header-section-number">4.2.0.1</span> 统计变换 statistical transformations</a></li>
  <li><a href="#位置调整-position-adjustments" id="toc-位置调整-position-adjustments" class="nav-link" data-scroll-target="#位置调整-position-adjustments"><span class="header-section-number">4.2.0.2</span> 位置调整 position adjustments</a></li>
  <li><a href="#x连续型变量" id="toc-x连续型变量" class="nav-link" data-scroll-target="#x连续型变量"><span class="header-section-number">4.2.1</span> X=连续型变量</a>
  <ul class="collapse">
  <li><a href="#geom_point-geom_smooth" id="toc-geom_point-geom_smooth" class="nav-link" data-scroll-target="#geom_point-geom_smooth"><span class="header-section-number">4.2.1.1</span> geom_point / geom_smooth</a></li>
  <li><a href="#geom_histogram" id="toc-geom_histogram" class="nav-link" data-scroll-target="#geom_histogram"><span class="header-section-number">4.2.1.2</span> geom_histogram</a></li>
  <li><a href="#geom_density" id="toc-geom_density" class="nav-link" data-scroll-target="#geom_density"><span class="header-section-number">4.2.1.3</span> geom_density</a></li>
  <li><a href="#geom_rug" id="toc-geom_rug" class="nav-link" data-scroll-target="#geom_rug"><span class="header-section-number">4.2.1.4</span> geom_rug</a></li>
  <li><a href="#geom_jitter" id="toc-geom_jitter" class="nav-link" data-scroll-target="#geom_jitter"><span class="header-section-number">4.2.1.5</span> geom_jitter</a></li>
  </ul></li>
  <li><a href="#x离散型变量" id="toc-x离散型变量" class="nav-link" data-scroll-target="#x离散型变量"><span class="header-section-number">4.2.2</span> X=离散型变量</a>
  <ul class="collapse">
  <li><a href="#geom_bar" id="toc-geom_bar" class="nav-link" data-scroll-target="#geom_bar"><span class="header-section-number">4.2.2.1</span> geom_bar</a></li>
  <li><a href="#geom_errorbar" id="toc-geom_errorbar" class="nav-link" data-scroll-target="#geom_errorbar"><span class="header-section-number">4.2.2.2</span> geom_errorbar</a></li>
  <li><a href="#geom_dotplot" id="toc-geom_dotplot" class="nav-link" data-scroll-target="#geom_dotplot"><span class="header-section-number">4.2.2.3</span> geom_dotplot</a></li>
  <li><a href="#geom_boxplot" id="toc-geom_boxplot" class="nav-link" data-scroll-target="#geom_boxplot"><span class="header-section-number">4.2.2.4</span> geom_boxplot</a></li>
  <li><a href="#geom_violin" id="toc-geom_violin" class="nav-link" data-scroll-target="#geom_violin"><span class="header-section-number">4.2.2.5</span> geom_violin</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#文本标签注释" id="toc-文本标签注释" class="nav-link" data-scroll-target="#文本标签注释"><span class="header-section-number">4.3</span> 文本标签注释</a></li>
  <li><a href="#坐标系" id="toc-坐标系" class="nav-link" data-scroll-target="#坐标系"><span class="header-section-number">4.4</span> 坐标系</a></li>
  <li><a href="#scale" id="toc-scale" class="nav-link" data-scroll-target="#scale"><span class="header-section-number">4.5</span> scale</a>
  <ul class="collapse">
  <li><a href="#xy_continuous" id="toc-xy_continuous" class="nav-link" data-scroll-target="#xy_continuous"><span class="header-section-number">4.5.1</span> x/y_continuous</a></li>
  <li><a href="#xy_discrete" id="toc-xy_discrete" class="nav-link" data-scroll-target="#xy_discrete"><span class="header-section-number">4.5.2</span> x/y_discrete</a></li>
  <li><a href="#color" id="toc-color" class="nav-link" data-scroll-target="#color"><span class="header-section-number">4.5.3</span> color</a></li>
  <li><a href="#fill" id="toc-fill" class="nav-link" data-scroll-target="#fill"><span class="header-section-number">4.5.4</span> fill</a></li>
  </ul></li>
  <li><a href="#分面" id="toc-分面" class="nav-link" data-scroll-target="#分面"><span class="header-section-number">4.6</span> 分面</a></li>
  <li><a href="#主题" id="toc-主题" class="nav-link" data-scroll-target="#主题"><span class="header-section-number">4.7</span> 主题</a>
  <ul class="collapse">
  <li><a href="#内置主题" id="toc-内置主题" class="nav-link" data-scroll-target="#内置主题"><span class="header-section-number">4.7.1</span> 内置主题</a></li>
  <li><a href="#字体" id="toc-字体" class="nav-link" data-scroll-target="#字体"><span class="header-section-number">4.7.2</span> 字体</a></li>
  <li><a href="#自定义主题" id="toc-自定义主题" class="nav-link" data-scroll-target="#自定义主题"><span class="header-section-number">4.7.3</span> 自定义主题</a></li>
  <li><a href="#ggthemes" id="toc-ggthemes" class="nav-link" data-scroll-target="#ggthemes"><span class="header-section-number">4.7.4</span> ggthemes</a></li>
  <li><a href="#图例" id="toc-图例" class="nav-link" data-scroll-target="#图例"><span class="header-section-number">4.7.5</span> 图例</a></li>
  <li><a href="#绘图区" id="toc-绘图区" class="nav-link" data-scroll-target="#绘图区"><span class="header-section-number">4.7.6</span> 绘图区</a></li>
  </ul></li>
  <li><a href="#patchwork" id="toc-patchwork" class="nav-link" data-scroll-target="#patchwork"><span class="header-section-number">4.8</span> patchwork</a></li>
  </ul></li>
  <li><a href="#拓展包" id="toc-拓展包" class="nav-link" data-scroll-target="#拓展包"><span class="header-section-number">5</span> 拓展包</a>
  <ul>
  <li><a href="#热图" id="toc-热图" class="nav-link" data-scroll-target="#热图"><span class="header-section-number">5.1</span> 热图</a></li>
  <li><a href="#sec-correlogram" id="toc-sec-correlogram" class="nav-link" data-scroll-target="#sec-correlogram"><span class="header-section-number">5.2</span> 相关图</a></li>
  <li><a href="#ggpubr" id="toc-ggpubr" class="nav-link" data-scroll-target="#ggpubr"><span class="header-section-number">5.3</span> ggpubr</a>
  <ul class="collapse">
  <li><a href="#ggboxplot" id="toc-ggboxplot" class="nav-link" data-scroll-target="#ggboxplot"><span class="header-section-number">5.3.1</span> ggboxplot</a></li>
  <li><a href="#ggbarplot" id="toc-ggbarplot" class="nav-link" data-scroll-target="#ggbarplot"><span class="header-section-number">5.3.2</span> ggbarplot</a></li>
  <li><a href="#grouped-bar-plots-significance" id="toc-grouped-bar-plots-significance" class="nav-link" data-scroll-target="#grouped-bar-plots-significance"><span class="header-section-number">5.3.3</span> Grouped bar plots + significance</a></li>
  <li><a href="#ggpubrggdotchart-clevelands-dot-plots" id="toc-ggpubrggdotchart-clevelands-dot-plots" class="nav-link" data-scroll-target="#ggpubrggdotchart-clevelands-dot-plots"><span class="header-section-number">5.3.4</span> ggpubr::ggdotchart Cleveland’s Dot Plots</a></li>
  <li><a href="#ggpubrggdotplot-dot-plot" id="toc-ggpubrggdotplot-dot-plot" class="nav-link" data-scroll-target="#ggpubrggdotplot-dot-plot"><span class="header-section-number">5.3.5</span> ggpubr::ggdotplot Dot plot</a></li>
  </ul></li>
  <li><a href="#ggrepel" id="toc-ggrepel" class="nav-link" data-scroll-target="#ggrepel"><span class="header-section-number">5.4</span> ggrepel</a></li>
  <li><a href="#山脊图" id="toc-山脊图" class="nav-link" data-scroll-target="#山脊图"><span class="header-section-number">5.5</span> 山脊图</a></li>
  <li><a href="#plotly" id="toc-plotly" class="nav-link" data-scroll-target="#plotly"><span class="header-section-number">5.6</span> plotly</a></li>
  <li><a href="#marginal-histogram-boxplot" id="toc-marginal-histogram-boxplot" class="nav-link" data-scroll-target="#marginal-histogram-boxplot"><span class="header-section-number">5.7</span> Marginal Histogram / Boxplot</a></li>
  <li><a href="#森林图" id="toc-森林图" class="nav-link" data-scroll-target="#森林图"><span class="header-section-number">5.8</span> 森林图</a></li>
  <li><a href="#ggpie" id="toc-ggpie" class="nav-link" data-scroll-target="#ggpie"><span class="header-section-number">5.9</span> ggpie</a></li>
  <li><a href="#geom_treemap" id="toc-geom_treemap" class="nav-link" data-scroll-target="#geom_treemap"><span class="header-section-number">5.10</span> geom_treemap</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span id="sec-ggplot2" class="quarto-section-identifier"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">图形语法</span></span></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p><a href="https://ggplot2-book.org/mastery">ggplot2：用于数据分析的优雅图形</a></p>
<section id="ggplot2" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> <code>ggplot2::</code></h1>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-1_a92d2ad409742cb592b512438b8b50c4">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(mpg,<span class="at">package =</span> <span class="st">"ggplot2"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>mpg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 14%">
<col style="width: 26%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 4%">
<col style="width: 12%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">manufacturer</th>
<th style="text-align: left;">model</th>
<th style="text-align: right;">displ</th>
<th style="text-align: right;">year</th>
<th style="text-align: right;">cyl</th>
<th style="text-align: left;">trans</th>
<th style="text-align: left;">drv</th>
<th style="text-align: right;">cty</th>
<th style="text-align: right;">hwy</th>
<th style="text-align: left;">fl</th>
<th style="text-align: left;">class</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a4</td>
<td style="text-align: right;">1.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a4</td>
<td style="text-align: right;">1.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a4</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m6)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">31</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a4</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(av)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">30</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a4</td>
<td style="text-align: right;">2.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a4</td>
<td style="text-align: right;">2.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a4</td>
<td style="text-align: right;">3.1</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(av)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">27</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a4 quattro</td>
<td style="text-align: right;">1.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a4 quattro</td>
<td style="text-align: right;">1.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">25</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a4 quattro</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m6)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">28</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a4 quattro</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(s6)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">27</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a4 quattro</td>
<td style="text-align: right;">2.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">25</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a4 quattro</td>
<td style="text-align: right;">2.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">25</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a4 quattro</td>
<td style="text-align: right;">3.1</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(s6)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">25</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a4 quattro</td>
<td style="text-align: right;">3.1</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">manual(m6)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">25</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a6 quattro</td>
<td style="text-align: right;">2.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="odd">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a6 quattro</td>
<td style="text-align: right;">3.1</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(s6)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">25</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="even">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a6 quattro</td>
<td style="text-align: right;">4.2</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(s6)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">23</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="odd">
<td style="text-align: left;">chevrolet</td>
<td style="text-align: left;">c1500 suburban 2wd</td>
<td style="text-align: right;">5.3</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">chevrolet</td>
<td style="text-align: left;">c1500 suburban 2wd</td>
<td style="text-align: right;">5.3</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">e</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">chevrolet</td>
<td style="text-align: left;">c1500 suburban 2wd</td>
<td style="text-align: right;">5.3</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">chevrolet</td>
<td style="text-align: left;">c1500 suburban 2wd</td>
<td style="text-align: right;">5.7</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">chevrolet</td>
<td style="text-align: left;">c1500 suburban 2wd</td>
<td style="text-align: right;">6.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">chevrolet</td>
<td style="text-align: left;">corvette</td>
<td style="text-align: right;">5.7</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">manual(m6)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">2seater</td>
</tr>
<tr class="odd">
<td style="text-align: left;">chevrolet</td>
<td style="text-align: left;">corvette</td>
<td style="text-align: right;">5.7</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">23</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">2seater</td>
</tr>
<tr class="even">
<td style="text-align: left;">chevrolet</td>
<td style="text-align: left;">corvette</td>
<td style="text-align: right;">6.2</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">manual(m6)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">2seater</td>
</tr>
<tr class="odd">
<td style="text-align: left;">chevrolet</td>
<td style="text-align: left;">corvette</td>
<td style="text-align: right;">6.2</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(s6)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">25</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">2seater</td>
</tr>
<tr class="even">
<td style="text-align: left;">chevrolet</td>
<td style="text-align: left;">corvette</td>
<td style="text-align: right;">7.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">manual(m6)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">2seater</td>
</tr>
<tr class="odd">
<td style="text-align: left;">chevrolet</td>
<td style="text-align: left;">k1500 tahoe 4wd</td>
<td style="text-align: right;">5.3</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">chevrolet</td>
<td style="text-align: left;">k1500 tahoe 4wd</td>
<td style="text-align: right;">5.3</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">14</td>
<td style="text-align: left;">e</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">chevrolet</td>
<td style="text-align: left;">k1500 tahoe 4wd</td>
<td style="text-align: right;">5.7</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">chevrolet</td>
<td style="text-align: left;">k1500 tahoe 4wd</td>
<td style="text-align: right;">6.5</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">d</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">chevrolet</td>
<td style="text-align: left;">malibu</td>
<td style="text-align: right;">2.4</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">27</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="even">
<td style="text-align: left;">chevrolet</td>
<td style="text-align: left;">malibu</td>
<td style="text-align: right;">2.4</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">30</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="odd">
<td style="text-align: left;">chevrolet</td>
<td style="text-align: left;">malibu</td>
<td style="text-align: right;">3.1</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="even">
<td style="text-align: left;">chevrolet</td>
<td style="text-align: left;">malibu</td>
<td style="text-align: right;">3.5</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="odd">
<td style="text-align: left;">chevrolet</td>
<td style="text-align: left;">malibu</td>
<td style="text-align: right;">3.6</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(s6)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="even">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">caravan 2wd</td>
<td style="text-align: right;">2.4</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l3)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">minivan</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">caravan 2wd</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">minivan</td>
</tr>
<tr class="even">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">caravan 2wd</td>
<td style="text-align: right;">3.3</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">22</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">minivan</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">caravan 2wd</td>
<td style="text-align: right;">3.3</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">22</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">minivan</td>
</tr>
<tr class="even">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">caravan 2wd</td>
<td style="text-align: right;">3.3</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">minivan</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">caravan 2wd</td>
<td style="text-align: right;">3.3</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">minivan</td>
</tr>
<tr class="even">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">caravan 2wd</td>
<td style="text-align: right;">3.3</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">e</td>
<td style="text-align: left;">minivan</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">caravan 2wd</td>
<td style="text-align: right;">3.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">22</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">minivan</td>
</tr>
<tr class="even">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">caravan 2wd</td>
<td style="text-align: right;">3.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">21</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">minivan</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">caravan 2wd</td>
<td style="text-align: right;">3.8</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l6)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">23</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">minivan</td>
</tr>
<tr class="even">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">caravan 2wd</td>
<td style="text-align: right;">4.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l6)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">23</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">minivan</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">dakota pickup 4wd</td>
<td style="text-align: right;">3.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">manual(m6)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="even">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">dakota pickup 4wd</td>
<td style="text-align: right;">3.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">dakota pickup 4wd</td>
<td style="text-align: right;">3.9</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="even">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">dakota pickup 4wd</td>
<td style="text-align: right;">3.9</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">dakota pickup 4wd</td>
<td style="text-align: right;">4.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="even">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">dakota pickup 4wd</td>
<td style="text-align: right;">4.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">dakota pickup 4wd</td>
<td style="text-align: right;">4.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">e</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="even">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">dakota pickup 4wd</td>
<td style="text-align: right;">5.2</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">dakota pickup 4wd</td>
<td style="text-align: right;">5.2</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="even">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">durango 4wd</td>
<td style="text-align: right;">3.9</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">durango 4wd</td>
<td style="text-align: right;">4.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">durango 4wd</td>
<td style="text-align: right;">4.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">e</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">durango 4wd</td>
<td style="text-align: right;">4.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">durango 4wd</td>
<td style="text-align: right;">5.2</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">16</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">durango 4wd</td>
<td style="text-align: right;">5.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">durango 4wd</td>
<td style="text-align: right;">5.9</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">ram 1500 pickup 4wd</td>
<td style="text-align: right;">4.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">manual(m6)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">16</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="even">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">ram 1500 pickup 4wd</td>
<td style="text-align: right;">4.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">e</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">ram 1500 pickup 4wd</td>
<td style="text-align: right;">4.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="even">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">ram 1500 pickup 4wd</td>
<td style="text-align: right;">4.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">ram 1500 pickup 4wd</td>
<td style="text-align: right;">4.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">manual(m6)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">16</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="even">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">ram 1500 pickup 4wd</td>
<td style="text-align: right;">4.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">manual(m6)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">e</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">ram 1500 pickup 4wd</td>
<td style="text-align: right;">5.2</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="even">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">ram 1500 pickup 4wd</td>
<td style="text-align: right;">5.2</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">16</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">ram 1500 pickup 4wd</td>
<td style="text-align: right;">5.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="even">
<td style="text-align: left;">dodge</td>
<td style="text-align: left;">ram 1500 pickup 4wd</td>
<td style="text-align: right;">5.9</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">expedition 2wd</td>
<td style="text-align: right;">4.6</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">expedition 2wd</td>
<td style="text-align: right;">5.4</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">expedition 2wd</td>
<td style="text-align: right;">5.4</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l6)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">explorer 4wd</td>
<td style="text-align: right;">4.0</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">explorer 4wd</td>
<td style="text-align: right;">4.0</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">explorer 4wd</td>
<td style="text-align: right;">4.0</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">explorer 4wd</td>
<td style="text-align: right;">4.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">explorer 4wd</td>
<td style="text-align: right;">4.6</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l6)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">explorer 4wd</td>
<td style="text-align: right;">5.0</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">f150 pickup 4wd</td>
<td style="text-align: right;">4.2</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">f150 pickup 4wd</td>
<td style="text-align: right;">4.2</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="even">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">f150 pickup 4wd</td>
<td style="text-align: right;">4.6</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">16</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">f150 pickup 4wd</td>
<td style="text-align: right;">4.6</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">16</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="even">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">f150 pickup 4wd</td>
<td style="text-align: right;">4.6</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">f150 pickup 4wd</td>
<td style="text-align: right;">5.4</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="even">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">f150 pickup 4wd</td>
<td style="text-align: right;">5.4</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">mustang</td>
<td style="text-align: right;">3.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="even">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">mustang</td>
<td style="text-align: right;">3.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">25</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">mustang</td>
<td style="text-align: right;">4.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="even">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">mustang</td>
<td style="text-align: right;">4.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">mustang</td>
<td style="text-align: right;">4.6</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">21</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="even">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">mustang</td>
<td style="text-align: right;">4.6</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">22</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">mustang</td>
<td style="text-align: right;">4.6</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">23</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="even">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">mustang</td>
<td style="text-align: right;">4.6</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">22</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ford</td>
<td style="text-align: left;">mustang</td>
<td style="text-align: right;">5.4</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">manual(m6)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="even">
<td style="text-align: left;">honda</td>
<td style="text-align: left;">civic</td>
<td style="text-align: right;">1.6</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">28</td>
<td style="text-align: right;">33</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">honda</td>
<td style="text-align: left;">civic</td>
<td style="text-align: right;">1.6</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">32</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="even">
<td style="text-align: left;">honda</td>
<td style="text-align: left;">civic</td>
<td style="text-align: right;">1.6</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">32</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">honda</td>
<td style="text-align: left;">civic</td>
<td style="text-align: right;">1.6</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="even">
<td style="text-align: left;">honda</td>
<td style="text-align: left;">civic</td>
<td style="text-align: right;">1.6</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">32</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">honda</td>
<td style="text-align: left;">civic</td>
<td style="text-align: right;">1.8</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">34</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="even">
<td style="text-align: left;">honda</td>
<td style="text-align: left;">civic</td>
<td style="text-align: right;">1.8</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">36</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">honda</td>
<td style="text-align: left;">civic</td>
<td style="text-align: right;">1.8</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">36</td>
<td style="text-align: left;">c</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="even">
<td style="text-align: left;">honda</td>
<td style="text-align: left;">civic</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m6)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">hyundai</td>
<td style="text-align: left;">sonata</td>
<td style="text-align: right;">2.4</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="even">
<td style="text-align: left;">hyundai</td>
<td style="text-align: left;">sonata</td>
<td style="text-align: right;">2.4</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">27</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="odd">
<td style="text-align: left;">hyundai</td>
<td style="text-align: left;">sonata</td>
<td style="text-align: right;">2.4</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">30</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="even">
<td style="text-align: left;">hyundai</td>
<td style="text-align: left;">sonata</td>
<td style="text-align: right;">2.4</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">31</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="odd">
<td style="text-align: left;">hyundai</td>
<td style="text-align: left;">sonata</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="even">
<td style="text-align: left;">hyundai</td>
<td style="text-align: left;">sonata</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="odd">
<td style="text-align: left;">hyundai</td>
<td style="text-align: left;">sonata</td>
<td style="text-align: right;">3.3</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">28</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="even">
<td style="text-align: left;">hyundai</td>
<td style="text-align: left;">tiburon</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">hyundai</td>
<td style="text-align: left;">tiburon</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="even">
<td style="text-align: left;">hyundai</td>
<td style="text-align: left;">tiburon</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">28</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">hyundai</td>
<td style="text-align: left;">tiburon</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">27</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="even">
<td style="text-align: left;">hyundai</td>
<td style="text-align: left;">tiburon</td>
<td style="text-align: right;">2.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">hyundai</td>
<td style="text-align: left;">tiburon</td>
<td style="text-align: right;">2.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">manual(m6)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="even">
<td style="text-align: left;">hyundai</td>
<td style="text-align: left;">tiburon</td>
<td style="text-align: right;">2.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">jeep</td>
<td style="text-align: left;">grand cherokee 4wd</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">22</td>
<td style="text-align: left;">d</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">jeep</td>
<td style="text-align: left;">grand cherokee 4wd</td>
<td style="text-align: right;">3.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">jeep</td>
<td style="text-align: left;">grand cherokee 4wd</td>
<td style="text-align: right;">4.0</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">jeep</td>
<td style="text-align: left;">grand cherokee 4wd</td>
<td style="text-align: right;">4.7</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">jeep</td>
<td style="text-align: left;">grand cherokee 4wd</td>
<td style="text-align: right;">4.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">e</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">jeep</td>
<td style="text-align: left;">grand cherokee 4wd</td>
<td style="text-align: right;">4.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">jeep</td>
<td style="text-align: left;">grand cherokee 4wd</td>
<td style="text-align: right;">5.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">jeep</td>
<td style="text-align: left;">grand cherokee 4wd</td>
<td style="text-align: right;">6.1</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">14</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">land rover</td>
<td style="text-align: left;">range rover</td>
<td style="text-align: right;">4.0</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">land rover</td>
<td style="text-align: left;">range rover</td>
<td style="text-align: right;">4.2</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(s6)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">land rover</td>
<td style="text-align: left;">range rover</td>
<td style="text-align: right;">4.4</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(s6)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">land rover</td>
<td style="text-align: left;">range rover</td>
<td style="text-align: right;">4.6</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">lincoln</td>
<td style="text-align: left;">navigator 2wd</td>
<td style="text-align: right;">5.4</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">lincoln</td>
<td style="text-align: left;">navigator 2wd</td>
<td style="text-align: right;">5.4</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">16</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">lincoln</td>
<td style="text-align: left;">navigator 2wd</td>
<td style="text-align: right;">5.4</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l6)</td>
<td style="text-align: left;">r</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">mercury</td>
<td style="text-align: left;">mountaineer 4wd</td>
<td style="text-align: right;">4.0</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">mercury</td>
<td style="text-align: left;">mountaineer 4wd</td>
<td style="text-align: right;">4.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">mercury</td>
<td style="text-align: left;">mountaineer 4wd</td>
<td style="text-align: right;">4.6</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l6)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">mercury</td>
<td style="text-align: left;">mountaineer 4wd</td>
<td style="text-align: right;">5.0</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">nissan</td>
<td style="text-align: left;">altima</td>
<td style="text-align: right;">2.4</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">nissan</td>
<td style="text-align: left;">altima</td>
<td style="text-align: right;">2.4</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">27</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">nissan</td>
<td style="text-align: left;">altima</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(av)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">31</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="odd">
<td style="text-align: left;">nissan</td>
<td style="text-align: left;">altima</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m6)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">32</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="even">
<td style="text-align: left;">nissan</td>
<td style="text-align: left;">altima</td>
<td style="text-align: right;">3.5</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">manual(m6)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">27</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="odd">
<td style="text-align: left;">nissan</td>
<td style="text-align: left;">altima</td>
<td style="text-align: right;">3.5</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(av)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="even">
<td style="text-align: left;">nissan</td>
<td style="text-align: left;">maxima</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="odd">
<td style="text-align: left;">nissan</td>
<td style="text-align: left;">maxima</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">25</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="even">
<td style="text-align: left;">nissan</td>
<td style="text-align: left;">maxima</td>
<td style="text-align: right;">3.5</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(av)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">25</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="odd">
<td style="text-align: left;">nissan</td>
<td style="text-align: left;">pathfinder 4wd</td>
<td style="text-align: right;">3.3</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">nissan</td>
<td style="text-align: left;">pathfinder 4wd</td>
<td style="text-align: right;">3.3</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">nissan</td>
<td style="text-align: left;">pathfinder 4wd</td>
<td style="text-align: right;">4.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">nissan</td>
<td style="text-align: left;">pathfinder 4wd</td>
<td style="text-align: right;">5.6</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(s5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">pontiac</td>
<td style="text-align: left;">grand prix</td>
<td style="text-align: right;">3.1</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="even">
<td style="text-align: left;">pontiac</td>
<td style="text-align: left;">grand prix</td>
<td style="text-align: right;">3.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="odd">
<td style="text-align: left;">pontiac</td>
<td style="text-align: left;">grand prix</td>
<td style="text-align: right;">3.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">27</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="even">
<td style="text-align: left;">pontiac</td>
<td style="text-align: left;">grand prix</td>
<td style="text-align: right;">3.8</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">28</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="odd">
<td style="text-align: left;">pontiac</td>
<td style="text-align: left;">grand prix</td>
<td style="text-align: right;">5.3</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(s4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">25</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="even">
<td style="text-align: left;">subaru</td>
<td style="text-align: left;">forester awd</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">25</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">subaru</td>
<td style="text-align: left;">forester awd</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">subaru</td>
<td style="text-align: left;">forester awd</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">27</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">subaru</td>
<td style="text-align: left;">forester awd</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">25</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">subaru</td>
<td style="text-align: left;">forester awd</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">subaru</td>
<td style="text-align: left;">forester awd</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">23</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">subaru</td>
<td style="text-align: left;">impreza awd</td>
<td style="text-align: right;">2.2</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">subaru</td>
<td style="text-align: left;">impreza awd</td>
<td style="text-align: right;">2.2</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="even">
<td style="text-align: left;">subaru</td>
<td style="text-align: left;">impreza awd</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">subaru</td>
<td style="text-align: left;">impreza awd</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="even">
<td style="text-align: left;">subaru</td>
<td style="text-align: left;">impreza awd</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(s4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">25</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">subaru</td>
<td style="text-align: left;">impreza awd</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(s4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">27</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">subaru</td>
<td style="text-align: left;">impreza awd</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">25</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">subaru</td>
<td style="text-align: left;">impreza awd</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">27</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">4runner 4wd</td>
<td style="text-align: right;">2.7</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">4runner 4wd</td>
<td style="text-align: right;">2.7</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">4runner 4wd</td>
<td style="text-align: right;">3.4</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">4runner 4wd</td>
<td style="text-align: right;">3.4</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">4runner 4wd</td>
<td style="text-align: right;">4.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">4runner 4wd</td>
<td style="text-align: right;">4.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">camry</td>
<td style="text-align: right;">2.2</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="odd">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">camry</td>
<td style="text-align: right;">2.2</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">27</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="even">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">camry</td>
<td style="text-align: right;">2.4</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">31</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="odd">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">camry</td>
<td style="text-align: right;">2.4</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">31</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="even">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">camry</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="odd">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">camry</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="even">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">camry</td>
<td style="text-align: right;">3.5</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(s6)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">28</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="odd">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">camry solara</td>
<td style="text-align: right;">2.2</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">27</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">camry solara</td>
<td style="text-align: right;">2.2</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">camry solara</td>
<td style="text-align: right;">2.4</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">31</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">camry solara</td>
<td style="text-align: right;">2.4</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(s5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">31</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">camry solara</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">camry solara</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">camry solara</td>
<td style="text-align: right;">3.3</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(s5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">27</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">corolla</td>
<td style="text-align: right;">1.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l3)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">30</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">corolla</td>
<td style="text-align: right;">1.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">33</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">corolla</td>
<td style="text-align: right;">1.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">35</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">corolla</td>
<td style="text-align: right;">1.8</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">28</td>
<td style="text-align: right;">37</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">corolla</td>
<td style="text-align: right;">1.8</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">35</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">land cruiser wagon 4wd</td>
<td style="text-align: right;">4.7</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="even">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">land cruiser wagon 4wd</td>
<td style="text-align: right;">5.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">auto(s6)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">suv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">toyota tacoma 4wd</td>
<td style="text-align: right;">2.7</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="even">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">toyota tacoma 4wd</td>
<td style="text-align: right;">2.7</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="odd">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">toyota tacoma 4wd</td>
<td style="text-align: right;">2.7</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">22</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="even">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">toyota tacoma 4wd</td>
<td style="text-align: right;">3.4</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="odd">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">toyota tacoma 4wd</td>
<td style="text-align: right;">3.4</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="even">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">toyota tacoma 4wd</td>
<td style="text-align: right;">4.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">manual(m6)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="odd">
<td style="text-align: left;">toyota</td>
<td style="text-align: left;">toyota tacoma 4wd</td>
<td style="text-align: right;">4.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">4</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">pickup</td>
</tr>
<tr class="even">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">gti</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">gti</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">gti</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m6)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">gti</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(s6)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">gti</td>
<td style="text-align: right;">2.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">jetta</td>
<td style="text-align: right;">1.9</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">44</td>
<td style="text-align: left;">d</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">jetta</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">jetta</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">jetta</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(s6)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">jetta</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m6)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">jetta</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">auto(s6)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">jetta</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">jetta</td>
<td style="text-align: right;">2.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">23</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">jetta</td>
<td style="text-align: right;">2.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">new beetle</td>
<td style="text-align: right;">1.9</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">44</td>
<td style="text-align: left;">d</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">new beetle</td>
<td style="text-align: right;">1.9</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">41</td>
<td style="text-align: left;">d</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="even">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">new beetle</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">new beetle</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l4)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="even">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">new beetle</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">28</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">new beetle</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">auto(s6)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">r</td>
<td style="text-align: left;">subcompact</td>
</tr>
<tr class="even">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">passat</td>
<td style="text-align: right;">1.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="odd">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">passat</td>
<td style="text-align: right;">1.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="even">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">passat</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">auto(s6)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">28</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="odd">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">passat</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">manual(m6)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="even">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">passat</td>
<td style="text-align: right;">2.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(l5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="odd">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">passat</td>
<td style="text-align: right;">2.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">manual(m5)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">midsize</td>
</tr>
<tr class="even">
<td style="text-align: left;">volkswagen</td>
<td style="text-align: left;">passat</td>
<td style="text-align: right;">3.6</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">auto(s6)</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">p</td>
<td style="text-align: left;">midsize</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<section id="ggplotdata-mapping-aesxy" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="ggplotdata-mapping-aesxy"><span class="header-section-number">4.1</span> <code>ggplot(data =  ,mapping = aes(x,y,…))</code></h2>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-2_1b535bf4e1b85314190623390be18139">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg) <span class="ot">-&gt;</span>p</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<section id="aesthetics-mapping" class="level3" data-number="4.1.1">
<h3 data-number="4.1.1" class="anchored" data-anchor-id="aesthetics-mapping"><span class="header-section-number">4.1.1</span> aesthetics mapping</h3>
<p><code>mapping=aes(x,y,z,..,color,fill,shape,linetype,alpha,size,group,linewidth)</code></p>
</section>
</section>
<section id="geom_" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="geom_"><span class="header-section-number">4.2</span> geom_<geometry></geometry></h2>
<section id="统计变换-statistical-transformations" class="level4" data-number="4.2.0.1">
<h4 data-number="4.2.0.1" class="anchored" data-anchor-id="统计变换-statistical-transformations"><span class="header-section-number">4.2.0.1</span> 统计变换 statistical transformations</h4>
<table>
<thead>
<tr class="header">
<th>Geometry</th>
<th>default stat_transform</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<p><code>stat="count"</code> , <code>"identity"</code>, <code>"summary"</code> , <code>""</code></p>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-3_3ea0d71d4590f22c02bf282e366042a3">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(diamonds) <span class="sc">+</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> cut, <span class="at">y =</span> depth),</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> <span class="st">"errorbar"</span>,</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">fun.min =</span> min,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">fun.max =</span> max,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">fun =</span> median</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="位置调整-position-adjustments" class="level4" data-number="4.2.0.2">
<h4 data-number="4.2.0.2" class="anchored" data-anchor-id="位置调整-position-adjustments"><span class="header-section-number">4.2.0.2</span> 位置调整 position adjustments</h4>
<p><code>position ="identity"</code> , <code>"stack"</code> , <code>"dodge"</code> , <code>"fill"</code> ,…..</p>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-4_4618706f268097367dc4b65f75c9432f">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> drv, <span class="at">fill =</span> class)) <span class="sc">+</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">alpha =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>, <span class="at">position =</span> <span class="st">"identity"</span>)<span class="sc">|</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> drv, <span class="at">color =</span> class)) <span class="sc">+</span> </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">position =</span> <span class="st">"identity"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-5_460976b83cb4ea65147cb4fb95adb50d">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> drv, <span class="at">fill =</span> class)) <span class="sc">+</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span>)<span class="sc">|</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> drv, <span class="at">fill =</span> class)) <span class="sc">+</span> </span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-6_a35a383524c82492066dc8f089df1c83">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy)) <span class="sc">+</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="st">"jitter"</span>)<span class="sc">|</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy)) <span class="sc">+</span> </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="st">"identity"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="x连续型变量" class="level3" data-number="4.2.1">
<h3 data-number="4.2.1" class="anchored" data-anchor-id="x连续型变量"><span class="header-section-number">4.2.1</span> X=连续型变量</h3>
<section id="geom_point-geom_smooth" class="level4" data-number="4.2.1.1">
<h4 data-number="4.2.1.1" class="anchored" data-anchor-id="geom_point-geom_smooth"><span class="header-section-number">4.2.1.1</span> geom_point / geom_smooth</h4>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-7_00b67d5682ed2960a0d07c6ddebf894f">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>displ,<span class="at">y=</span>hwy),</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">stat =</span> <span class="st">"identity"</span>,<span class="at">position =</span> <span class="st">"identity"</span>)<span class="sc">+</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>displ,<span class="at">y=</span>hwy),</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">formula =</span> <span class="st">"y~x"</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span>T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="geom_histogram" class="level4" data-number="4.2.1.2">
<h4 data-number="4.2.1.2" class="anchored" data-anchor-id="geom_histogram"><span class="header-section-number">4.2.1.2</span> geom_histogram</h4>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-8_a75bb84d00dff57d22c24c0178aac586">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x=</span>displ,<span class="at">y=</span><span class="fu">after_stat</span>(density)),</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">stat =</span> <span class="st">"bin"</span>,<span class="at">position =</span> <span class="st">"stack"</span>,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">binwidth =</span> <span class="fl">0.5</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>                   ) <span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">labels=</span>scales<span class="sc">::</span>dollar) <span class="sc">+</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">x=</span>displ,<span class="at">y=</span><span class="fu">after_stat</span>(density)),</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">color=</span><span class="st">"red"</span>, <span class="at">size=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="geom_density" class="level4" data-number="4.2.1.3">
<h4 data-number="4.2.1.3" class="anchored" data-anchor-id="geom_density"><span class="header-section-number">4.2.1.3</span> geom_density</h4>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-9_8ae26f4e3e1c9ce18767d5d225a920cb">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="fu">aes</span>(displ,<span class="at">fill=</span>drv),</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">stat =</span> <span class="st">"density"</span>,<span class="at">position =</span> <span class="st">"identity"</span>,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">alpha=</span><span class="fl">0.3</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>                 )<span class="sc">+</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent)<span class="sc">+</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">fill=</span><span class="st">"图例名"</span>)<span class="sc">+</span> <span class="co"># 与映射aes()有关</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="geom_rug" class="level4" data-number="4.2.1.4">
<h4 data-number="4.2.1.4" class="anchored" data-anchor-id="geom_rug"><span class="header-section-number">4.2.1.4</span> geom_rug</h4>
<p>y→<code>sides="r","l"</code></p>
<p>x→<code>sides="b","t"</code></p>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-10_46b36ee442cee6445b46dc36683a78ef">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_rug</span>(<span class="fu">aes</span>(<span class="at">x=</span>displ,<span class="at">y=</span>hwy),</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">sides =</span> <span class="st">"br"</span>,<span class="at">color=</span><span class="st">"brown"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="geom_jitter" class="level4" data-number="4.2.1.5">
<h4 data-number="4.2.1.5" class="anchored" data-anchor-id="geom_jitter"><span class="header-section-number">4.2.1.5</span> geom_jitter</h4>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-11_58ce2f349cc99acd0226391f5dade77d">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_jitter</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>displ,<span class="at">y=</span>hwy),</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">stat =</span> <span class="st">"identity"</span>,<span class="at">position =</span> <span class="st">"jitter"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="x离散型变量" class="level3" data-number="4.2.2">
<h3 data-number="4.2.2" class="anchored" data-anchor-id="x离散型变量"><span class="header-section-number">4.2.2</span> X=离散型变量</h3>
<section id="geom_bar" class="level4" data-number="4.2.2.1">
<h4 data-number="4.2.2.1" class="anchored" data-anchor-id="geom_bar"><span class="header-section-number">4.2.2.1</span> geom_bar</h4>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-12_215965300bcecacda8af6203d8ae7118">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg) <span class="sc">+</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">factor</span>(cyl),<span class="at">fill=</span>drv),</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">stat =</span> <span class="st">"count"</span>,<span class="at">position =</span> <span class="st">"stack"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg) <span class="sc">+</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">factor</span>(cyl),<span class="at">y=</span>hwy,<span class="at">fill=</span>drv),</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">position =</span> <span class="st">"stack"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-12-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="geom_errorbar" class="level4" data-number="4.2.2.2">
<h4 data-number="4.2.2.2" class="anchored" data-anchor-id="geom_errorbar"><span class="header-section-number">4.2.2.2</span> geom_errorbar</h4>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-13_e9f2f85a1f664a54859ba5cad1058868">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">"data/g.csv"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">mean=</span><span class="fu">mean</span>(liverweight),</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">sd=</span><span class="fu">sd</span>(liverweight),</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">.by=</span>treatment</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(treatment,mean,<span class="at">fill=</span>treatment))<span class="sc">+</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>)<span class="sc">+</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin=</span>mean<span class="sc">-</span>sd,<span class="at">ymax=</span>mean<span class="sc">+</span>sd),<span class="at">width=</span>.<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="geom_dotplot" class="level4" data-number="4.2.2.3">
<h4 data-number="4.2.2.3" class="anchored" data-anchor-id="geom_dotplot"><span class="header-section-number">4.2.2.3</span> geom_dotplot</h4>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-14_c578b15a9bf14ad082b4f11103781503">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_dotplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>drv,<span class="at">y=</span>hwy),</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">position =</span> <span class="st">"identity"</span>,</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">stackdir =</span> <span class="st">"center"</span>,<span class="at">binaxis =</span> <span class="st">'y'</span>,<span class="co"># stacking along y axis</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fill=</span><span class="st">"red"</span>,<span class="at">binwidth =</span> <span class="fl">0.7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="geom_boxplot" class="level4" data-number="4.2.2.4">
<h4 data-number="4.2.2.4" class="anchored" data-anchor-id="geom_boxplot"><span class="header-section-number">4.2.2.4</span> geom_boxplot</h4>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-15_b59fc8e5d3e38275b5ad110d7d11f86b">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_boxplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>drv,<span class="at">y=</span>hwy),</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">stat =</span> <span class="st">"boxplot"</span>,<span class="at">position =</span> <span class="st">"dodge"</span>,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">notch=</span><span class="cn">TRUE</span>, <span class="at">varwidth=</span><span class="cn">TRUE</span>,</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">width=</span><span class="fl">0.1</span>,<span class="at">fill=</span><span class="st">"green"</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>            )<span class="sc">+</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_violin</span>(<span class="fu">aes</span>(<span class="at">x=</span>drv,<span class="at">y=</span>hwy),<span class="at">alpha=</span><span class="fl">0.2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="geom_violin" class="level4" data-number="4.2.2.5">
<h4 data-number="4.2.2.5" class="anchored" data-anchor-id="geom_violin"><span class="header-section-number">4.2.2.5</span> geom_violin</h4>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-16_9b07b68cbfa3b8f5300bd98058937399">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_violin</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>drv,<span class="at">y=</span>hwy),</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">stat =</span> <span class="st">"ydensity"</span>,<span class="at">position =</span> <span class="st">"dodge"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
</section>
<section id="文本标签注释" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="文本标签注释"><span class="header-section-number">4.3</span> 文本标签注释</h2>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-17_1a2e53ffe72bcd0d6b5d92368808c2c8">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(cyl,am) <span class="sc">|&gt;</span> </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">pct =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n),</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">lbls =</span> scales<span class="sc">::</span><span class="fu">percent</span>(pct)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>         )<span class="sc">|&gt;</span> </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">factor</span>(cyl),pct,<span class="at">fill=</span><span class="fu">factor</span>(am)))<span class="sc">+</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>,<span class="at">position =</span> <span class="st">"fill"</span>)<span class="sc">+</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_text</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">label=</span>lbls),</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">position =</span> <span class="fu">position_stack</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">size=</span><span class="dv">3</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>              )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-18_3fa5a290d27b3c14274e1135f560ddcc">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>label_info <span class="ot">&lt;-</span> mpg <span class="sc">|&gt;</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(drv) <span class="sc">|&gt;</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(displ)) <span class="sc">|&gt;</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">1</span>)<span class="sc">|&gt;</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">drive_type =</span> <span class="fu">case_when</span>(       <span class="co"># vectorise multiple if_else () statements </span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>        drv <span class="sc">==</span> <span class="st">"f"</span> <span class="sc">~</span> <span class="st">"front-wheel drive"</span>,</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>        drv <span class="sc">==</span> <span class="st">"r"</span> <span class="sc">~</span> <span class="st">"rear-wheel drive"</span>,</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>        drv <span class="sc">==</span> <span class="st">"4"</span> <span class="sc">~</span> <span class="st">"4-wheel drive"</span>)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>        )<span class="sc">|&gt;</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(displ, hwy, drv, drive_type)</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">color =</span> drv)) <span class="sc">+</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">"lm"</span>,<span class="at">formula=</span><span class="st">"y~x"</span>,<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>p<span class="sc">+</span>  <span class="fu">geom_text</span>(<span class="co">#添加注释  geom_label 标签加背景框</span></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> label_info, </span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">label =</span> drive_type),<span class="co">#label映射</span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">fontface =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">nudge_y =</span> <span class="dv">2</span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> ggrepel<span class="sc">::</span><span class="fu">geom_label_repel</span>(                   </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> label_info, </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">label =</span> drive_type),</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">fontface =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">nudge_y =</span> <span class="dv">2</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-18-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>potential_outliers <span class="ot">&lt;-</span> mpg <span class="sc">|&gt;</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(hwy <span class="sc">&gt;</span> <span class="dv">40</span> <span class="sc">|</span> (hwy <span class="sc">&gt;</span> <span class="dv">20</span> <span class="sc">&amp;</span> displ <span class="sc">&gt;</span> <span class="dv">5</span>))</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy)) <span class="sc">+</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  ggrepel<span class="sc">::</span><span class="fu">geom_text_repel</span>(<span class="at">data =</span> potential_outliers, <span class="fu">aes</span>(<span class="at">label =</span> model)) <span class="sc">+</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> potential_outliers, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> potential_outliers,</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">shape =</span> <span class="st">"circle open"</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-18-3.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-19_df203c9ba3b5c0d3da5072c4388efb44">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">cumsum</span>(x<span class="sc">^</span><span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">quote</span>(x[i]),</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="fu">quote</span>(<span class="fu">sum</span>(x[i] <span class="sc">^</span> <span class="dv">2</span>, i <span class="sc">==</span> <span class="dv">1</span>, n)) <span class="co">#数学方程式</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="坐标系" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="坐标系"><span class="header-section-number">4.4</span> 坐标系</h2>
<p>默认坐标系是笛卡尔坐标系</p>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-20_246bec7ebb4da44a08fc06aa25c497d5">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>bar <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> diamonds) <span class="sc">+</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> clarity, <span class="at">fill =</span> clarity), </span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">width =</span> <span class="dv">1</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">aspect.ratio =</span> <span class="dv">1</span>)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>bar<span class="sc">|</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>bar <span class="sc">+</span> <span class="fu">coord_flip</span>()<span class="sc">|</span> <span class="co">#水平条形图</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>bar <span class="sc">+</span> <span class="fu">coord_polar</span>()<span class="co">#极坐标</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-21_3ed9c369e63f13b9f9b9aa68ee5941b6">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(maps)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>world <span class="ot">&lt;-</span> <span class="fu">map_data</span>(<span class="st">"world"</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(world, <span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">group =</span> group)) <span class="sc">+</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="st">"black"</span>)<span class="sc">|</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(world, <span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">group =</span> group)) <span class="sc">+</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_quickmap</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="scale" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="scale"><span class="header-section-number">4.5</span> scale</h2>
<section id="xy_continuous" class="level3" data-number="4.5.1">
<h3 data-number="4.5.1" class="anchored" data-anchor-id="xy_continuous"><span class="header-section-number">4.5.1</span> x/y_continuous</h3>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-22_1441d72795b32198fa2d7515eb4b9a19">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> wt, <span class="at">y =</span> mpg)) <span class="sc">+</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">"Weight (1000 lbs.)"</span>,   </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">n.breaks =</span> <span class="dv">10</span>,                 </span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">minor_breaks =</span> <span class="cn">NULL</span>,           </span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">limits =</span> <span class="fu">c</span>(<span class="fl">1.5</span>, <span class="fl">5.5</span>)) <span class="sc">+</span>        </span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Miles per gallon"</span>,     </span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">10</span>, <span class="dv">35</span>, <span class="dv">5</span>),       </span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">minor_breaks =</span> <span class="fu">seq</span>(<span class="dv">10</span>, <span class="dv">35</span>, <span class="dv">1</span>), </span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">35</span>)) <span class="sc">+</span>          </span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Fuel efficiency by car weight"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="xy_discrete" class="level3" data-number="4.5.2">
<h3 data-number="4.5.2" class="anchored" data-anchor-id="xy_discrete"><span class="header-section-number">4.5.2</span> x/y_discrete</h3>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-23_2fc4be1f3d633e7f7f845552184e5c0e">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg,<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">factor</span>(drv),<span class="at">fill=</span>class))<span class="sc">+</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span>) <span class="ot">-&gt;</span>p</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>p <span class="sc">|</span> p <span class="sc">+</span> <span class="fu">scale_x_discrete</span>(<span class="at">name =</span> <span class="st">"drv"</span>,                                  </span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">limits =</span> <span class="fu">c</span>(<span class="st">"f"</span>, <span class="st">"r"</span>),    </span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">'f'</span><span class="ot">=</span><span class="st">"drv='f'"</span>,<span class="st">'r'</span><span class="ot">=</span> <span class="st">"drv='r'"</span>),</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>                   <span class="at">position =</span> <span class="st">"top"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="color" class="level3" data-number="4.5.3">
<h3 data-number="4.5.3" class="anchored" data-anchor-id="color"><span class="header-section-number">4.5.3</span> color</h3>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-24_046fbe06913fab61e8a57b9a62a6e98d">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x=</span>wt, <span class="at">y=</span>mpg, <span class="at">color=</span>disp)) <span class="sc">+</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">19</span>, <span class="at">size=</span><span class="dv">3</span>) </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">"A. Default color gradient"</span>)<span class="sc">|</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">scale_color_gradient</span>(<span class="at">low=</span><span class="st">"grey"</span>, <span class="at">high=</span><span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"B. Greyscale gradient"</span>)<span class="sc">|</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">scale_color_gradient</span>(<span class="at">low=</span><span class="st">"red"</span>, <span class="at">high=</span><span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"C. Red-blue color gradient"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">scale_color_steps</span>(<span class="at">low=</span><span class="st">"red"</span>, <span class="at">high=</span><span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"D. Red-blue binned color Gradient"</span>)<span class="sc">|</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">scale_color_steps2</span>(<span class="at">low=</span><span class="st">"red"</span>, <span class="at">mid=</span><span class="st">"white"</span>, <span class="at">high=</span><span class="st">"blue"</span>,</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">midpoint=</span><span class="fu">median</span>(mtcars<span class="sc">$</span>disp)) <span class="sc">+</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"E. Red-white-blue binned gradient"</span>)<span class="sc">|</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">scale_color_viridis_c</span>(<span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>) <span class="sc">+</span>    <span class="co"># viridis_c,d,b</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"F. Viridis color gradient"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-24-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="fill" class="level3" data-number="4.5.4">
<h3 data-number="4.5.4" class="anchored" data-anchor-id="fill"><span class="header-section-number">4.5.4</span> fill</h3>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-25_36e2c351aa5aa224a8c2b85f6e499f28">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mpg,<span class="fu">aes</span>(drv,<span class="at">fill=</span>class))<span class="sc">+</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>()</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">"A. Default colors"</span>)<span class="sc">|</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">scale_fill_brewer</span>(<span class="at">palette=</span><span class="st">"Set2"</span>) <span class="sc">+</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"B. ColorBrewer Set2 palette"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">scale_fill_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"C. Viridis color scheme"</span>)<span class="sc">|</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">scale_fill_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">"gold4"</span>, <span class="st">"orange2"</span>, <span class="st">"deepskyblue3"</span>, <span class="st">"blue4"</span>,</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"brown2"</span>, <span class="st">"yellowgreen"</span>,<span class="st">"lightpink"</span>)) <span class="sc">+</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"D. Manual color selection"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-25-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="分面" class="level2" data-number="4.6">
<h2 data-number="4.6" class="anchored" data-anchor-id="分面"><span class="header-section-number">4.6</span> 分面</h2>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-26_546cef981b47fb73221f701150605028">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>q <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mpg,<span class="fu">aes</span>(<span class="at">x=</span>displ))<span class="sc">+</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill=</span><span class="st">"lightblue"</span>)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 一个分类变量</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>q <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span>drv,<span class="at">nrow =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>q <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span>drv,<span class="at">ncol =</span> <span class="dv">3</span>)  <span class="co"># </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-26-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 多个分类变量</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>q <span class="sc">+</span> <span class="fu">facet_grid</span>(drv<span class="sc">~</span>class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-26-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>q <span class="sc">+</span> <span class="fu">facet_grid</span>(drv<span class="sc">~</span>.)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-26-4.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>q <span class="sc">+</span> <span class="fu">facet_grid</span>(.<span class="sc">~</span>drv)   <span class="co">#</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-26-5.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="主题" class="level2" data-number="4.7">
<h2 data-number="4.7" class="anchored" data-anchor-id="主题"><span class="header-section-number">4.7</span> 主题</h2>
<section id="内置主题" class="level3" data-number="4.7.1">
<h3 data-number="4.7.1" class="anchored" data-anchor-id="内置主题"><span class="header-section-number">4.7.1</span> 内置主题</h3>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-27_6b9ab9daf248d330489d4924d447a992">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">theme_grey</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"theme_grey"</span>)  <span class="sc">|</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">theme_bw</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"theme_bw"</span>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"theme_minimal"</span>)<span class="sc">|</span>  </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">theme_classic</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"theme_classic"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-27-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="字体" class="level3" data-number="4.7.2">
<h3 data-number="4.7.2" class="anchored" data-anchor-id="字体"><span class="header-section-number">4.7.2</span> 字体</h3>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-28_179de0c02eaf680d3065f21577202a1f">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>findfont <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">suppressMessages</span>(<span class="fu">require</span>(showtext))</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">suppressMessages</span>(<span class="fu">require</span>(dplyr))</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="fu">font_files</span>(), <span class="fu">grepl</span>(x, family, <span class="at">ignore.case=</span><span class="cn">TRUE</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(path, file, family, face)</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="fu">findfont</span>(<span class="st">"comic"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">path</th>
<th style="text-align: left;">file</th>
<th style="text-align: left;">family</th>
<th style="text-align: left;">face</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">C:/Windows/Fonts</td>
<td style="text-align: left;">comic.ttf</td>
<td style="text-align: left;">Comic Sans MS</td>
<td style="text-align: left;">Regular</td>
</tr>
<tr class="even">
<td style="text-align: left;">C:/Windows/Fonts</td>
<td style="text-align: left;">comicbd.ttf</td>
<td style="text-align: left;">Comic Sans MS</td>
<td style="text-align: left;">Bold</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C:/Windows/Fonts</td>
<td style="text-align: left;">comici.ttf</td>
<td style="text-align: left;">Comic Sans MS</td>
<td style="text-align: left;">Italic</td>
</tr>
<tr class="even">
<td style="text-align: left;">C:/Windows/Fonts</td>
<td style="text-align: left;">comicz.ttf</td>
<td style="text-align: left;">Comic Sans MS</td>
<td style="text-align: left;">Bold Italic</td>
</tr>
</tbody>
</table>
</div>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">font_add</span>(<span class="at">family =</span> <span class="st">"Times New Roman"</span>, <span class="at">regular =</span> <span class="st">"C:</span><span class="sc">\\</span><span class="st">Windows</span><span class="sc">\\</span><span class="st">Fonts</span><span class="sc">\\</span><span class="st">Times New Roman</span><span class="sc">\\</span><span class="st">times.ttf"</span>,</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">bold =</span> <span class="st">"C:</span><span class="sc">\\</span><span class="st">Windows</span><span class="sc">\\</span><span class="st">Fonts</span><span class="sc">\\</span><span class="st">Times New Roman</span><span class="sc">\\</span><span class="st">timesbd.ttf"</span>,</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">italic =</span> <span class="st">"C:</span><span class="sc">\\</span><span class="st">Windows</span><span class="sc">\\</span><span class="st">Fonts</span><span class="sc">\\</span><span class="st">Times New Roman</span><span class="sc">\\</span><span class="st">timesi.ttf"</span>,</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">bolditalic =</span> <span class="st">"C:</span><span class="sc">\\</span><span class="st">Windows</span><span class="sc">\\</span><span class="st">Fonts</span><span class="sc">\\</span><span class="st">Times New Roman</span><span class="sc">\\</span><span class="st">timesbi.ttf"</span>)</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="fu">findfont</span>(<span class="st">"Times New Roman"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">path</th>
<th style="text-align: left;">file</th>
<th style="text-align: left;">family</th>
<th style="text-align: left;">face</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">C:/Windows/Fonts</td>
<td style="text-align: left;">times.ttf</td>
<td style="text-align: left;">Times New Roman</td>
<td style="text-align: left;">Regular</td>
</tr>
<tr class="even">
<td style="text-align: left;">C:/Windows/Fonts</td>
<td style="text-align: left;">timesbd.ttf</td>
<td style="text-align: left;">Times New Roman</td>
<td style="text-align: left;">Bold</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C:/Windows/Fonts</td>
<td style="text-align: left;">timesbi.ttf</td>
<td style="text-align: left;">Times New Roman</td>
<td style="text-align: left;">Bold Italic</td>
</tr>
<tr class="even">
<td style="text-align: left;">C:/Windows/Fonts</td>
<td style="text-align: left;">timesi.ttf</td>
<td style="text-align: left;">Times New Roman</td>
<td style="text-align: left;">Italic</td>
</tr>
</tbody>
</table>
</div>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">font.families</span>()</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "sans"            "serif"           "mono"            "wqy-microhei"   </span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5] "Times New Roman"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="自定义主题" class="level3" data-number="4.7.3">
<h3 data-number="4.7.3" class="anchored" data-anchor-id="自定义主题"><span class="header-section-number">4.7.3</span> 自定义主题</h3>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-29_108186e5573167e05886e21ac469071b">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>mytheme <span class="ot">&lt;-</span> <span class="fu">theme</span>(<span class="at">plot.title=</span><span class="fu">element_text</span>(<span class="at">face=</span><span class="st">"bold.italic"</span>,  <span class="at">size=</span><span class="st">"14"</span>, <span class="at">color=</span><span class="st">"brown"</span>),</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">axis.title=</span><span class="fu">element_text</span>(<span class="at">face=</span><span class="st">"bold.italic"</span>,  <span class="at">size=</span><span class="dv">10</span>, <span class="at">color=</span><span class="st">"brown"</span>),</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">axis.text=</span><span class="fu">element_text</span>(<span class="at">face=</span><span class="st">"bold"</span>, <span class="at">size=</span><span class="dv">9</span>,  <span class="at">color=</span><span class="st">"darkblue"</span>), </span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">panel.background=</span><span class="fu">element_rect</span>(<span class="at">fill=</span><span class="st">"white"</span>,  <span class="at">color=</span><span class="st">"darkblue"</span>),  </span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">panel.grid.major.y=</span><span class="fu">element_line</span>(<span class="at">color=</span><span class="st">"grey"</span>,  <span class="at">linetype=</span><span class="dv">1</span>),  </span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">panel.grid.minor.y=</span><span class="fu">element_line</span>(<span class="at">color=</span><span class="st">"grey"</span>,  <span class="at">linetype=</span><span class="dv">2</span>),  </span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">panel.grid.minor.x=</span><span class="fu">element_blank</span>(),  <span class="at">legend.position=</span><span class="st">"top"</span>) </span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x=</span>drv, <span class="at">y=</span>hwy, <span class="at">fill=</span>drv)) <span class="sc">+</span>  </span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span>  </span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>  mytheme </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="ggthemes" class="level3" data-number="4.7.4">
<h3 data-number="4.7.4" class="anchored" data-anchor-id="ggthemes"><span class="header-section-number">4.7.4</span> ggthemes</h3>
</section>
<section id="图例" class="level3" data-number="4.7.5">
<h3 data-number="4.7.5" class="anchored" data-anchor-id="图例"><span class="header-section-number">4.7.5</span> 图例</h3>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-30_088f1b9f75b0b2751dc7dcc26684e4c3">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(wt, mpg, <span class="at">color =</span> <span class="fu">factor</span>(cyl))) <span class="sc">+</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size=</span><span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>(<span class="at">name=</span><span class="st">"Cylinders"</span>) <span class="sc">+</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Fuel Efficiency for 32 Automobiles"</span>,</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Weight (1000 lbs)"</span>,</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Miles per gallon"</span>) <span class="sc">+</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(.<span class="dv">95</span>, .<span class="dv">95</span>),</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.justification =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>),</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"lightgrey"</span>,</span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">color =</span> <span class="st">"white"</span>,</span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">linewidth =</span> <span class="dv">1</span>),</span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.key =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.direction =</span> <span class="st">"horizontal"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="绘图区" class="level3" data-number="4.7.6">
<h3 data-number="4.7.6" class="anchored" data-anchor-id="绘图区"><span class="header-section-number">4.7.6</span> 绘图区</h3>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-31_de1aa02f7ad2023efe89f375995dec9a">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>mtcars<span class="sc">$</span>am <span class="ot">&lt;-</span> <span class="fu">factor</span>(mtcars<span class="sc">$</span>am, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Automatic"</span>, <span class="st">"Manual"</span>)) </span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>mtcars, <span class="fu">aes</span>(<span class="at">x =</span> disp, <span class="at">y =</span> mpg)) <span class="sc">+</span>                     </span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color=</span><span class="fu">factor</span>(cyl)), <span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span>                   </span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">"lm"</span>, <span class="at">formula =</span> y <span class="sc">~</span> x <span class="sc">+</span> <span class="fu">I</span>(x<span class="sc">^</span><span class="dv">2</span>),                             </span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">linetype=</span><span class="st">"dotted"</span>, <span class="at">se=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>(<span class="st">"Number of cylinders"</span>) <span class="sc">+</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>am, <span class="at">ncol=</span><span class="dv">2</span>) <span class="sc">+</span>                                      </span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Mileage, transmission type, and number of cylinders"</span>,</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Engine displacement (cu. in.)"</span>,</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Miles per gallon"</span>) <span class="sc">+</span></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span>                                                  </span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">strip.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>),</span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">color=</span><span class="st">"lightgrey"</span>),</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_line</span>(<span class="at">color=</span><span class="st">"lightgrey"</span>,</span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">linetype=</span><span class="st">"dashed"</span>),</span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.key =</span> <span class="fu">element_blank</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="patchwork" class="level2" data-number="4.8">
<h2 data-number="4.8" class="anchored" data-anchor-id="patchwork"><span class="header-section-number">4.8</span> patchwork</h2>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-32_3f401b9b2a3e0efe86155bde7088cbd7">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(disp, mpg)) <span class="sc">+</span>                </span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() </span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="fu">factor</span>(cyl), mpg)) <span class="sc">+</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() </span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(mpg)) <span class="sc">+</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins=</span><span class="dv">8</span>, <span class="at">fill=</span><span class="st">"darkgrey"</span>, <span class="at">color=</span><span class="st">"white"</span>) </span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>p1<span class="sc">+</span>p2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>p1<span class="sc">|</span>p2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-32-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>p1<span class="sc">+</span>p2<span class="sc">/</span>p3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-32-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>p1<span class="sc">/</span>(p2<span class="sc">+</span>p3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-32-4.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>(p1 <span class="sc">|</span> p2) <span class="sc">/</span> p3 <span class="sc">+</span>                                      </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(<span class="at">title =</span> <span class="st">'Fuel Efficiency Data'</span>) <span class="sc">&amp;</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">8</span>),</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">8</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-32-5.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="拓展包" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> 拓展包</h1>
<section id="热图" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="热图"><span class="header-section-number">5.1</span> 热图</h2>
</section>
<section id="sec-correlogram" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="sec-correlogram"><span class="header-section-number">5.2</span> 相关图</h2>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-33_c98aaf3a0182b74ecc011b58d35c273b">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggcorrplot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="ggpubr" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="ggpubr"><span class="header-section-number">5.3</span> ggpubr</h2>
<p>ggplot2 with Publication Ready Graphics in R</p>
<p><a href="https://rpkgs.datanovia.com/ggpubr/" class="uri">https://rpkgs.datanovia.com/ggpubr/</a></p>
<p><a href="https://www.datanovia.com/en/blog/tag/ggpubr/" class="uri">https://www.datanovia.com/en/blog/tag/ggpubr/</a></p>
<section id="ggboxplot" class="level3" data-number="5.3.1">
<h3 data-number="5.3.1" class="anchored" data-anchor-id="ggboxplot"><span class="header-section-number">5.3.1</span> ggboxplot</h3>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-34_3dd456b5ffa6bdf1cb551cc35b3a1abe">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"ToothGrowth"</span>)</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> ToothGrowth</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggboxplot</span>(<span class="at">data =</span> df,</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">x =</span> <span class="st">"dose"</span>,</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> <span class="st">"len"</span>,</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> <span class="st">"dose"</span>,</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">palette =</span> <span class="st">"lancet"</span>,</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">add =</span> <span class="st">"jitter"</span>,</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>               <span class="at">shape =</span><span class="st">"dose"</span>,</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>               <span class="at">bxp.errorbar =</span> <span class="cn">TRUE</span>,</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">bxp.errorbar.width =</span> <span class="fl">0.1</span>,</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>               )</span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>my_compare <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="st">"0.5"</span>,<span class="st">"1"</span>),<span class="fu">c</span>(<span class="st">"1"</span>,<span class="st">"2"</span>),<span class="fu">c</span>(<span class="st">"0.5"</span>,<span class="st">"2"</span>))</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>p<span class="sc">+</span><span class="fu">stat_compare_means</span>(<span class="at">comparisons =</span> my_compare,<span class="at">method =</span> <span class="st">"t.test"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-34-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="ggbarplot" class="level3" data-number="5.3.2">
<h3 data-number="5.3.2" class="anchored" data-anchor-id="ggbarplot"><span class="header-section-number">5.3.2</span> ggbarplot</h3>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-35_1850f9bcfb8903a8f8e49b4f114f9fd5">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggbarplot</span>(<span class="at">data =</span> df,</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">x =</span> <span class="st">"dose"</span>,</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> <span class="st">"len"</span>,</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">"supp"</span>, <span class="co"># fill</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">palette =</span> <span class="st">"lancet"</span>,<span class="co"># "lancet", "jco","npg",</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">add =</span> <span class="fu">c</span>(<span class="st">"mean_se"</span>,<span class="st">"dotplot"</span>), <span class="co">#  mean_sd, mean_ci</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">error.plot =</span> <span class="st">"errorbar"</span>, <span class="co"># upper_errorbar,"lower_errorbar",pointrange,"linerange", "crossbar",</span></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">label =</span> <span class="cn">TRUE</span>,</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">lab.pos =</span> <span class="st">"in"</span>,</span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>          <span class="at">position =</span> <span class="fu">position_dodge</span>(),</span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>              <span class="at">orientation=</span><span class="st">"vertical"</span>,</span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>              <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"0.5"</span>,<span class="st">"2"</span>,<span class="st">"1"</span>),</span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>          )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="grouped-bar-plots-significance" class="level3" data-number="5.3.3">
<h3 data-number="5.3.3" class="anchored" data-anchor-id="grouped-bar-plots-significance"><span class="header-section-number">5.3.3</span> Grouped bar plots + significance</h3>
<p><a href="https://www.datanovia.com/en/blog/how-to-add-p-values-onto-a-grouped-ggplot-using-the-ggpubr-r-package/" class="uri">https://www.datanovia.com/en/blog/how-to-add-p-values-onto-a-grouped-ggplot-using-the-ggpubr-r-package/</a></p>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-36_98e15e96a319aabfba41321737b64ad6">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>ToothGrowth<span class="sc">$</span>dose <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(ToothGrowth<span class="sc">$</span>dose)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Comparisons against reference</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>stat.test <span class="ot">&lt;-</span> <span class="fu">compare_means</span>(</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  len <span class="sc">~</span> dose, <span class="at">data =</span> ToothGrowth, <span class="at">group.by =</span> <span class="st">"supp"</span>,</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">"t.test"</span>, <span class="at">ref.group =</span> <span class="st">"0.5"</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>stat.test</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 7%">
<col style="width: 6%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 13%">
<col style="width: 12%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">supp</th>
<th style="text-align: left;">.y.</th>
<th style="text-align: left;">group1</th>
<th style="text-align: left;">group2</th>
<th style="text-align: right;">p</th>
<th style="text-align: right;">p.adj</th>
<th style="text-align: left;">p.format</th>
<th style="text-align: left;">p.signif</th>
<th style="text-align: left;">method</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">VC</td>
<td style="text-align: left;">len</td>
<td style="text-align: left;">0.5</td>
<td style="text-align: left;">1</td>
<td style="text-align: right;">7.00e-07</td>
<td style="text-align: right;">2.0e-06</td>
<td style="text-align: left;">6.8e-07</td>
<td style="text-align: left;">****</td>
<td style="text-align: left;">T-test</td>
</tr>
<tr class="even">
<td style="text-align: left;">VC</td>
<td style="text-align: left;">len</td>
<td style="text-align: left;">0.5</td>
<td style="text-align: left;">2</td>
<td style="text-align: right;">0.00e+00</td>
<td style="text-align: right;">2.0e-07</td>
<td style="text-align: left;">4.7e-08</td>
<td style="text-align: left;">****</td>
<td style="text-align: left;">T-test</td>
</tr>
<tr class="odd">
<td style="text-align: left;">OJ</td>
<td style="text-align: left;">len</td>
<td style="text-align: left;">0.5</td>
<td style="text-align: left;">1</td>
<td style="text-align: right;">8.78e-05</td>
<td style="text-align: right;">8.8e-05</td>
<td style="text-align: left;">8.8e-05</td>
<td style="text-align: left;">****</td>
<td style="text-align: left;">T-test</td>
</tr>
<tr class="even">
<td style="text-align: left;">OJ</td>
<td style="text-align: left;">len</td>
<td style="text-align: left;">0.5</td>
<td style="text-align: left;">2</td>
<td style="text-align: right;">1.30e-06</td>
<td style="text-align: right;">2.6e-06</td>
<td style="text-align: left;">1.3e-06</td>
<td style="text-align: left;">****</td>
<td style="text-align: left;">T-test</td>
</tr>
</tbody>
</table>
</div>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>bp <span class="ot">&lt;-</span> <span class="fu">ggbarplot</span>(ToothGrowth, <span class="at">x =</span> <span class="st">"supp"</span>, <span class="at">y =</span> <span class="st">"len"</span>,</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">fill =</span> <span class="st">"dose"</span>, <span class="at">palette =</span> <span class="st">"jco"</span>,</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">add =</span> <span class="st">"mean_sd"</span>, <span class="at">add.params =</span> <span class="fu">list</span>(<span class="at">group =</span> <span class="st">"dose"</span>),</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.8</span>))</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>bp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>bp <span class="sc">+</span> <span class="fu">stat_pvalue_manual</span>(</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  stat.test, <span class="at">x =</span> <span class="st">"supp"</span>, <span class="at">y.position =</span> <span class="dv">33</span>,</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">label =</span> <span class="st">"p={p.format}"</span>,</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.8</span>)</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-36-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="ggpubrggdotchart-clevelands-dot-plots" class="level3" data-number="5.3.4">
<h3 data-number="5.3.4" class="anchored" data-anchor-id="ggpubrggdotchart-clevelands-dot-plots"><span class="header-section-number">5.3.4</span> ggpubr::ggdotchart Cleveland’s Dot Plots</h3>
</section>
<section id="ggpubrggdotplot-dot-plot" class="level3" data-number="5.3.5">
<h3 data-number="5.3.5" class="anchored" data-anchor-id="ggpubrggdotplot-dot-plot"><span class="header-section-number">5.3.5</span> ggpubr::ggdotplot Dot plot</h3>
</section>
</section>
<section id="ggrepel" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="ggrepel"><span class="header-section-number">5.4</span> ggrepel</h2>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-37_e6e6dc7e040fed53e660aa26460d60b2">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> mtcars, <span class="fu">aes</span>(<span class="at">x=</span> wt, <span class="at">y =</span> mpg)) <span class="sc">+</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fu">median</span>(mtcars<span class="sc">$</span>mpg),                     </span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">linetype =</span> <span class="st">"dashed"</span>,</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label</span>(<span class="at">x =</span> <span class="fl">5.2</span>, <span class="at">y =</span> <span class="fl">20.5</span>,                                      </span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">label =</span> <span class="st">"median MPG"</span>, </span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"white"</span>, </span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">fill =</span> <span class="st">"steelblue"</span>,</span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">label =</span> <span class="fu">row.names</span>(mtcars), <span class="at">size =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="山脊图" class="level2" data-number="5.5">
<h2 data-number="5.5" class="anchored" data-anchor-id="山脊图"><span class="header-section-number">5.5</span> 山脊图</h2>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-38_73267c3ee6f5b7e47f45479e056da30e">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggridges)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> hwy, <span class="at">y =</span> drv, <span class="at">fill =</span> drv, <span class="at">color =</span> drv)) <span class="sc">+</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="ggplot2_graphics_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="plotly" class="level2" data-number="5.6">
<h2 data-number="5.6" class="anchored" data-anchor-id="plotly"><span class="header-section-number">5.6</span> plotly</h2>
<p>Converting a ggplot2 graph to an interactive plotly graph</p>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-39_b7fc56323b49c2fa2fec5aefbece4133">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>mtcars<span class="sc">$</span>cyl <span class="ot">&lt;-</span> <span class="fu">factor</span>(mtcars<span class="sc">$</span>cyl)</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>mtcars<span class="sc">$</span>name <span class="ot">&lt;-</span> <span class="fu">row.names</span>(mtcars)</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> disp, <span class="at">y=</span> mpg, <span class="at">color =</span> cyl)) <span class="sc">+</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-0ae4f3436c610097dbd3" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-0ae4f3436c610097dbd3">{"x":{"data":[{"x":[108,146.69999999999999,140.80000000000001,78.700000000000003,75.700000000000003,71.099999999999994,120.09999999999999,79,120.3,95.099999999999994,121],"y":[22.800000000000001,24.399999999999999,22.800000000000001,32.399999999999999,30.399999999999999,33.899999999999999,21.5,27.300000000000001,26,30.399999999999999,21.399999999999999],"text":["disp: 108.0<br />mpg: 22.8<br />cyl: 4","disp: 146.7<br />mpg: 24.4<br />cyl: 4","disp: 140.8<br />mpg: 22.8<br />cyl: 4","disp:  78.7<br />mpg: 32.4<br />cyl: 4","disp:  75.7<br />mpg: 30.4<br />cyl: 4","disp:  71.1<br />mpg: 33.9<br />cyl: 4","disp: 120.1<br />mpg: 21.5<br />cyl: 4","disp:  79.0<br />mpg: 27.3<br />cyl: 4","disp: 120.3<br />mpg: 26.0<br />cyl: 4","disp:  95.1<br />mpg: 30.4<br />cyl: 4","disp: 121.0<br />mpg: 21.4<br />cyl: 4"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"4","legendgroup":"4","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[160,160,258,225,167.59999999999999,167.59999999999999,145],"y":[21,21,21.399999999999999,18.100000000000001,19.199999999999999,17.800000000000001,19.699999999999999],"text":["disp: 160.0<br />mpg: 21.0<br />cyl: 6","disp: 160.0<br />mpg: 21.0<br />cyl: 6","disp: 258.0<br />mpg: 21.4<br />cyl: 6","disp: 225.0<br />mpg: 18.1<br />cyl: 6","disp: 167.6<br />mpg: 19.2<br />cyl: 6","disp: 167.6<br />mpg: 17.8<br />cyl: 6","disp: 145.0<br />mpg: 19.7<br />cyl: 6"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,186,56,1)"}},"hoveron":"points","name":"6","legendgroup":"6","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[360,360,275.80000000000001,275.80000000000001,275.80000000000001,472,460,440,318,304,350,400,351,301],"y":[18.699999999999999,14.300000000000001,16.399999999999999,17.300000000000001,15.199999999999999,10.4,10.4,14.699999999999999,15.5,15.199999999999999,13.300000000000001,19.199999999999999,15.800000000000001,15],"text":["disp: 360.0<br />mpg: 18.7<br />cyl: 8","disp: 360.0<br />mpg: 14.3<br />cyl: 8","disp: 275.8<br />mpg: 16.4<br />cyl: 8","disp: 275.8<br />mpg: 17.3<br />cyl: 8","disp: 275.8<br />mpg: 15.2<br />cyl: 8","disp: 472.0<br />mpg: 10.4<br />cyl: 8","disp: 460.0<br />mpg: 10.4<br />cyl: 8","disp: 440.0<br />mpg: 14.7<br />cyl: 8","disp: 318.0<br />mpg: 15.5<br />cyl: 8","disp: 304.0<br />mpg: 15.2<br />cyl: 8","disp: 350.0<br />mpg: 13.3<br />cyl: 8","disp: 400.0<br />mpg: 19.2<br />cyl: 8","disp: 351.0<br />mpg: 15.8<br />cyl: 8","disp: 301.0<br />mpg: 15.0<br />cyl: 8"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(97,156,255,1)"}},"hoveron":"points","name":"8","legendgroup":"8","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.228310502283104,"r":7.3059360730593621,"b":40.182648401826491,"l":37.260273972602747},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[51.054999999999993,492.04500000000002],"tickmode":"array","ticktext":["100","200","300","400"],"tickvals":[100,200,300,400],"categoryorder":"array","categoryarray":["100","200","300","400"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"disp","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[9.2249999999999996,35.074999999999996],"tickmode":"array","ticktext":["10","15","20","25","30","35"],"tickvals":[10,15,20,25,30,35],"categoryorder":"array","categoryarray":["10","15","20","25","30","35"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"mpg","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"cyl","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"275c2bd71abd":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"275c2bd71abd","visdat":{"275c2bd71abd":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-40_5b045208949e0571a25a637b6b6db7f5">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Customizing the plotly tooltip</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mtcars,</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> disp, <span class="at">y=</span>mpg, <span class="at">color=</span>cyl,</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">text =</span> <span class="fu">paste</span>(name, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"mpg:"</span>, mpg, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"disp:"</span>, disp, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"cyl:"</span>, cyl, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"gear:"</span>, gear))) <span class="sc">+</span></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="marginal-histogram-boxplot" class="level2" data-number="5.7">
<h2 data-number="5.7" class="anchored" data-anchor-id="marginal-histogram-boxplot"><span class="header-section-number">5.7</span> Marginal Histogram / Boxplot</h2>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-41_4c45c9840e6301daa03cf627b5fc1173">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggExtra)</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Error in library(package, pos = pos, lib.loc = lib.loc, character.only = TRUE, : there is no package called 'ggExtra'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="森林图" class="level2" data-number="5.8">
<h2 data-number="5.8" class="anchored" data-anchor-id="森林图"><span class="header-section-number">5.8</span> 森林图</h2>
</section>
<section id="ggpie" class="level2" data-number="5.9">
<h2 data-number="5.9" class="anchored" data-anchor-id="ggpie"><span class="header-section-number">5.9</span> ggpie</h2>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-43_ff4c34612858201f5d8f0af882ece876">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>                           </span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(remotes)) <span class="fu">install.packages</span>(<span class="st">"remotes"</span>)</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; package 'remotes' successfully unpacked and MD5 sums checked</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; The downloaded binary packages are in</span></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  C:\Users\DELL\AppData\Local\Temp\RtmpywagK3\downloaded_packages</span></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"rkabacoff/ggpie"</span>)</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Error in loadNamespace(x): there is no package called 'devtools'</span></span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpie)</span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Error in library(package, pos = pos, lib.loc = lib.loc, character.only = TRUE, : there is no package called 'ggpie'</span></span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggpie</span>(mpg, class)</span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Error in `dplyr::pull()`:</span></span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ! Can't extract column with `!!enquo(var)`.</span></span>
<span id="cb61-16"><a href="#cb61-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ✖ `!!enquo(var)` must be numeric or character, not a primitive function.</span></span>
<span id="cb61-17"><a href="#cb61-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-18"><a href="#cb61-18" aria-hidden="true" tabindex="-1"></a><span class="fu">ggpie</span>(mpg, class, <span class="at">legend=</span><span class="cn">FALSE</span>, <span class="at">offset=</span><span class="fl">1.3</span>, </span>
<span id="cb61-19"><a href="#cb61-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">title=</span><span class="st">"Automobiles by Car Class"</span>)</span>
<span id="cb61-20"><a href="#cb61-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Error in `dplyr::pull()`:</span></span>
<span id="cb61-21"><a href="#cb61-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ! Can't extract column with `!!enquo(var)`.</span></span>
<span id="cb61-22"><a href="#cb61-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ✖ `!!enquo(var)` must be numeric or character, not a primitive function.</span></span>
<span id="cb61-23"><a href="#cb61-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-24"><a href="#cb61-24" aria-hidden="true" tabindex="-1"></a><span class="fu">ggpie</span>(mpg, class, year, </span>
<span id="cb61-25"><a href="#cb61-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">legend=</span><span class="cn">FALSE</span>, <span class="at">offset=</span><span class="fl">1.3</span>, <span class="at">title=</span><span class="st">"Car Class by Year"</span>)</span>
<span id="cb61-26"><a href="#cb61-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Error in `dplyr::pull()`:</span></span>
<span id="cb61-27"><a href="#cb61-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ! Can't extract column with `!!enquo(var)`.</span></span>
<span id="cb61-28"><a href="#cb61-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ✖ `!!enquo(var)` must be numeric or character, not a primitive function.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="geom_treemap" class="level2" data-number="5.10">
<h2 data-number="5.10" class="anchored" data-anchor-id="geom_treemap"><span class="header-section-number">5.10</span> geom_treemap</h2>
<div class="cell" data-hash="ggplot2_graphics_cache/html/unnamed-chunk-44_dc2cbdccd6aa923a8be0b089b067f752">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(treemapify)</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Error in library(package, pos = pos, lib.loc = lib.loc, character.only = TRUE, : there is no package called 'treemapify'</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>plotdata <span class="ot">&lt;-</span> mpg <span class="sc">%&gt;%</span> <span class="fu">count</span>(manufacturer)</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(plotdata,</span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">fill =</span> manufacturer,</span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">area =</span> n,</span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> manufacturer)) <span class="sc">+</span></span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_treemap</span>() <span class="sc">+</span></span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_treemap_text</span>() <span class="sc">+</span></span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb62-15"><a href="#cb62-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Error in geom_treemap(): could not find function "geom_treemap"</span></span>
<span id="cb62-16"><a href="#cb62-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-17"><a href="#cb62-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Tree Map with Subgrouping</span></span>
<span id="cb62-18"><a href="#cb62-18" aria-hidden="true" tabindex="-1"></a>plotdata <span class="ot">&lt;-</span> mpg <span class="sc">%&gt;%</span>  </span>
<span id="cb62-19"><a href="#cb62-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(manufacturer, drv)</span>
<span id="cb62-20"><a href="#cb62-20" aria-hidden="true" tabindex="-1"></a>plotdata<span class="sc">$</span>drv <span class="ot">&lt;-</span> <span class="fu">factor</span>(plotdata<span class="sc">$</span>drv, </span>
<span id="cb62-21"><a href="#cb62-21" aria-hidden="true" tabindex="-1"></a>                       <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"4"</span>, <span class="st">"f"</span>, <span class="st">"r"</span>),</span>
<span id="cb62-22"><a href="#cb62-22" aria-hidden="true" tabindex="-1"></a>                       <span class="at">labels=</span><span class="fu">c</span>(<span class="st">"4-wheel"</span>, <span class="st">"front-wheel"</span>, <span class="st">"rear"</span>))</span>
<span id="cb62-23"><a href="#cb62-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-24"><a href="#cb62-24" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(plotdata,</span>
<span id="cb62-25"><a href="#cb62-25" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">fill =</span> manufacturer, </span>
<span id="cb62-26"><a href="#cb62-26" aria-hidden="true" tabindex="-1"></a>           <span class="at">area =</span> n,</span>
<span id="cb62-27"><a href="#cb62-27" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> manufacturer,</span>
<span id="cb62-28"><a href="#cb62-28" aria-hidden="true" tabindex="-1"></a>           <span class="at">subgroup=</span>drv)) <span class="sc">+</span></span>
<span id="cb62-29"><a href="#cb62-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_treemap</span>() <span class="sc">+</span> </span>
<span id="cb62-30"><a href="#cb62-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_treemap_subgroup_border</span>() <span class="sc">+</span></span>
<span id="cb62-31"><a href="#cb62-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_treemap_subgroup_text</span>(</span>
<span id="cb62-32"><a href="#cb62-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">place =</span> <span class="st">"middle"</span>,</span>
<span id="cb62-33"><a href="#cb62-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">colour =</span> <span class="st">"black"</span>,</span>
<span id="cb62-34"><a href="#cb62-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.5</span>,</span>
<span id="cb62-35"><a href="#cb62-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">grow =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb62-36"><a href="#cb62-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_treemap_text</span>(<span class="at">colour =</span> <span class="st">"white"</span>, </span>
<span id="cb62-37"><a href="#cb62-37" aria-hidden="true" tabindex="-1"></a>                    <span class="at">place =</span> <span class="st">"centre"</span>,</span>
<span id="cb62-38"><a href="#cb62-38" aria-hidden="true" tabindex="-1"></a>                    <span class="at">grow=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb62-39"><a href="#cb62-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb62-40"><a href="#cb62-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Error in geom_treemap(): could not find function "geom_treemap"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>


<!-- -->

</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./base_graphics.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">basic graphics</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb63" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># 图形语法 {#sec-ggplot2}</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">ggplot2：用于数据分析的优雅图形</span><span class="co">](https://ggplot2-book.org/mastery)</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a><span class="fu"># `ggplot2::`</span></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(mpg,<span class="at">package =</span> <span class="st">"ggplot2"</span>)</span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a>mpg</span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-13"><a href="#cb63-13" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-14"><a href="#cb63-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-15"><a href="#cb63-15" aria-hidden="true" tabindex="-1"></a><span class="fu">## `ggplot(data =  ,mapping = aes(x,y,…))`</span></span>
<span id="cb63-16"><a href="#cb63-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-19"><a href="#cb63-19" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-20"><a href="#cb63-20" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg) <span class="ot">-&gt;</span>p</span>
<span id="cb63-21"><a href="#cb63-21" aria-hidden="true" tabindex="-1"></a>p</span>
<span id="cb63-22"><a href="#cb63-22" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-23"><a href="#cb63-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-24"><a href="#cb63-24" aria-hidden="true" tabindex="-1"></a><span class="fu">### aesthetics mapping</span></span>
<span id="cb63-25"><a href="#cb63-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-26"><a href="#cb63-26" aria-hidden="true" tabindex="-1"></a><span class="in">`mapping=aes(x,y,z,..,color,fill,shape,linetype,alpha,size,group,linewidth)`</span></span>
<span id="cb63-27"><a href="#cb63-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-28"><a href="#cb63-28" aria-hidden="true" tabindex="-1"></a><span class="fu">## geom\_&lt;geometry&gt;</span></span>
<span id="cb63-29"><a href="#cb63-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-30"><a href="#cb63-30" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 统计变换 statistical transformations</span></span>
<span id="cb63-31"><a href="#cb63-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-32"><a href="#cb63-32" aria-hidden="true" tabindex="-1"></a>| <span class="in">`Geometry`</span>{=html} | <span class="in">`default stat_transform`</span>{=html} |</span>
<span id="cb63-33"><a href="#cb63-33" aria-hidden="true" tabindex="-1"></a>|-------------------|---------------------------------|</span>
<span id="cb63-34"><a href="#cb63-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-35"><a href="#cb63-35" aria-hidden="true" tabindex="-1"></a><span class="in">`stat="count"`</span> , <span class="in">`"identity"`</span>, <span class="in">`"summary"`</span> , <span class="in">`""`</span></span>
<span id="cb63-36"><a href="#cb63-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-39"><a href="#cb63-39" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-40"><a href="#cb63-40" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(diamonds) <span class="sc">+</span> </span>
<span id="cb63-41"><a href="#cb63-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(</span>
<span id="cb63-42"><a href="#cb63-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> cut, <span class="at">y =</span> depth),</span>
<span id="cb63-43"><a href="#cb63-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> <span class="st">"errorbar"</span>,</span>
<span id="cb63-44"><a href="#cb63-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">fun.min =</span> min,</span>
<span id="cb63-45"><a href="#cb63-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">fun.max =</span> max,</span>
<span id="cb63-46"><a href="#cb63-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">fun =</span> median</span>
<span id="cb63-47"><a href="#cb63-47" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb63-48"><a href="#cb63-48" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-49"><a href="#cb63-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-50"><a href="#cb63-50" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 位置调整 position adjustments</span></span>
<span id="cb63-51"><a href="#cb63-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-52"><a href="#cb63-52" aria-hidden="true" tabindex="-1"></a><span class="in">`position ="identity"`</span> , <span class="in">`"stack"`</span> , <span class="in">`"dodge"`</span> , <span class="in">`"fill"`</span> ,.....</span>
<span id="cb63-53"><a href="#cb63-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-56"><a href="#cb63-56" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-57"><a href="#cb63-57" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> drv, <span class="at">fill =</span> class)) <span class="sc">+</span> </span>
<span id="cb63-58"><a href="#cb63-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">alpha =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>, <span class="at">position =</span> <span class="st">"identity"</span>)<span class="sc">|</span></span>
<span id="cb63-59"><a href="#cb63-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-60"><a href="#cb63-60" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> drv, <span class="at">color =</span> class)) <span class="sc">+</span> </span>
<span id="cb63-61"><a href="#cb63-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">position =</span> <span class="st">"identity"</span>)</span>
<span id="cb63-62"><a href="#cb63-62" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-63"><a href="#cb63-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-66"><a href="#cb63-66" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-67"><a href="#cb63-67" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> drv, <span class="at">fill =</span> class)) <span class="sc">+</span> </span>
<span id="cb63-68"><a href="#cb63-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span>)<span class="sc">|</span></span>
<span id="cb63-69"><a href="#cb63-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-70"><a href="#cb63-70" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> drv, <span class="at">fill =</span> class)) <span class="sc">+</span> </span>
<span id="cb63-71"><a href="#cb63-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>)</span>
<span id="cb63-72"><a href="#cb63-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-73"><a href="#cb63-73" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-74"><a href="#cb63-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-77"><a href="#cb63-77" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-78"><a href="#cb63-78" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy)) <span class="sc">+</span> </span>
<span id="cb63-79"><a href="#cb63-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="st">"jitter"</span>)<span class="sc">|</span></span>
<span id="cb63-80"><a href="#cb63-80" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb63-81"><a href="#cb63-81" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy)) <span class="sc">+</span> </span>
<span id="cb63-82"><a href="#cb63-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="st">"identity"</span>)</span>
<span id="cb63-83"><a href="#cb63-83" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-84"><a href="#cb63-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-85"><a href="#cb63-85" aria-hidden="true" tabindex="-1"></a><span class="fu">### X=连续型变量</span></span>
<span id="cb63-86"><a href="#cb63-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-87"><a href="#cb63-87" aria-hidden="true" tabindex="-1"></a><span class="fu">#### geom_point / geom_smooth</span></span>
<span id="cb63-88"><a href="#cb63-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-91"><a href="#cb63-91" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-92"><a href="#cb63-92" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>displ,<span class="at">y=</span>hwy),</span>
<span id="cb63-93"><a href="#cb63-93" aria-hidden="true" tabindex="-1"></a>               <span class="at">stat =</span> <span class="st">"identity"</span>,<span class="at">position =</span> <span class="st">"identity"</span>)<span class="sc">+</span></span>
<span id="cb63-94"><a href="#cb63-94" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>displ,<span class="at">y=</span>hwy),</span>
<span id="cb63-95"><a href="#cb63-95" aria-hidden="true" tabindex="-1"></a>                <span class="at">formula =</span> <span class="st">"y~x"</span>,</span>
<span id="cb63-96"><a href="#cb63-96" aria-hidden="true" tabindex="-1"></a>                <span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span>T)</span>
<span id="cb63-97"><a href="#cb63-97" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-98"><a href="#cb63-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-99"><a href="#cb63-99" aria-hidden="true" tabindex="-1"></a><span class="fu">#### geom_histogram</span></span>
<span id="cb63-100"><a href="#cb63-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-103"><a href="#cb63-103" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-104"><a href="#cb63-104" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x=</span>displ,<span class="at">y=</span><span class="fu">after_stat</span>(density)),</span>
<span id="cb63-105"><a href="#cb63-105" aria-hidden="true" tabindex="-1"></a>                   <span class="at">stat =</span> <span class="st">"bin"</span>,<span class="at">position =</span> <span class="st">"stack"</span>,</span>
<span id="cb63-106"><a href="#cb63-106" aria-hidden="true" tabindex="-1"></a>                   <span class="at">binwidth =</span> <span class="fl">0.5</span></span>
<span id="cb63-107"><a href="#cb63-107" aria-hidden="true" tabindex="-1"></a>                   ) <span class="sc">+</span></span>
<span id="cb63-108"><a href="#cb63-108" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">labels=</span>scales<span class="sc">::</span>dollar) <span class="sc">+</span></span>
<span id="cb63-109"><a href="#cb63-109" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">x=</span>displ,<span class="at">y=</span><span class="fu">after_stat</span>(density)),</span>
<span id="cb63-110"><a href="#cb63-110" aria-hidden="true" tabindex="-1"></a>                 <span class="at">color=</span><span class="st">"red"</span>, <span class="at">size=</span><span class="dv">1</span>)</span>
<span id="cb63-111"><a href="#cb63-111" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-112"><a href="#cb63-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-113"><a href="#cb63-113" aria-hidden="true" tabindex="-1"></a><span class="fu">#### geom_density</span></span>
<span id="cb63-114"><a href="#cb63-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-117"><a href="#cb63-117" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-118"><a href="#cb63-118" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="fu">aes</span>(displ,<span class="at">fill=</span>drv),</span>
<span id="cb63-119"><a href="#cb63-119" aria-hidden="true" tabindex="-1"></a>                 <span class="at">stat =</span> <span class="st">"density"</span>,<span class="at">position =</span> <span class="st">"identity"</span>,</span>
<span id="cb63-120"><a href="#cb63-120" aria-hidden="true" tabindex="-1"></a>                 <span class="at">alpha=</span><span class="fl">0.3</span></span>
<span id="cb63-121"><a href="#cb63-121" aria-hidden="true" tabindex="-1"></a>                 )<span class="sc">+</span></span>
<span id="cb63-122"><a href="#cb63-122" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent)<span class="sc">+</span></span>
<span id="cb63-123"><a href="#cb63-123" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">fill=</span><span class="st">"图例名"</span>)<span class="sc">+</span> <span class="co"># 与映射aes()有关</span></span>
<span id="cb63-124"><a href="#cb63-124" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>)</span>
<span id="cb63-125"><a href="#cb63-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-126"><a href="#cb63-126" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-127"><a href="#cb63-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-128"><a href="#cb63-128" aria-hidden="true" tabindex="-1"></a><span class="fu">#### geom_rug</span></span>
<span id="cb63-129"><a href="#cb63-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-130"><a href="#cb63-130" aria-hidden="true" tabindex="-1"></a>y→<span class="in">`sides="r","l"`</span></span>
<span id="cb63-131"><a href="#cb63-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-132"><a href="#cb63-132" aria-hidden="true" tabindex="-1"></a>x→<span class="in">`sides="b","t"`</span></span>
<span id="cb63-133"><a href="#cb63-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-136"><a href="#cb63-136" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-137"><a href="#cb63-137" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_rug</span>(<span class="fu">aes</span>(<span class="at">x=</span>displ,<span class="at">y=</span>hwy),</span>
<span id="cb63-138"><a href="#cb63-138" aria-hidden="true" tabindex="-1"></a>           <span class="at">sides =</span> <span class="st">"br"</span>,<span class="at">color=</span><span class="st">"brown"</span>)</span>
<span id="cb63-139"><a href="#cb63-139" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-140"><a href="#cb63-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-141"><a href="#cb63-141" aria-hidden="true" tabindex="-1"></a><span class="fu">#### geom_jitter</span></span>
<span id="cb63-142"><a href="#cb63-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-145"><a href="#cb63-145" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-146"><a href="#cb63-146" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_jitter</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>displ,<span class="at">y=</span>hwy),</span>
<span id="cb63-147"><a href="#cb63-147" aria-hidden="true" tabindex="-1"></a>               <span class="at">stat =</span> <span class="st">"identity"</span>,<span class="at">position =</span> <span class="st">"jitter"</span>)</span>
<span id="cb63-148"><a href="#cb63-148" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-149"><a href="#cb63-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-150"><a href="#cb63-150" aria-hidden="true" tabindex="-1"></a><span class="fu">### X=离散型变量</span></span>
<span id="cb63-151"><a href="#cb63-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-152"><a href="#cb63-152" aria-hidden="true" tabindex="-1"></a><span class="fu">#### geom_bar</span></span>
<span id="cb63-153"><a href="#cb63-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-156"><a href="#cb63-156" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-157"><a href="#cb63-157" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg) <span class="sc">+</span> </span>
<span id="cb63-158"><a href="#cb63-158" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">factor</span>(cyl),<span class="at">fill=</span>drv),</span>
<span id="cb63-159"><a href="#cb63-159" aria-hidden="true" tabindex="-1"></a>             <span class="at">stat =</span> <span class="st">"count"</span>,<span class="at">position =</span> <span class="st">"stack"</span>)</span>
<span id="cb63-160"><a href="#cb63-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-161"><a href="#cb63-161" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg) <span class="sc">+</span> </span>
<span id="cb63-162"><a href="#cb63-162" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">factor</span>(cyl),<span class="at">y=</span>hwy,<span class="at">fill=</span>drv),</span>
<span id="cb63-163"><a href="#cb63-163" aria-hidden="true" tabindex="-1"></a>             <span class="at">position =</span> <span class="st">"stack"</span>)</span>
<span id="cb63-164"><a href="#cb63-164" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-165"><a href="#cb63-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-166"><a href="#cb63-166" aria-hidden="true" tabindex="-1"></a><span class="fu">#### geom_errorbar</span></span>
<span id="cb63-167"><a href="#cb63-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-170"><a href="#cb63-170" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-171"><a href="#cb63-171" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">"data/g.csv"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb63-172"><a href="#cb63-172" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb63-173"><a href="#cb63-173" aria-hidden="true" tabindex="-1"></a>        <span class="at">mean=</span><span class="fu">mean</span>(liverweight),</span>
<span id="cb63-174"><a href="#cb63-174" aria-hidden="true" tabindex="-1"></a>        <span class="at">sd=</span><span class="fu">sd</span>(liverweight),</span>
<span id="cb63-175"><a href="#cb63-175" aria-hidden="true" tabindex="-1"></a>        <span class="at">.by=</span>treatment</span>
<span id="cb63-176"><a href="#cb63-176" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb63-177"><a href="#cb63-177" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(treatment,mean,<span class="at">fill=</span>treatment))<span class="sc">+</span></span>
<span id="cb63-178"><a href="#cb63-178" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>)<span class="sc">+</span></span>
<span id="cb63-179"><a href="#cb63-179" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin=</span>mean<span class="sc">-</span>sd,<span class="at">ymax=</span>mean<span class="sc">+</span>sd),<span class="at">width=</span>.<span class="dv">2</span>)</span>
<span id="cb63-180"><a href="#cb63-180" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-181"><a href="#cb63-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-182"><a href="#cb63-182" aria-hidden="true" tabindex="-1"></a><span class="fu">#### geom_dotplot</span></span>
<span id="cb63-183"><a href="#cb63-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-186"><a href="#cb63-186" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-187"><a href="#cb63-187" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_dotplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>drv,<span class="at">y=</span>hwy),</span>
<span id="cb63-188"><a href="#cb63-188" aria-hidden="true" tabindex="-1"></a>                 <span class="at">position =</span> <span class="st">"identity"</span>,</span>
<span id="cb63-189"><a href="#cb63-189" aria-hidden="true" tabindex="-1"></a>                 <span class="at">stackdir =</span> <span class="st">"center"</span>,<span class="at">binaxis =</span> <span class="st">'y'</span>,<span class="co"># stacking along y axis</span></span>
<span id="cb63-190"><a href="#cb63-190" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fill=</span><span class="st">"red"</span>,<span class="at">binwidth =</span> <span class="fl">0.7</span>)</span>
<span id="cb63-191"><a href="#cb63-191" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-192"><a href="#cb63-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-193"><a href="#cb63-193" aria-hidden="true" tabindex="-1"></a><span class="fu">#### geom_boxplot</span></span>
<span id="cb63-194"><a href="#cb63-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-197"><a href="#cb63-197" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-198"><a href="#cb63-198" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_boxplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>drv,<span class="at">y=</span>hwy),</span>
<span id="cb63-199"><a href="#cb63-199" aria-hidden="true" tabindex="-1"></a>             <span class="at">stat =</span> <span class="st">"boxplot"</span>,<span class="at">position =</span> <span class="st">"dodge"</span>,</span>
<span id="cb63-200"><a href="#cb63-200" aria-hidden="true" tabindex="-1"></a>             <span class="at">notch=</span><span class="cn">TRUE</span>, <span class="at">varwidth=</span><span class="cn">TRUE</span>,</span>
<span id="cb63-201"><a href="#cb63-201" aria-hidden="true" tabindex="-1"></a>             <span class="at">width=</span><span class="fl">0.1</span>,<span class="at">fill=</span><span class="st">"green"</span></span>
<span id="cb63-202"><a href="#cb63-202" aria-hidden="true" tabindex="-1"></a>            )<span class="sc">+</span></span>
<span id="cb63-203"><a href="#cb63-203" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_violin</span>(<span class="fu">aes</span>(<span class="at">x=</span>drv,<span class="at">y=</span>hwy),<span class="at">alpha=</span><span class="fl">0.2</span>)</span>
<span id="cb63-204"><a href="#cb63-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-205"><a href="#cb63-205" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-206"><a href="#cb63-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-207"><a href="#cb63-207" aria-hidden="true" tabindex="-1"></a><span class="fu">#### geom_violin</span></span>
<span id="cb63-208"><a href="#cb63-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-211"><a href="#cb63-211" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-212"><a href="#cb63-212" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_violin</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>drv,<span class="at">y=</span>hwy),</span>
<span id="cb63-213"><a href="#cb63-213" aria-hidden="true" tabindex="-1"></a>             <span class="at">stat =</span> <span class="st">"ydensity"</span>,<span class="at">position =</span> <span class="st">"dodge"</span>)</span>
<span id="cb63-214"><a href="#cb63-214" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-215"><a href="#cb63-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-216"><a href="#cb63-216" aria-hidden="true" tabindex="-1"></a><span class="fu">## 文本标签注释</span></span>
<span id="cb63-217"><a href="#cb63-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-220"><a href="#cb63-220" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-221"><a href="#cb63-221" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span></span>
<span id="cb63-222"><a href="#cb63-222" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(cyl,am) <span class="sc">|&gt;</span> </span>
<span id="cb63-223"><a href="#cb63-223" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb63-224"><a href="#cb63-224" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">pct =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n),</span>
<span id="cb63-225"><a href="#cb63-225" aria-hidden="true" tabindex="-1"></a>         <span class="at">lbls =</span> scales<span class="sc">::</span><span class="fu">percent</span>(pct)</span>
<span id="cb63-226"><a href="#cb63-226" aria-hidden="true" tabindex="-1"></a>         )<span class="sc">|&gt;</span> </span>
<span id="cb63-227"><a href="#cb63-227" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">factor</span>(cyl),pct,<span class="at">fill=</span><span class="fu">factor</span>(am)))<span class="sc">+</span></span>
<span id="cb63-228"><a href="#cb63-228" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>,<span class="at">position =</span> <span class="st">"fill"</span>)<span class="sc">+</span></span>
<span id="cb63-229"><a href="#cb63-229" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_text</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">label=</span>lbls),</span>
<span id="cb63-230"><a href="#cb63-230" aria-hidden="true" tabindex="-1"></a>              <span class="at">position =</span> <span class="fu">position_stack</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb63-231"><a href="#cb63-231" aria-hidden="true" tabindex="-1"></a>              <span class="at">size=</span><span class="dv">3</span></span>
<span id="cb63-232"><a href="#cb63-232" aria-hidden="true" tabindex="-1"></a>              )</span>
<span id="cb63-233"><a href="#cb63-233" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-234"><a href="#cb63-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-237"><a href="#cb63-237" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-238"><a href="#cb63-238" aria-hidden="true" tabindex="-1"></a>label_info <span class="ot">&lt;-</span> mpg <span class="sc">|&gt;</span></span>
<span id="cb63-239"><a href="#cb63-239" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(drv) <span class="sc">|&gt;</span></span>
<span id="cb63-240"><a href="#cb63-240" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(displ)) <span class="sc">|&gt;</span></span>
<span id="cb63-241"><a href="#cb63-241" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">1</span>)<span class="sc">|&gt;</span></span>
<span id="cb63-242"><a href="#cb63-242" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb63-243"><a href="#cb63-243" aria-hidden="true" tabindex="-1"></a>        <span class="at">drive_type =</span> <span class="fu">case_when</span>(       <span class="co"># vectorise multiple if_else () statements </span></span>
<span id="cb63-244"><a href="#cb63-244" aria-hidden="true" tabindex="-1"></a>        drv <span class="sc">==</span> <span class="st">"f"</span> <span class="sc">~</span> <span class="st">"front-wheel drive"</span>,</span>
<span id="cb63-245"><a href="#cb63-245" aria-hidden="true" tabindex="-1"></a>        drv <span class="sc">==</span> <span class="st">"r"</span> <span class="sc">~</span> <span class="st">"rear-wheel drive"</span>,</span>
<span id="cb63-246"><a href="#cb63-246" aria-hidden="true" tabindex="-1"></a>        drv <span class="sc">==</span> <span class="st">"4"</span> <span class="sc">~</span> <span class="st">"4-wheel drive"</span>)</span>
<span id="cb63-247"><a href="#cb63-247" aria-hidden="true" tabindex="-1"></a>        )<span class="sc">|&gt;</span></span>
<span id="cb63-248"><a href="#cb63-248" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(displ, hwy, drv, drive_type)</span>
<span id="cb63-249"><a href="#cb63-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-250"><a href="#cb63-250" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">color =</span> drv)) <span class="sc">+</span></span>
<span id="cb63-251"><a href="#cb63-251" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb63-252"><a href="#cb63-252" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">"lm"</span>,<span class="at">formula=</span><span class="st">"y~x"</span>,<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb63-253"><a href="#cb63-253" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb63-254"><a href="#cb63-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-255"><a href="#cb63-255" aria-hidden="true" tabindex="-1"></a>p<span class="sc">+</span>  <span class="fu">geom_text</span>(<span class="co">#添加注释  geom_label 标签加背景框</span></span>
<span id="cb63-256"><a href="#cb63-256" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> label_info, </span>
<span id="cb63-257"><a href="#cb63-257" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">label =</span> drive_type),<span class="co">#label映射</span></span>
<span id="cb63-258"><a href="#cb63-258" aria-hidden="true" tabindex="-1"></a>    <span class="at">fontface =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">nudge_y =</span> <span class="dv">2</span></span>
<span id="cb63-259"><a href="#cb63-259" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb63-260"><a href="#cb63-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-261"><a href="#cb63-261" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> ggrepel<span class="sc">::</span><span class="fu">geom_label_repel</span>(                   </span>
<span id="cb63-262"><a href="#cb63-262" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> label_info, </span>
<span id="cb63-263"><a href="#cb63-263" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">label =</span> drive_type),</span>
<span id="cb63-264"><a href="#cb63-264" aria-hidden="true" tabindex="-1"></a>    <span class="at">fontface =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">nudge_y =</span> <span class="dv">2</span></span>
<span id="cb63-265"><a href="#cb63-265" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb63-266"><a href="#cb63-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-267"><a href="#cb63-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-268"><a href="#cb63-268" aria-hidden="true" tabindex="-1"></a>potential_outliers <span class="ot">&lt;-</span> mpg <span class="sc">|&gt;</span></span>
<span id="cb63-269"><a href="#cb63-269" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(hwy <span class="sc">&gt;</span> <span class="dv">40</span> <span class="sc">|</span> (hwy <span class="sc">&gt;</span> <span class="dv">20</span> <span class="sc">&amp;</span> displ <span class="sc">&gt;</span> <span class="dv">5</span>))</span>
<span id="cb63-270"><a href="#cb63-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-271"><a href="#cb63-271" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy)) <span class="sc">+</span></span>
<span id="cb63-272"><a href="#cb63-272" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb63-273"><a href="#cb63-273" aria-hidden="true" tabindex="-1"></a>  ggrepel<span class="sc">::</span><span class="fu">geom_text_repel</span>(<span class="at">data =</span> potential_outliers, <span class="fu">aes</span>(<span class="at">label =</span> model)) <span class="sc">+</span></span>
<span id="cb63-274"><a href="#cb63-274" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> potential_outliers, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb63-275"><a href="#cb63-275" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb63-276"><a href="#cb63-276" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> potential_outliers,</span>
<span id="cb63-277"><a href="#cb63-277" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">shape =</span> <span class="st">"circle open"</span></span>
<span id="cb63-278"><a href="#cb63-278" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb63-279"><a href="#cb63-279" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-280"><a href="#cb63-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-283"><a href="#cb63-283" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-284"><a href="#cb63-284" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb63-285"><a href="#cb63-285" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,</span>
<span id="cb63-286"><a href="#cb63-286" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">cumsum</span>(x<span class="sc">^</span><span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb63-287"><a href="#cb63-287" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb63-288"><a href="#cb63-288" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb63-289"><a href="#cb63-289" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb63-290"><a href="#cb63-290" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">quote</span>(x[i]),</span>
<span id="cb63-291"><a href="#cb63-291" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="fu">quote</span>(<span class="fu">sum</span>(x[i] <span class="sc">^</span> <span class="dv">2</span>, i <span class="sc">==</span> <span class="dv">1</span>, n)) <span class="co">#数学方程式</span></span>
<span id="cb63-292"><a href="#cb63-292" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb63-293"><a href="#cb63-293" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-294"><a href="#cb63-294" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-295"><a href="#cb63-295" aria-hidden="true" tabindex="-1"></a><span class="fu">## 坐标系</span></span>
<span id="cb63-296"><a href="#cb63-296" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-297"><a href="#cb63-297" aria-hidden="true" tabindex="-1"></a>默认坐标系是笛卡尔坐标系</span>
<span id="cb63-298"><a href="#cb63-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-301"><a href="#cb63-301" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-302"><a href="#cb63-302" aria-hidden="true" tabindex="-1"></a>bar <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> diamonds) <span class="sc">+</span> </span>
<span id="cb63-303"><a href="#cb63-303" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(</span>
<span id="cb63-304"><a href="#cb63-304" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> clarity, <span class="at">fill =</span> clarity), </span>
<span id="cb63-305"><a href="#cb63-305" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb63-306"><a href="#cb63-306" aria-hidden="true" tabindex="-1"></a>    <span class="at">width =</span> <span class="dv">1</span></span>
<span id="cb63-307"><a href="#cb63-307" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb63-308"><a href="#cb63-308" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">aspect.ratio =</span> <span class="dv">1</span>)</span>
<span id="cb63-309"><a href="#cb63-309" aria-hidden="true" tabindex="-1"></a>bar<span class="sc">|</span></span>
<span id="cb63-310"><a href="#cb63-310" aria-hidden="true" tabindex="-1"></a>bar <span class="sc">+</span> <span class="fu">coord_flip</span>()<span class="sc">|</span> <span class="co">#水平条形图</span></span>
<span id="cb63-311"><a href="#cb63-311" aria-hidden="true" tabindex="-1"></a>bar <span class="sc">+</span> <span class="fu">coord_polar</span>()<span class="co">#极坐标</span></span>
<span id="cb63-312"><a href="#cb63-312" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-313"><a href="#cb63-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-316"><a href="#cb63-316" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-317"><a href="#cb63-317" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(maps)</span>
<span id="cb63-318"><a href="#cb63-318" aria-hidden="true" tabindex="-1"></a>world <span class="ot">&lt;-</span> <span class="fu">map_data</span>(<span class="st">"world"</span>)</span>
<span id="cb63-319"><a href="#cb63-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-320"><a href="#cb63-320" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(world, <span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">group =</span> group)) <span class="sc">+</span></span>
<span id="cb63-321"><a href="#cb63-321" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="st">"black"</span>)<span class="sc">|</span></span>
<span id="cb63-322"><a href="#cb63-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-323"><a href="#cb63-323" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(world, <span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">group =</span> group)) <span class="sc">+</span></span>
<span id="cb63-324"><a href="#cb63-324" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb63-325"><a href="#cb63-325" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_quickmap</span>()</span>
<span id="cb63-326"><a href="#cb63-326" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-327"><a href="#cb63-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-328"><a href="#cb63-328" aria-hidden="true" tabindex="-1"></a><span class="fu">## scale</span></span>
<span id="cb63-329"><a href="#cb63-329" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-330"><a href="#cb63-330" aria-hidden="true" tabindex="-1"></a><span class="fu">### x/y_continuous</span></span>
<span id="cb63-331"><a href="#cb63-331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-334"><a href="#cb63-334" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-335"><a href="#cb63-335" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> wt, <span class="at">y =</span> mpg)) <span class="sc">+</span> </span>
<span id="cb63-336"><a href="#cb63-336" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb63-337"><a href="#cb63-337" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">"Weight (1000 lbs.)"</span>,   </span>
<span id="cb63-338"><a href="#cb63-338" aria-hidden="true" tabindex="-1"></a>                     <span class="at">n.breaks =</span> <span class="dv">10</span>,                 </span>
<span id="cb63-339"><a href="#cb63-339" aria-hidden="true" tabindex="-1"></a>                     <span class="at">minor_breaks =</span> <span class="cn">NULL</span>,           </span>
<span id="cb63-340"><a href="#cb63-340" aria-hidden="true" tabindex="-1"></a>                     <span class="at">limits =</span> <span class="fu">c</span>(<span class="fl">1.5</span>, <span class="fl">5.5</span>)) <span class="sc">+</span>        </span>
<span id="cb63-341"><a href="#cb63-341" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Miles per gallon"</span>,     </span>
<span id="cb63-342"><a href="#cb63-342" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">10</span>, <span class="dv">35</span>, <span class="dv">5</span>),       </span>
<span id="cb63-343"><a href="#cb63-343" aria-hidden="true" tabindex="-1"></a>                     <span class="at">minor_breaks =</span> <span class="fu">seq</span>(<span class="dv">10</span>, <span class="dv">35</span>, <span class="dv">1</span>), </span>
<span id="cb63-344"><a href="#cb63-344" aria-hidden="true" tabindex="-1"></a>                     <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">35</span>)) <span class="sc">+</span>          </span>
<span id="cb63-345"><a href="#cb63-345" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Fuel efficiency by car weight"</span>)</span>
<span id="cb63-346"><a href="#cb63-346" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-347"><a href="#cb63-347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-348"><a href="#cb63-348" aria-hidden="true" tabindex="-1"></a><span class="fu">### x/y_discrete</span></span>
<span id="cb63-349"><a href="#cb63-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-352"><a href="#cb63-352" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-353"><a href="#cb63-353" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg,<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">factor</span>(drv),<span class="at">fill=</span>class))<span class="sc">+</span></span>
<span id="cb63-354"><a href="#cb63-354" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span>) <span class="ot">-&gt;</span>p</span>
<span id="cb63-355"><a href="#cb63-355" aria-hidden="true" tabindex="-1"></a>p <span class="sc">|</span> p <span class="sc">+</span> <span class="fu">scale_x_discrete</span>(<span class="at">name =</span> <span class="st">"drv"</span>,                                  </span>
<span id="cb63-356"><a href="#cb63-356" aria-hidden="true" tabindex="-1"></a>                   <span class="at">limits =</span> <span class="fu">c</span>(<span class="st">"f"</span>, <span class="st">"r"</span>),    </span>
<span id="cb63-357"><a href="#cb63-357" aria-hidden="true" tabindex="-1"></a>                   <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">'f'</span><span class="ot">=</span><span class="st">"drv='f'"</span>,<span class="st">'r'</span><span class="ot">=</span> <span class="st">"drv='r'"</span>),</span>
<span id="cb63-358"><a href="#cb63-358" aria-hidden="true" tabindex="-1"></a>                   <span class="at">position =</span> <span class="st">"top"</span>) </span>
<span id="cb63-359"><a href="#cb63-359" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-360"><a href="#cb63-360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-361"><a href="#cb63-361" aria-hidden="true" tabindex="-1"></a><span class="fu">### color</span></span>
<span id="cb63-362"><a href="#cb63-362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-365"><a href="#cb63-365" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-366"><a href="#cb63-366" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x=</span>wt, <span class="at">y=</span>mpg, <span class="at">color=</span>disp)) <span class="sc">+</span></span>
<span id="cb63-367"><a href="#cb63-367" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">19</span>, <span class="at">size=</span><span class="dv">3</span>) </span>
<span id="cb63-368"><a href="#cb63-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-369"><a href="#cb63-369" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">"A. Default color gradient"</span>)<span class="sc">|</span></span>
<span id="cb63-370"><a href="#cb63-370" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">scale_color_gradient</span>(<span class="at">low=</span><span class="st">"grey"</span>, <span class="at">high=</span><span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb63-371"><a href="#cb63-371" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"B. Greyscale gradient"</span>)<span class="sc">|</span></span>
<span id="cb63-372"><a href="#cb63-372" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">scale_color_gradient</span>(<span class="at">low=</span><span class="st">"red"</span>, <span class="at">high=</span><span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb63-373"><a href="#cb63-373" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"C. Red-blue color gradient"</span>)</span>
<span id="cb63-374"><a href="#cb63-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-375"><a href="#cb63-375" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">scale_color_steps</span>(<span class="at">low=</span><span class="st">"red"</span>, <span class="at">high=</span><span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb63-376"><a href="#cb63-376" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"D. Red-blue binned color Gradient"</span>)<span class="sc">|</span></span>
<span id="cb63-377"><a href="#cb63-377" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">scale_color_steps2</span>(<span class="at">low=</span><span class="st">"red"</span>, <span class="at">mid=</span><span class="st">"white"</span>, <span class="at">high=</span><span class="st">"blue"</span>,</span>
<span id="cb63-378"><a href="#cb63-378" aria-hidden="true" tabindex="-1"></a>                       <span class="at">midpoint=</span><span class="fu">median</span>(mtcars<span class="sc">$</span>disp)) <span class="sc">+</span></span>
<span id="cb63-379"><a href="#cb63-379" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"E. Red-white-blue binned gradient"</span>)<span class="sc">|</span></span>
<span id="cb63-380"><a href="#cb63-380" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">scale_color_viridis_c</span>(<span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>) <span class="sc">+</span>    <span class="co"># viridis_c,d,b</span></span>
<span id="cb63-381"><a href="#cb63-381" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"F. Viridis color gradient"</span>)</span>
<span id="cb63-382"><a href="#cb63-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-383"><a href="#cb63-383" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-384"><a href="#cb63-384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-385"><a href="#cb63-385" aria-hidden="true" tabindex="-1"></a><span class="fu">### fill</span></span>
<span id="cb63-386"><a href="#cb63-386" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-389"><a href="#cb63-389" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-390"><a href="#cb63-390" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mpg,<span class="fu">aes</span>(drv,<span class="at">fill=</span>class))<span class="sc">+</span></span>
<span id="cb63-391"><a href="#cb63-391" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>()</span>
<span id="cb63-392"><a href="#cb63-392" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-393"><a href="#cb63-393" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">"A. Default colors"</span>)<span class="sc">|</span></span>
<span id="cb63-394"><a href="#cb63-394" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">scale_fill_brewer</span>(<span class="at">palette=</span><span class="st">"Set2"</span>) <span class="sc">+</span></span>
<span id="cb63-395"><a href="#cb63-395" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"B. ColorBrewer Set2 palette"</span>)</span>
<span id="cb63-396"><a href="#cb63-396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-397"><a href="#cb63-397" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">scale_fill_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb63-398"><a href="#cb63-398" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"C. Viridis color scheme"</span>)<span class="sc">|</span></span>
<span id="cb63-399"><a href="#cb63-399" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">scale_fill_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">"gold4"</span>, <span class="st">"orange2"</span>, <span class="st">"deepskyblue3"</span>, <span class="st">"blue4"</span>,</span>
<span id="cb63-400"><a href="#cb63-400" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"brown2"</span>, <span class="st">"yellowgreen"</span>,<span class="st">"lightpink"</span>)) <span class="sc">+</span></span>
<span id="cb63-401"><a href="#cb63-401" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"D. Manual color selection"</span>)</span>
<span id="cb63-402"><a href="#cb63-402" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-403"><a href="#cb63-403" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-404"><a href="#cb63-404" aria-hidden="true" tabindex="-1"></a><span class="fu">## 分面</span></span>
<span id="cb63-405"><a href="#cb63-405" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-408"><a href="#cb63-408" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-409"><a href="#cb63-409" aria-hidden="true" tabindex="-1"></a>q <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mpg,<span class="fu">aes</span>(<span class="at">x=</span>displ))<span class="sc">+</span></span>
<span id="cb63-410"><a href="#cb63-410" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill=</span><span class="st">"lightblue"</span>)</span>
<span id="cb63-411"><a href="#cb63-411" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-412"><a href="#cb63-412" aria-hidden="true" tabindex="-1"></a><span class="co"># 一个分类变量</span></span>
<span id="cb63-413"><a href="#cb63-413" aria-hidden="true" tabindex="-1"></a>q <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span>drv,<span class="at">nrow =</span> <span class="dv">3</span>)</span>
<span id="cb63-414"><a href="#cb63-414" aria-hidden="true" tabindex="-1"></a>q <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span>drv,<span class="at">ncol =</span> <span class="dv">3</span>)  <span class="co"># </span></span>
<span id="cb63-415"><a href="#cb63-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-416"><a href="#cb63-416" aria-hidden="true" tabindex="-1"></a><span class="co"># 多个分类变量</span></span>
<span id="cb63-417"><a href="#cb63-417" aria-hidden="true" tabindex="-1"></a>q <span class="sc">+</span> <span class="fu">facet_grid</span>(drv<span class="sc">~</span>class)</span>
<span id="cb63-418"><a href="#cb63-418" aria-hidden="true" tabindex="-1"></a>q <span class="sc">+</span> <span class="fu">facet_grid</span>(drv<span class="sc">~</span>.)</span>
<span id="cb63-419"><a href="#cb63-419" aria-hidden="true" tabindex="-1"></a>q <span class="sc">+</span> <span class="fu">facet_grid</span>(.<span class="sc">~</span>drv)   <span class="co">#</span></span>
<span id="cb63-420"><a href="#cb63-420" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-421"><a href="#cb63-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-422"><a href="#cb63-422" aria-hidden="true" tabindex="-1"></a><span class="fu">## 主题</span></span>
<span id="cb63-423"><a href="#cb63-423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-424"><a href="#cb63-424" aria-hidden="true" tabindex="-1"></a><span class="fu">### 内置主题</span></span>
<span id="cb63-425"><a href="#cb63-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-428"><a href="#cb63-428" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-429"><a href="#cb63-429" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">theme_grey</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"theme_grey"</span>)  <span class="sc">|</span></span>
<span id="cb63-430"><a href="#cb63-430" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">theme_bw</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"theme_bw"</span>)  </span>
<span id="cb63-431"><a href="#cb63-431" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"theme_minimal"</span>)<span class="sc">|</span>  </span>
<span id="cb63-432"><a href="#cb63-432" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">theme_classic</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"theme_classic"</span>)</span>
<span id="cb63-433"><a href="#cb63-433" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-434"><a href="#cb63-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-435"><a href="#cb63-435" aria-hidden="true" tabindex="-1"></a><span class="fu">### 字体</span></span>
<span id="cb63-436"><a href="#cb63-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-439"><a href="#cb63-439" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-440"><a href="#cb63-440" aria-hidden="true" tabindex="-1"></a>findfont <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb63-441"><a href="#cb63-441" aria-hidden="true" tabindex="-1"></a>  <span class="fu">suppressMessages</span>(<span class="fu">require</span>(showtext))</span>
<span id="cb63-442"><a href="#cb63-442" aria-hidden="true" tabindex="-1"></a>  <span class="fu">suppressMessages</span>(<span class="fu">require</span>(dplyr))</span>
<span id="cb63-443"><a href="#cb63-443" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="fu">font_files</span>(), <span class="fu">grepl</span>(x, family, <span class="at">ignore.case=</span><span class="cn">TRUE</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb63-444"><a href="#cb63-444" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(path, file, family, face)</span>
<span id="cb63-445"><a href="#cb63-445" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb63-446"><a href="#cb63-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-447"><a href="#cb63-447" aria-hidden="true" tabindex="-1"></a><span class="fu">findfont</span>(<span class="st">"comic"</span>)</span>
<span id="cb63-448"><a href="#cb63-448" aria-hidden="true" tabindex="-1"></a><span class="fu">font_add</span>(<span class="at">family =</span> <span class="st">"Times New Roman"</span>, <span class="at">regular =</span> <span class="st">"C:</span><span class="sc">\\</span><span class="st">Windows</span><span class="sc">\\</span><span class="st">Fonts</span><span class="sc">\\</span><span class="st">Times New Roman</span><span class="sc">\\</span><span class="st">times.ttf"</span>,</span>
<span id="cb63-449"><a href="#cb63-449" aria-hidden="true" tabindex="-1"></a>         <span class="at">bold =</span> <span class="st">"C:</span><span class="sc">\\</span><span class="st">Windows</span><span class="sc">\\</span><span class="st">Fonts</span><span class="sc">\\</span><span class="st">Times New Roman</span><span class="sc">\\</span><span class="st">timesbd.ttf"</span>,</span>
<span id="cb63-450"><a href="#cb63-450" aria-hidden="true" tabindex="-1"></a>         <span class="at">italic =</span> <span class="st">"C:</span><span class="sc">\\</span><span class="st">Windows</span><span class="sc">\\</span><span class="st">Fonts</span><span class="sc">\\</span><span class="st">Times New Roman</span><span class="sc">\\</span><span class="st">timesi.ttf"</span>,</span>
<span id="cb63-451"><a href="#cb63-451" aria-hidden="true" tabindex="-1"></a>         <span class="at">bolditalic =</span> <span class="st">"C:</span><span class="sc">\\</span><span class="st">Windows</span><span class="sc">\\</span><span class="st">Fonts</span><span class="sc">\\</span><span class="st">Times New Roman</span><span class="sc">\\</span><span class="st">timesbi.ttf"</span>)</span>
<span id="cb63-452"><a href="#cb63-452" aria-hidden="true" tabindex="-1"></a><span class="fu">findfont</span>(<span class="st">"Times New Roman"</span>)</span>
<span id="cb63-453"><a href="#cb63-453" aria-hidden="true" tabindex="-1"></a><span class="fu">font.families</span>()</span>
<span id="cb63-454"><a href="#cb63-454" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-455"><a href="#cb63-455" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-456"><a href="#cb63-456" aria-hidden="true" tabindex="-1"></a><span class="fu">### 自定义主题</span></span>
<span id="cb63-457"><a href="#cb63-457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-460"><a href="#cb63-460" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-461"><a href="#cb63-461" aria-hidden="true" tabindex="-1"></a>mytheme <span class="ot">&lt;-</span> <span class="fu">theme</span>(<span class="at">plot.title=</span><span class="fu">element_text</span>(<span class="at">face=</span><span class="st">"bold.italic"</span>,  <span class="at">size=</span><span class="st">"14"</span>, <span class="at">color=</span><span class="st">"brown"</span>),</span>
<span id="cb63-462"><a href="#cb63-462" aria-hidden="true" tabindex="-1"></a>                 <span class="at">axis.title=</span><span class="fu">element_text</span>(<span class="at">face=</span><span class="st">"bold.italic"</span>,  <span class="at">size=</span><span class="dv">10</span>, <span class="at">color=</span><span class="st">"brown"</span>),</span>
<span id="cb63-463"><a href="#cb63-463" aria-hidden="true" tabindex="-1"></a>                 <span class="at">axis.text=</span><span class="fu">element_text</span>(<span class="at">face=</span><span class="st">"bold"</span>, <span class="at">size=</span><span class="dv">9</span>,  <span class="at">color=</span><span class="st">"darkblue"</span>), </span>
<span id="cb63-464"><a href="#cb63-464" aria-hidden="true" tabindex="-1"></a>                 <span class="at">panel.background=</span><span class="fu">element_rect</span>(<span class="at">fill=</span><span class="st">"white"</span>,  <span class="at">color=</span><span class="st">"darkblue"</span>),  </span>
<span id="cb63-465"><a href="#cb63-465" aria-hidden="true" tabindex="-1"></a>                 <span class="at">panel.grid.major.y=</span><span class="fu">element_line</span>(<span class="at">color=</span><span class="st">"grey"</span>,  <span class="at">linetype=</span><span class="dv">1</span>),  </span>
<span id="cb63-466"><a href="#cb63-466" aria-hidden="true" tabindex="-1"></a>                 <span class="at">panel.grid.minor.y=</span><span class="fu">element_line</span>(<span class="at">color=</span><span class="st">"grey"</span>,  <span class="at">linetype=</span><span class="dv">2</span>),  </span>
<span id="cb63-467"><a href="#cb63-467" aria-hidden="true" tabindex="-1"></a>                 <span class="at">panel.grid.minor.x=</span><span class="fu">element_blank</span>(),  <span class="at">legend.position=</span><span class="st">"top"</span>) </span>
<span id="cb63-468"><a href="#cb63-468" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x=</span>drv, <span class="at">y=</span>hwy, <span class="at">fill=</span>drv)) <span class="sc">+</span>  </span>
<span id="cb63-469"><a href="#cb63-469" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span>  </span>
<span id="cb63-470"><a href="#cb63-470" aria-hidden="true" tabindex="-1"></a>  mytheme </span>
<span id="cb63-471"><a href="#cb63-471" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-472"><a href="#cb63-472" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-473"><a href="#cb63-473" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-474"><a href="#cb63-474" aria-hidden="true" tabindex="-1"></a><span class="fu">### ggthemes</span></span>
<span id="cb63-475"><a href="#cb63-475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-476"><a href="#cb63-476" aria-hidden="true" tabindex="-1"></a><span class="fu">### 图例</span></span>
<span id="cb63-477"><a href="#cb63-477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-480"><a href="#cb63-480" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-481"><a href="#cb63-481" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(wt, mpg, <span class="at">color =</span> <span class="fu">factor</span>(cyl))) <span class="sc">+</span></span>
<span id="cb63-482"><a href="#cb63-482" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size=</span><span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb63-483"><a href="#cb63-483" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>(<span class="at">name=</span><span class="st">"Cylinders"</span>) <span class="sc">+</span></span>
<span id="cb63-484"><a href="#cb63-484" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Fuel Efficiency for 32 Automobiles"</span>,</span>
<span id="cb63-485"><a href="#cb63-485" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Weight (1000 lbs)"</span>,</span>
<span id="cb63-486"><a href="#cb63-486" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Miles per gallon"</span>) <span class="sc">+</span></span>
<span id="cb63-487"><a href="#cb63-487" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(.<span class="dv">95</span>, .<span class="dv">95</span>),</span>
<span id="cb63-488"><a href="#cb63-488" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.justification =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>),</span>
<span id="cb63-489"><a href="#cb63-489" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"lightgrey"</span>,</span>
<span id="cb63-490"><a href="#cb63-490" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">color =</span> <span class="st">"white"</span>,</span>
<span id="cb63-491"><a href="#cb63-491" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">linewidth =</span> <span class="dv">1</span>),</span>
<span id="cb63-492"><a href="#cb63-492" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.key =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb63-493"><a href="#cb63-493" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.direction =</span> <span class="st">"horizontal"</span>)</span>
<span id="cb63-494"><a href="#cb63-494" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-495"><a href="#cb63-495" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-496"><a href="#cb63-496" aria-hidden="true" tabindex="-1"></a><span class="fu">### 绘图区</span></span>
<span id="cb63-497"><a href="#cb63-497" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-500"><a href="#cb63-500" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-501"><a href="#cb63-501" aria-hidden="true" tabindex="-1"></a>mtcars<span class="sc">$</span>am <span class="ot">&lt;-</span> <span class="fu">factor</span>(mtcars<span class="sc">$</span>am, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Automatic"</span>, <span class="st">"Manual"</span>)) </span>
<span id="cb63-502"><a href="#cb63-502" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>mtcars, <span class="fu">aes</span>(<span class="at">x =</span> disp, <span class="at">y =</span> mpg)) <span class="sc">+</span>                     </span>
<span id="cb63-503"><a href="#cb63-503" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color=</span><span class="fu">factor</span>(cyl)), <span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span>                   </span>
<span id="cb63-504"><a href="#cb63-504" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">"lm"</span>, <span class="at">formula =</span> y <span class="sc">~</span> x <span class="sc">+</span> <span class="fu">I</span>(x<span class="sc">^</span><span class="dv">2</span>),                             </span>
<span id="cb63-505"><a href="#cb63-505" aria-hidden="true" tabindex="-1"></a>              <span class="at">linetype=</span><span class="st">"dotted"</span>, <span class="at">se=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb63-506"><a href="#cb63-506" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>(<span class="st">"Number of cylinders"</span>) <span class="sc">+</span></span>
<span id="cb63-507"><a href="#cb63-507" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>am, <span class="at">ncol=</span><span class="dv">2</span>) <span class="sc">+</span>                                      </span>
<span id="cb63-508"><a href="#cb63-508" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Mileage, transmission type, and number of cylinders"</span>,</span>
<span id="cb63-509"><a href="#cb63-509" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Engine displacement (cu. in.)"</span>,</span>
<span id="cb63-510"><a href="#cb63-510" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Miles per gallon"</span>) <span class="sc">+</span></span>
<span id="cb63-511"><a href="#cb63-511" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span>                                                  </span>
<span id="cb63-512"><a href="#cb63-512" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">strip.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>),</span>
<span id="cb63-513"><a href="#cb63-513" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">color=</span><span class="st">"lightgrey"</span>),</span>
<span id="cb63-514"><a href="#cb63-514" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_line</span>(<span class="at">color=</span><span class="st">"lightgrey"</span>,</span>
<span id="cb63-515"><a href="#cb63-515" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">linetype=</span><span class="st">"dashed"</span>),</span>
<span id="cb63-516"><a href="#cb63-516" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb63-517"><a href="#cb63-517" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb63-518"><a href="#cb63-518" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.key =</span> <span class="fu">element_blank</span>())</span>
<span id="cb63-519"><a href="#cb63-519" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-520"><a href="#cb63-520" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-521"><a href="#cb63-521" aria-hidden="true" tabindex="-1"></a><span class="fu">## patchwork</span></span>
<span id="cb63-522"><a href="#cb63-522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-525"><a href="#cb63-525" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-526"><a href="#cb63-526" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(disp, mpg)) <span class="sc">+</span>                </span>
<span id="cb63-527"><a href="#cb63-527" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() </span>
<span id="cb63-528"><a href="#cb63-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-529"><a href="#cb63-529" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="fu">factor</span>(cyl), mpg)) <span class="sc">+</span></span>
<span id="cb63-530"><a href="#cb63-530" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() </span>
<span id="cb63-531"><a href="#cb63-531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-532"><a href="#cb63-532" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(mpg)) <span class="sc">+</span></span>
<span id="cb63-533"><a href="#cb63-533" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins=</span><span class="dv">8</span>, <span class="at">fill=</span><span class="st">"darkgrey"</span>, <span class="at">color=</span><span class="st">"white"</span>) </span>
<span id="cb63-534"><a href="#cb63-534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-535"><a href="#cb63-535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-536"><a href="#cb63-536" aria-hidden="true" tabindex="-1"></a>p1<span class="sc">+</span>p2</span>
<span id="cb63-537"><a href="#cb63-537" aria-hidden="true" tabindex="-1"></a>p1<span class="sc">|</span>p2</span>
<span id="cb63-538"><a href="#cb63-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-539"><a href="#cb63-539" aria-hidden="true" tabindex="-1"></a>p1<span class="sc">+</span>p2<span class="sc">/</span>p3</span>
<span id="cb63-540"><a href="#cb63-540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-541"><a href="#cb63-541" aria-hidden="true" tabindex="-1"></a>p1<span class="sc">/</span>(p2<span class="sc">+</span>p3)</span>
<span id="cb63-542"><a href="#cb63-542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-543"><a href="#cb63-543" aria-hidden="true" tabindex="-1"></a>(p1 <span class="sc">|</span> p2) <span class="sc">/</span> p3 <span class="sc">+</span>                                      </span>
<span id="cb63-544"><a href="#cb63-544" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(<span class="at">title =</span> <span class="st">'Fuel Efficiency Data'</span>) <span class="sc">&amp;</span></span>
<span id="cb63-545"><a href="#cb63-545" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb63-546"><a href="#cb63-546" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">8</span>),</span>
<span id="cb63-547"><a href="#cb63-547" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">8</span>))</span>
<span id="cb63-548"><a href="#cb63-548" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-549"><a href="#cb63-549" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-550"><a href="#cb63-550" aria-hidden="true" tabindex="-1"></a><span class="fu"># 拓展包</span></span>
<span id="cb63-551"><a href="#cb63-551" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-552"><a href="#cb63-552" aria-hidden="true" tabindex="-1"></a><span class="fu">## 热图</span></span>
<span id="cb63-553"><a href="#cb63-553" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-554"><a href="#cb63-554" aria-hidden="true" tabindex="-1"></a><span class="fu">## 相关图 {#sec-correlogram}</span></span>
<span id="cb63-555"><a href="#cb63-555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-558"><a href="#cb63-558" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-559"><a href="#cb63-559" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggcorrplot)</span>
<span id="cb63-560"><a href="#cb63-560" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-561"><a href="#cb63-561" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-562"><a href="#cb63-562" aria-hidden="true" tabindex="-1"></a><span class="fu">## ggpubr</span></span>
<span id="cb63-563"><a href="#cb63-563" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-564"><a href="#cb63-564" aria-hidden="true" tabindex="-1"></a>ggplot2 with Publication Ready Graphics in R</span>
<span id="cb63-565"><a href="#cb63-565" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-566"><a href="#cb63-566" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://rpkgs.datanovia.com/ggpubr/&gt;</span></span>
<span id="cb63-567"><a href="#cb63-567" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-568"><a href="#cb63-568" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://www.datanovia.com/en/blog/tag/ggpubr/&gt;</span></span>
<span id="cb63-569"><a href="#cb63-569" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-570"><a href="#cb63-570" aria-hidden="true" tabindex="-1"></a><span class="fu">### ggboxplot</span></span>
<span id="cb63-571"><a href="#cb63-571" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-574"><a href="#cb63-574" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-575"><a href="#cb63-575" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb63-576"><a href="#cb63-576" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"ToothGrowth"</span>)</span>
<span id="cb63-577"><a href="#cb63-577" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> ToothGrowth</span>
<span id="cb63-578"><a href="#cb63-578" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggboxplot</span>(<span class="at">data =</span> df,</span>
<span id="cb63-579"><a href="#cb63-579" aria-hidden="true" tabindex="-1"></a>               <span class="at">x =</span> <span class="st">"dose"</span>,</span>
<span id="cb63-580"><a href="#cb63-580" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> <span class="st">"len"</span>,</span>
<span id="cb63-581"><a href="#cb63-581" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> <span class="st">"dose"</span>,</span>
<span id="cb63-582"><a href="#cb63-582" aria-hidden="true" tabindex="-1"></a>               <span class="at">palette =</span> <span class="st">"lancet"</span>,</span>
<span id="cb63-583"><a href="#cb63-583" aria-hidden="true" tabindex="-1"></a>               <span class="at">add =</span> <span class="st">"jitter"</span>,</span>
<span id="cb63-584"><a href="#cb63-584" aria-hidden="true" tabindex="-1"></a>               <span class="at">shape =</span><span class="st">"dose"</span>,</span>
<span id="cb63-585"><a href="#cb63-585" aria-hidden="true" tabindex="-1"></a>               <span class="at">bxp.errorbar =</span> <span class="cn">TRUE</span>,</span>
<span id="cb63-586"><a href="#cb63-586" aria-hidden="true" tabindex="-1"></a>               <span class="at">bxp.errorbar.width =</span> <span class="fl">0.1</span>,</span>
<span id="cb63-587"><a href="#cb63-587" aria-hidden="true" tabindex="-1"></a>               )</span>
<span id="cb63-588"><a href="#cb63-588" aria-hidden="true" tabindex="-1"></a>p</span>
<span id="cb63-589"><a href="#cb63-589" aria-hidden="true" tabindex="-1"></a>my_compare <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="st">"0.5"</span>,<span class="st">"1"</span>),<span class="fu">c</span>(<span class="st">"1"</span>,<span class="st">"2"</span>),<span class="fu">c</span>(<span class="st">"0.5"</span>,<span class="st">"2"</span>))</span>
<span id="cb63-590"><a href="#cb63-590" aria-hidden="true" tabindex="-1"></a>p<span class="sc">+</span><span class="fu">stat_compare_means</span>(<span class="at">comparisons =</span> my_compare,<span class="at">method =</span> <span class="st">"t.test"</span>)</span>
<span id="cb63-591"><a href="#cb63-591" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-592"><a href="#cb63-592" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-593"><a href="#cb63-593" aria-hidden="true" tabindex="-1"></a><span class="fu">### ggbarplot</span></span>
<span id="cb63-594"><a href="#cb63-594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-597"><a href="#cb63-597" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-598"><a href="#cb63-598" aria-hidden="true" tabindex="-1"></a><span class="fu">ggbarplot</span>(<span class="at">data =</span> df,</span>
<span id="cb63-599"><a href="#cb63-599" aria-hidden="true" tabindex="-1"></a>               <span class="at">x =</span> <span class="st">"dose"</span>,</span>
<span id="cb63-600"><a href="#cb63-600" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> <span class="st">"len"</span>,</span>
<span id="cb63-601"><a href="#cb63-601" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">"supp"</span>, <span class="co"># fill</span></span>
<span id="cb63-602"><a href="#cb63-602" aria-hidden="true" tabindex="-1"></a>               <span class="at">palette =</span> <span class="st">"lancet"</span>,<span class="co"># "lancet", "jco","npg",</span></span>
<span id="cb63-603"><a href="#cb63-603" aria-hidden="true" tabindex="-1"></a>          <span class="at">add =</span> <span class="fu">c</span>(<span class="st">"mean_se"</span>,<span class="st">"dotplot"</span>), <span class="co">#  mean_sd, mean_ci</span></span>
<span id="cb63-604"><a href="#cb63-604" aria-hidden="true" tabindex="-1"></a>          <span class="at">error.plot =</span> <span class="st">"errorbar"</span>, <span class="co"># upper_errorbar,"lower_errorbar",pointrange,"linerange", "crossbar",</span></span>
<span id="cb63-605"><a href="#cb63-605" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb63-606"><a href="#cb63-606" aria-hidden="true" tabindex="-1"></a>              <span class="at">label =</span> <span class="cn">TRUE</span>,</span>
<span id="cb63-607"><a href="#cb63-607" aria-hidden="true" tabindex="-1"></a>              <span class="at">lab.pos =</span> <span class="st">"in"</span>,</span>
<span id="cb63-608"><a href="#cb63-608" aria-hidden="true" tabindex="-1"></a>          <span class="at">position =</span> <span class="fu">position_dodge</span>(),</span>
<span id="cb63-609"><a href="#cb63-609" aria-hidden="true" tabindex="-1"></a>              <span class="at">orientation=</span><span class="st">"vertical"</span>,</span>
<span id="cb63-610"><a href="#cb63-610" aria-hidden="true" tabindex="-1"></a>              <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"0.5"</span>,<span class="st">"2"</span>,<span class="st">"1"</span>),</span>
<span id="cb63-611"><a href="#cb63-611" aria-hidden="true" tabindex="-1"></a>          )</span>
<span id="cb63-612"><a href="#cb63-612" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-613"><a href="#cb63-613" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-614"><a href="#cb63-614" aria-hidden="true" tabindex="-1"></a><span class="fu">### Grouped bar plots + significance</span></span>
<span id="cb63-615"><a href="#cb63-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-616"><a href="#cb63-616" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://www.datanovia.com/en/blog/how-to-add-p-values-onto-a-grouped-ggplot-using-the-ggpubr-r-package/&gt;</span></span>
<span id="cb63-617"><a href="#cb63-617" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-620"><a href="#cb63-620" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-621"><a href="#cb63-621" aria-hidden="true" tabindex="-1"></a>ToothGrowth<span class="sc">$</span>dose <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(ToothGrowth<span class="sc">$</span>dose)</span>
<span id="cb63-622"><a href="#cb63-622" aria-hidden="true" tabindex="-1"></a><span class="co"># Comparisons against reference</span></span>
<span id="cb63-623"><a href="#cb63-623" aria-hidden="true" tabindex="-1"></a>stat.test <span class="ot">&lt;-</span> <span class="fu">compare_means</span>(</span>
<span id="cb63-624"><a href="#cb63-624" aria-hidden="true" tabindex="-1"></a>  len <span class="sc">~</span> dose, <span class="at">data =</span> ToothGrowth, <span class="at">group.by =</span> <span class="st">"supp"</span>,</span>
<span id="cb63-625"><a href="#cb63-625" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">"t.test"</span>, <span class="at">ref.group =</span> <span class="st">"0.5"</span></span>
<span id="cb63-626"><a href="#cb63-626" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb63-627"><a href="#cb63-627" aria-hidden="true" tabindex="-1"></a>stat.test</span>
<span id="cb63-628"><a href="#cb63-628" aria-hidden="true" tabindex="-1"></a>bp <span class="ot">&lt;-</span> <span class="fu">ggbarplot</span>(ToothGrowth, <span class="at">x =</span> <span class="st">"supp"</span>, <span class="at">y =</span> <span class="st">"len"</span>,</span>
<span id="cb63-629"><a href="#cb63-629" aria-hidden="true" tabindex="-1"></a>                <span class="at">fill =</span> <span class="st">"dose"</span>, <span class="at">palette =</span> <span class="st">"jco"</span>,</span>
<span id="cb63-630"><a href="#cb63-630" aria-hidden="true" tabindex="-1"></a>                <span class="at">add =</span> <span class="st">"mean_sd"</span>, <span class="at">add.params =</span> <span class="fu">list</span>(<span class="at">group =</span> <span class="st">"dose"</span>),</span>
<span id="cb63-631"><a href="#cb63-631" aria-hidden="true" tabindex="-1"></a>                <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.8</span>))</span>
<span id="cb63-632"><a href="#cb63-632" aria-hidden="true" tabindex="-1"></a>bp</span>
<span id="cb63-633"><a href="#cb63-633" aria-hidden="true" tabindex="-1"></a>bp <span class="sc">+</span> <span class="fu">stat_pvalue_manual</span>(</span>
<span id="cb63-634"><a href="#cb63-634" aria-hidden="true" tabindex="-1"></a>  stat.test, <span class="at">x =</span> <span class="st">"supp"</span>, <span class="at">y.position =</span> <span class="dv">33</span>,</span>
<span id="cb63-635"><a href="#cb63-635" aria-hidden="true" tabindex="-1"></a>  <span class="at">label =</span> <span class="st">"p={p.format}"</span>,</span>
<span id="cb63-636"><a href="#cb63-636" aria-hidden="true" tabindex="-1"></a>  <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.8</span>)</span>
<span id="cb63-637"><a href="#cb63-637" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb63-638"><a href="#cb63-638" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-639"><a href="#cb63-639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-640"><a href="#cb63-640" aria-hidden="true" tabindex="-1"></a><span class="fu">### ggpubr::ggdotchart Cleveland's Dot Plots</span></span>
<span id="cb63-641"><a href="#cb63-641" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-642"><a href="#cb63-642" aria-hidden="true" tabindex="-1"></a><span class="fu">### ggpubr::ggdotplot Dot plot</span></span>
<span id="cb63-643"><a href="#cb63-643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-644"><a href="#cb63-644" aria-hidden="true" tabindex="-1"></a><span class="fu">## ggrepel</span></span>
<span id="cb63-645"><a href="#cb63-645" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-648"><a href="#cb63-648" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-649"><a href="#cb63-649" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb63-650"><a href="#cb63-650" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> mtcars, <span class="fu">aes</span>(<span class="at">x=</span> wt, <span class="at">y =</span> mpg)) <span class="sc">+</span></span>
<span id="cb63-651"><a href="#cb63-651" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb63-652"><a href="#cb63-652" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fu">median</span>(mtcars<span class="sc">$</span>mpg),                     </span>
<span id="cb63-653"><a href="#cb63-653" aria-hidden="true" tabindex="-1"></a>             <span class="at">linetype =</span> <span class="st">"dashed"</span>,</span>
<span id="cb63-654"><a href="#cb63-654" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb63-655"><a href="#cb63-655" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label</span>(<span class="at">x =</span> <span class="fl">5.2</span>, <span class="at">y =</span> <span class="fl">20.5</span>,                                      </span>
<span id="cb63-656"><a href="#cb63-656" aria-hidden="true" tabindex="-1"></a>             <span class="at">label =</span> <span class="st">"median MPG"</span>, </span>
<span id="cb63-657"><a href="#cb63-657" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"white"</span>, </span>
<span id="cb63-658"><a href="#cb63-658" aria-hidden="true" tabindex="-1"></a>             <span class="at">fill =</span> <span class="st">"steelblue"</span>,</span>
<span id="cb63-659"><a href="#cb63-659" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb63-660"><a href="#cb63-660" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">label =</span> <span class="fu">row.names</span>(mtcars), <span class="at">size =</span> <span class="dv">3</span>)</span>
<span id="cb63-661"><a href="#cb63-661" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-662"><a href="#cb63-662" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-663"><a href="#cb63-663" aria-hidden="true" tabindex="-1"></a><span class="fu">## 山脊图</span></span>
<span id="cb63-664"><a href="#cb63-664" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-667"><a href="#cb63-667" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-668"><a href="#cb63-668" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggridges)</span>
<span id="cb63-669"><a href="#cb63-669" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> hwy, <span class="at">y =</span> drv, <span class="at">fill =</span> drv, <span class="at">color =</span> drv)) <span class="sc">+</span></span>
<span id="cb63-670"><a href="#cb63-670" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span>
<span id="cb63-671"><a href="#cb63-671" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-672"><a href="#cb63-672" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-673"><a href="#cb63-673" aria-hidden="true" tabindex="-1"></a><span class="fu">## plotly</span></span>
<span id="cb63-674"><a href="#cb63-674" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-675"><a href="#cb63-675" aria-hidden="true" tabindex="-1"></a>Converting a ggplot2 graph to an interactive plotly graph</span>
<span id="cb63-676"><a href="#cb63-676" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-679"><a href="#cb63-679" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-680"><a href="#cb63-680" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb63-681"><a href="#cb63-681" aria-hidden="true" tabindex="-1"></a>mtcars<span class="sc">$</span>cyl <span class="ot">&lt;-</span> <span class="fu">factor</span>(mtcars<span class="sc">$</span>cyl)</span>
<span id="cb63-682"><a href="#cb63-682" aria-hidden="true" tabindex="-1"></a>mtcars<span class="sc">$</span>name <span class="ot">&lt;-</span> <span class="fu">row.names</span>(mtcars)</span>
<span id="cb63-683"><a href="#cb63-683" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-684"><a href="#cb63-684" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> disp, <span class="at">y=</span> mpg, <span class="at">color =</span> cyl)) <span class="sc">+</span></span>
<span id="cb63-685"><a href="#cb63-685" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb63-686"><a href="#cb63-686" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p)</span>
<span id="cb63-687"><a href="#cb63-687" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-688"><a href="#cb63-688" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-689"><a href="#cb63-689" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-692"><a href="#cb63-692" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-693"><a href="#cb63-693" aria-hidden="true" tabindex="-1"></a><span class="co"># Customizing the plotly tooltip</span></span>
<span id="cb63-694"><a href="#cb63-694" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mtcars,</span>
<span id="cb63-695"><a href="#cb63-695" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> disp, <span class="at">y=</span>mpg, <span class="at">color=</span>cyl,</span>
<span id="cb63-696"><a href="#cb63-696" aria-hidden="true" tabindex="-1"></a>                <span class="at">text =</span> <span class="fu">paste</span>(name, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb63-697"><a href="#cb63-697" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"mpg:"</span>, mpg, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb63-698"><a href="#cb63-698" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"disp:"</span>, disp, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb63-699"><a href="#cb63-699" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"cyl:"</span>, cyl, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb63-700"><a href="#cb63-700" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"gear:"</span>, gear))) <span class="sc">+</span></span>
<span id="cb63-701"><a href="#cb63-701" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb63-702"><a href="#cb63-702" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-703"><a href="#cb63-703" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-704"><a href="#cb63-704" aria-hidden="true" tabindex="-1"></a><span class="fu">## Marginal Histogram / Boxplot</span></span>
<span id="cb63-705"><a href="#cb63-705" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-708"><a href="#cb63-708" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-709"><a href="#cb63-709" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggExtra)</span>
<span id="cb63-710"><a href="#cb63-710" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-711"><a href="#cb63-711" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-712"><a href="#cb63-712" aria-hidden="true" tabindex="-1"></a><span class="fu">## 森林图</span></span>
<span id="cb63-713"><a href="#cb63-713" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-716"><a href="#cb63-716" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-717"><a href="#cb63-717" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-718"><a href="#cb63-718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-719"><a href="#cb63-719" aria-hidden="true" tabindex="-1"></a><span class="fu">## ggpie</span></span>
<span id="cb63-720"><a href="#cb63-720" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-723"><a href="#cb63-723" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-724"><a href="#cb63-724" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(remotes)) <span class="fu">install.packages</span>(<span class="st">"remotes"</span>)</span>
<span id="cb63-725"><a href="#cb63-725" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"rkabacoff/ggpie"</span>)</span>
<span id="cb63-726"><a href="#cb63-726" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-727"><a href="#cb63-727" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb63-728"><a href="#cb63-728" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpie)</span>
<span id="cb63-729"><a href="#cb63-729" aria-hidden="true" tabindex="-1"></a><span class="fu">ggpie</span>(mpg, class)</span>
<span id="cb63-730"><a href="#cb63-730" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-731"><a href="#cb63-731" aria-hidden="true" tabindex="-1"></a><span class="fu">ggpie</span>(mpg, class, <span class="at">legend=</span><span class="cn">FALSE</span>, <span class="at">offset=</span><span class="fl">1.3</span>, </span>
<span id="cb63-732"><a href="#cb63-732" aria-hidden="true" tabindex="-1"></a>      <span class="at">title=</span><span class="st">"Automobiles by Car Class"</span>)</span>
<span id="cb63-733"><a href="#cb63-733" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-734"><a href="#cb63-734" aria-hidden="true" tabindex="-1"></a><span class="fu">ggpie</span>(mpg, class, year, </span>
<span id="cb63-735"><a href="#cb63-735" aria-hidden="true" tabindex="-1"></a>      <span class="at">legend=</span><span class="cn">FALSE</span>, <span class="at">offset=</span><span class="fl">1.3</span>, <span class="at">title=</span><span class="st">"Car Class by Year"</span>)</span>
<span id="cb63-736"><a href="#cb63-736" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb63-737"><a href="#cb63-737" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-738"><a href="#cb63-738" aria-hidden="true" tabindex="-1"></a><span class="fu">## geom_treemap</span></span>
<span id="cb63-739"><a href="#cb63-739" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-742"><a href="#cb63-742" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb63-743"><a href="#cb63-743" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb63-744"><a href="#cb63-744" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb63-745"><a href="#cb63-745" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(treemapify)</span>
<span id="cb63-746"><a href="#cb63-746" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-747"><a href="#cb63-747" aria-hidden="true" tabindex="-1"></a>plotdata <span class="ot">&lt;-</span> mpg <span class="sc">%&gt;%</span> <span class="fu">count</span>(manufacturer)</span>
<span id="cb63-748"><a href="#cb63-748" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-749"><a href="#cb63-749" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(plotdata,</span>
<span id="cb63-750"><a href="#cb63-750" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">fill =</span> manufacturer,</span>
<span id="cb63-751"><a href="#cb63-751" aria-hidden="true" tabindex="-1"></a>           <span class="at">area =</span> n,</span>
<span id="cb63-752"><a href="#cb63-752" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> manufacturer)) <span class="sc">+</span></span>
<span id="cb63-753"><a href="#cb63-753" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_treemap</span>() <span class="sc">+</span></span>
<span id="cb63-754"><a href="#cb63-754" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_treemap_text</span>() <span class="sc">+</span></span>
<span id="cb63-755"><a href="#cb63-755" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb63-756"><a href="#cb63-756" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-757"><a href="#cb63-757" aria-hidden="true" tabindex="-1"></a><span class="co"># Tree Map with Subgrouping</span></span>
<span id="cb63-758"><a href="#cb63-758" aria-hidden="true" tabindex="-1"></a>plotdata <span class="ot">&lt;-</span> mpg <span class="sc">%&gt;%</span>  </span>
<span id="cb63-759"><a href="#cb63-759" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(manufacturer, drv)</span>
<span id="cb63-760"><a href="#cb63-760" aria-hidden="true" tabindex="-1"></a>plotdata<span class="sc">$</span>drv <span class="ot">&lt;-</span> <span class="fu">factor</span>(plotdata<span class="sc">$</span>drv, </span>
<span id="cb63-761"><a href="#cb63-761" aria-hidden="true" tabindex="-1"></a>                       <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"4"</span>, <span class="st">"f"</span>, <span class="st">"r"</span>),</span>
<span id="cb63-762"><a href="#cb63-762" aria-hidden="true" tabindex="-1"></a>                       <span class="at">labels=</span><span class="fu">c</span>(<span class="st">"4-wheel"</span>, <span class="st">"front-wheel"</span>, <span class="st">"rear"</span>))</span>
<span id="cb63-763"><a href="#cb63-763" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-764"><a href="#cb63-764" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(plotdata,</span>
<span id="cb63-765"><a href="#cb63-765" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">fill =</span> manufacturer, </span>
<span id="cb63-766"><a href="#cb63-766" aria-hidden="true" tabindex="-1"></a>           <span class="at">area =</span> n,</span>
<span id="cb63-767"><a href="#cb63-767" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> manufacturer,</span>
<span id="cb63-768"><a href="#cb63-768" aria-hidden="true" tabindex="-1"></a>           <span class="at">subgroup=</span>drv)) <span class="sc">+</span></span>
<span id="cb63-769"><a href="#cb63-769" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_treemap</span>() <span class="sc">+</span> </span>
<span id="cb63-770"><a href="#cb63-770" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_treemap_subgroup_border</span>() <span class="sc">+</span></span>
<span id="cb63-771"><a href="#cb63-771" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_treemap_subgroup_text</span>(</span>
<span id="cb63-772"><a href="#cb63-772" aria-hidden="true" tabindex="-1"></a>    <span class="at">place =</span> <span class="st">"middle"</span>,</span>
<span id="cb63-773"><a href="#cb63-773" aria-hidden="true" tabindex="-1"></a>    <span class="at">colour =</span> <span class="st">"black"</span>,</span>
<span id="cb63-774"><a href="#cb63-774" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.5</span>,</span>
<span id="cb63-775"><a href="#cb63-775" aria-hidden="true" tabindex="-1"></a>    <span class="at">grow =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb63-776"><a href="#cb63-776" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_treemap_text</span>(<span class="at">colour =</span> <span class="st">"white"</span>, </span>
<span id="cb63-777"><a href="#cb63-777" aria-hidden="true" tabindex="-1"></a>                    <span class="at">place =</span> <span class="st">"centre"</span>,</span>
<span id="cb63-778"><a href="#cb63-778" aria-hidden="true" tabindex="-1"></a>                    <span class="at">grow=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb63-779"><a href="#cb63-779" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb63-780"><a href="#cb63-780" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>